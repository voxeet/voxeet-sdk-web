/*! For license information please see voxeet-sdk.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VoxeetSDK=t():e.VoxeetSDK=t()}(this,(function(){return function(){var e={9644:function(e,t,i){e.exports=i(5644)},353:function(e,t,i){"use strict";var n=i(3044),r=i(6955),o=i(2233),a=i(8030),s=i(7948),c=i(1875),u=i(842),d=i(8618),l=i(8560),h=i(6714);e.exports=function(e){return new Promise((function(t,i){var p,m=e.data,f=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(m)&&delete f["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(y+":"+b)}var w=s(e.baseURL,e.url);function _(){if(k){var n="getAllResponseHeaders"in k?c(k.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:n,config:e,request:k};r((function(e){t(e),v()}),(function(e){i(e),v()}),o),k=null}}if(k.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=_:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(_)},k.onabort=function(){k&&(i(d("Request aborted",e,"ECONNABORTED",k)),k=null)},k.onerror=function(){i(d("Network Error",e,null,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(d(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",k)),k=null},n.isStandardBrowserEnv()){var S=(e.withCredentials||u(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(f[e.xsrfHeaderName]=S)}"setRequestHeader"in k&&n.forEach(f,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete f[t]:k.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),g&&"json"!==g&&(k.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(i(!e||e&&e.type?new h("canceled"):e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),m||(m=null),k.send(m)}))}},5644:function(e,t,i){"use strict";var n=i(3044),r=i(3644),o=i(2215),a=i(2937),s=function e(t){var i=new o(t),s=r(o.prototype.request,i);return n.extend(s,o.prototype,i),n.extend(s,i),s.create=function(i){return e(a(t,i))},s}(i(663));s.Axios=o,s.Cancel=i(6714),s.CancelToken=i(4089),s.isCancel=i(8041),s.VERSION=i(9241).version,s.all=function(e){return Promise.all(e)},s.spread=i(783),s.isAxiosError=i(5587),e.exports=s,e.exports.default=s},6714:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4089:function(e,t,i){"use strict";var n=i(6714);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;this.promise.then((function(e){if(i._listeners){var t,n=i._listeners.length;for(t=0;t<n;t++)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e){i.reason||(i.reason=new n(e),t(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},8041:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},2215:function(e,t,i){"use strict";var n=i(3044),r=i(8030),o=i(946),a=i(6895),s=i(2937),c=i(7525),u=c.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var i=t.transitional;void 0!==i&&c.assertOptions(i,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(d),o=Promise.resolve(t);l.length;)o=o.then(l.shift(),l.shift());return o}for(var h=t;n.length;){var p=n.shift(),m=n.shift();try{h=p(h)}catch(e){m(e);break}}try{o=a(h)}catch(e){return Promise.reject(e)}for(;d.length;)o=o.then(d.shift(),d.shift());return o},d.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,i){return this.request(s(i||{},{method:e,url:t,data:(i||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){d.prototype[e]=function(t,i,n){return this.request(s(n||{},{method:e,url:t,data:i}))}})),e.exports=d},946:function(e,t,i){"use strict";var n=i(3044);function r(){this.handlers=[]}r.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},7948:function(e,t,i){"use strict";var n=i(9192),r=i(8762);e.exports=function(e,t){return e&&!n(t)?r(e,t):t}},8618:function(e,t,i){"use strict";var n=i(1935);e.exports=function(e,t,i,r,o){var a=new Error(e);return n(a,t,i,r,o)}},6895:function(e,t,i){"use strict";var n=i(3044),r=i(8556),o=i(8041),a=i(663),s=i(6714);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},1935:function(e){"use strict";e.exports=function(e,t,i,n,r){return e.config=t,i&&(e.code=i),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},2937:function(e,t,i){"use strict";var n=i(3044);e.exports=function(e,t){t=t||{};var i={};function r(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(i){return n.isUndefined(t[i])?n.isUndefined(e[i])?void 0:r(void 0,e[i]):r(e[i],t[i])}function a(e){if(!n.isUndefined(t[e]))return r(void 0,t[e])}function s(i){return n.isUndefined(t[i])?n.isUndefined(e[i])?void 0:r(void 0,e[i]):r(void 0,t[i])}function c(i){return i in t?r(e[i],t[i]):i in e?r(void 0,e[i]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,r=t(e);n.isUndefined(r)&&t!==c||(i[e]=r)})),i}},6955:function(e,t,i){"use strict";var n=i(8618);e.exports=function(e,t,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},8556:function(e,t,i){"use strict";var n=i(3044),r=i(663);e.exports=function(e,t,i){var o=this||r;return n.forEach(i,(function(i){e=i.call(o,e,t)})),e}},663:function(e,t,i){"use strict";var n=i(3044),r=i(8868),o=i(1935),a=i(8560),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,d={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=i(353)),u),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,i){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,i=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||r&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){d.headers[e]=n.merge(s)})),e.exports=d},8560:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9241:function(e){e.exports={version:"0.26.1"}},3644:function(e){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},8030:function(e,t,i){"use strict";var n=i(3044);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},8762:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},2233:function(e,t,i){"use strict";var n=i(3044);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9192:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},5587:function(e,t,i){"use strict";var n=i(3044);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},842:function(e,t,i){"use strict";var n=i(3044);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=n.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},8868:function(e,t,i){"use strict";var n=i(3044);e.exports=function(e,t){n.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))}},1875:function(e,t,i){"use strict";var n=i(3044),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),i=n.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}})),a):a}},783:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7525:function(e,t,i){"use strict";var n=i(9241).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));var o={};r.transitional=function(e,t,i){function r(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return function(i,n,a){if(!1===e)throw new Error(r(n," has been removed"+(t?" in "+t:"")));return t&&!o[n]&&(o[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,a)}},e.exports={assertOptions:function(e,t,i){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),r=n.length;r-- >0;){var o=n[r],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==i)throw Error("Unknown option "+o)}},validators:r}},3044:function(e,t,i){"use strict";var n=i(3644),r=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===r.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===r.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:d,isStream:function(e){return c(e)&&d(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===r.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function i(i,n){u(t[n])&&u(i)?t[n]=e(t[n],i):u(i)?t[n]=e({},i):o(i)?t[n]=i.slice():t[n]=i}for(var n=0,r=arguments.length;n<r;n++)l(arguments[n],i);return t},extend:function(e,t,i){return l(t,(function(t,r){e[r]=i&&"function"==typeof t?n(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},7160:function(e){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=90)}({17:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(18),r=function(){function e(){}return e.getFirstMatch=function(e,t){var i=t.match(e);return i&&i.length>0&&i[1]||""},e.getSecondMatch=function(e,t){var i=t.match(e);return i&&i.length>1&&i[2]||""},e.matchAndReturnConst=function(e,t,i){if(e.test(t))return i},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,i,n){void 0===n&&(n=!1);var r=e.getVersionPrecision(t),o=e.getVersionPrecision(i),a=Math.max(r,o),s=0,c=e.map([t,i],(function(t){var i=a-e.getVersionPrecision(t),n=t+new Array(i+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=a-Math.min(r,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var i,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i+=1)n.push(t(e[i]));return n},e.find=function(e,t){var i,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(i=0,n=e.length;i<n;i+=1){var r=e[i];if(t(r,i))return r}},e.assign=function(e){for(var t,i,n=e,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,i=o.length;t<i;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=r,e.exports=t.default},18:function(e,t,i){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(91))&&n.__esModule?n:{default:n},o=i(18);function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,i;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new r.default(e,t)},e.parse=function(e){return new r.default(e).getResult()},t=e,i=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&a(t.prototype,null),i&&a(t,i),e}();t.default=s,e.exports=t.default},91:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=c(i(92)),r=c(i(93)),o=c(i(94)),a=c(i(95)),s=c(i(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,i={},n=0,r={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(r[t]=a,o+=1):"object"==typeof a&&(i[t]=a,n+=1)})),n>0){var a=Object.keys(i),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(i[c]);if(void 0!==u)return u}var d=s.default.find(a,(function(e){return t.isPlatform(e)}));if(d){var l=this.satisfies(i[d]);if(void 0!==l)return l}}if(o>0){var h=Object.keys(r),p=s.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(r[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var i=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),r=s.default.getBrowserTypeByAlias(n);return t&&r&&(n=r.toLowerCase()),n===i},t.compareVersion=function(e){var t=[0],i=e,n=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(i=e.substr(1),"="===e[1]?(n=!0,i=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?i=e.substr(1):"~"===e[0]&&(n=!0,i=e.substr(1)),t.indexOf(s.default.compareVersions(r,i,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},i=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},i=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},i=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},i=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},i=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},i=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},i=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},i=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},i=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},i=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},i=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},i=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},i=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},i=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},i=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return i&&(t.version=i),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},i=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},i=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},i=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},i=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},i=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},i=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},i=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},i=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},i=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},i=r.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},i=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},i=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},i=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){var t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe:function(e){var t={name:"Android Browser"},i=r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},i=r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},i=r.default.getFirstMatch(o,e);return i&&(t.version=i),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},o=i(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),i=r.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},i=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return i&&(t.version=i),t}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),i=r.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return i&&(n.versionName=i),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe:function(e){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),i=r.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return i&&(n.versionName=i),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),i={name:o.OS_MAP.WebOS};return t&&t.length&&(i.version=t),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},o=i(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",i={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(i.model=t),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),i=e.test(/like (ipod|iphone)/i);return t&&!i},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n},o=i(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},i=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},i=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:function(e){var t=e.test(/gecko/i),i=e.test(/like gecko/i);return t&&!i},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},i=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},i=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}}];t.default=a,e.exports=t.default}})},5792:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},9562:function(e){var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,n=0;i<e.length;i++,n+=8)t[n>>>5]|=e[i]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?i.push(t.charAt(r>>>6*(3-o)&63)):i.push("=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&i.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(n))>>>6-2*r);return i}},e.exports=i},2699:function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,o,a,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(r(o=this._events[e]))return!1;if(i(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),o.apply(this,s)}else if(n(o))for(s=Array.prototype.slice.call(arguments,1),a=(u=o.slice()).length,c=0;c<a;c++)u[c].apply(this,s);return!0},t.prototype.addListener=function(e,o){var a;if(!i(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(o.listener)?o.listener:o),this._events[e]?n(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,n(this._events[e])&&!this._events[e].warned&&(a=r(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},t.prototype.removeListener=function(e,t){var r,o,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,o=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},3335:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},3958:function(e,t,i){e=i.nmd(e);var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",f="[object RegExp]",g="[object Set]",v="[object String]",k="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",w=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[a]=S[y]=S[s]=S[b]=S[c]=S[u]=S[d]=S[l]=S[h]=S[p]=S[f]=S[g]=S[v]=S[k]=!1;var j="object"==typeof global&&global&&global.Object===Object&&global,T="object"==typeof self&&self&&self.Object===Object&&self,C=j||T||Function("return this")(),E=t&&!t.nodeType&&t,x=E&&e&&!e.nodeType&&e,M=x&&x.exports===E,P=M&&j.process,I=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),R=I&&I.isTypedArray;function D(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function A(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function O(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var F,z,L,N=Array.prototype,U=Function.prototype,V=Object.prototype,B=C["__core-js_shared__"],W=U.toString,G=V.hasOwnProperty,H=(F=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",Y=V.toString,q=RegExp("^"+W.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=M?C.Buffer:void 0,$=C.Symbol,J=C.Uint8Array,K=V.propertyIsEnumerable,Z=N.splice,Q=$?$.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=X?X.isBuffer:void 0,ie=(z=Object.keys,L=Object,function(e){return z(L(e))}),ne=xe(C,"DataView"),re=xe(C,"Map"),oe=xe(C,"Promise"),ae=xe(C,"Set"),se=xe(C,"WeakMap"),ce=xe(Object,"create"),ue=Re(ne),de=Re(re),le=Re(oe),he=Re(ae),pe=Re(se),me=$?$.prototype:void 0,fe=me?me.valueOf:void 0;function ge(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new ke;++t<i;)this.add(e[t])}function be(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){for(var i=e.length;i--;)if(De(e[i][0],t))return i;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=G.call(e,Q),i=e[Q];try{e[Q]=void 0;var n=!0}catch(e){}var r=Y.call(e);return n&&(t?e[Q]=i:delete e[Q]),r}(e):function(e){return Y.call(e)}(e)}function Se(e){return Ue(e)&&_e(e)==o}function je(e,t,i,n,r){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!=e&&t!=t:function(e,t,i,n,r,d){var m=Oe(e),k=Oe(t),w=m?a:Pe(e),_=k?a:Pe(t),S=(w=w==o?p:w)==p,j=(_=_==o?p:_)==p,T=w==_;if(T&&Fe(e)){if(!Fe(t))return!1;m=!0,S=!1}if(T&&!S)return d||(d=new be),m||Ve(e)?Te(e,t,i,n,r,d):function(e,t,i,n,r,o,a){switch(i){case b:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!o(new J(e),new J(t)));case s:case c:case h:return De(+e,+t);case u:return e.name==t.name&&e.message==t.message;case f:case v:return e==t+"";case l:var d=A;case g:var p=1&n;if(d||(d=O),e.size!=t.size&&!p)return!1;var m=a.get(e);if(m)return m==t;n|=2,a.set(e,t);var k=Te(d(e),d(t),n,r,o,a);return a.delete(e),k;case"[object Symbol]":if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,w,i,n,r,d);if(!(1&i)){var C=S&&G.call(e,"__wrapped__"),E=j&&G.call(t,"__wrapped__");if(C||E){var x=C?e.value():e,M=E?t.value():t;return d||(d=new be),r(x,M,i,n,d)}}return!!T&&(d||(d=new be),function(e,t,i,n,r,o){var a=1&i,s=Ce(e),c=s.length;if(c!=Ce(t).length&&!a)return!1;for(var u=c;u--;){var d=s[u];if(!(a?d in t:G.call(t,d)))return!1}var l=o.get(e);if(l&&o.get(t))return l==t;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<c;){var m=e[d=s[u]],f=t[d];if(n)var g=a?n(f,m,d,t,e,o):n(m,f,d,e,t,o);if(!(void 0===g?m===f||r(m,f,i,n,o):g)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var v=e.constructor,k=t.constructor;v==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof k&&k instanceof k||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,i,n,r,d))}(e,t,i,n,je,r))}function Te(e,t,i,n,r,o){var a=1&i,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var d=-1,l=!0,h=2&i?new ye:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],m=t[d];if(n)var f=a?n(m,p,d,t,e,o):n(p,m,d,e,t,o);if(void 0!==f){if(f)continue;l=!1;break}if(h){if(!D(t,(function(e,t){if(a=t,!h.has(a)&&(p===e||r(p,e,i,n,o)))return h.push(t);var a}))){l=!1;break}}else if(p!==m&&!r(p,m,i,n,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function Ce(e){return function(e,t,i){var n=t(e);return Oe(e)?n:function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}(n,i(e))}(e,Be,Me)}function Ee(e,t){var i,n,r=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function xe(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ne(e)||function(e){return!!H&&H in e}(e))&&(ze(e)?q:w).test(Re(e))}(i)?i:void 0}ge.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(ce){var i=t[e];return i===n?void 0:i}return G.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:G.call(t,e)},ge.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ce&&void 0===t?n:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,i=we(t,e);return!(i<0||(i==t.length-1?t.pop():Z.call(t,i,1),--this.size,0))},ve.prototype.get=function(e){var t=this.__data__,i=we(t,e);return i<0?void 0:t[i][1]},ve.prototype.has=function(e){return we(this.__data__,e)>-1},ve.prototype.set=function(e,t){var i=this.__data__,n=we(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(re||ve),string:new ge}},ke.prototype.delete=function(e){var t=Ee(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Ee(this,e).get(e)},ke.prototype.has=function(e){return Ee(this,e).has(e)},ke.prototype.set=function(e,t){var i=Ee(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,n),this},ye.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new ve,this.size=0},be.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var i=this.__data__;if(i instanceof ve){var n=i.__data__;if(!re||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new ke(n)}return i.set(e,t),this.size=i.size,this};var Me=ee?function(e){return null==e?[]:(e=Object(e),function(t,i){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var s=t[n];c=s,K.call(e,c)&&(a[o++]=s)}var c;return a}(ee(e)))}:function(){return[]},Pe=_e;function Ie(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function De(e,t){return e===t||e!=e&&t!=t}(ne&&Pe(new ne(new ArrayBuffer(1)))!=b||re&&Pe(new re)!=l||oe&&Pe(oe.resolve())!=m||ae&&Pe(new ae)!=g||se&&Pe(new se)!=k)&&(Pe=function(e){var t=_e(e),i=t==p?e.constructor:void 0,n=i?Re(i):"";if(n)switch(n){case ue:return b;case de:return l;case le:return m;case he:return g;case pe:return k}return t});var Ae=Se(function(){return arguments}())?Se:function(e){return Ue(e)&&G.call(e,"callee")&&!K.call(e,"callee")},Oe=Array.isArray,Fe=te||function(){return!1};function ze(e){if(!Ne(e))return!1;var t=_e(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Le(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ne(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==typeof e}var Ve=R?function(e){return function(t){return e(t)}}(R):function(e){return Ue(e)&&Le(e.length)&&!!S[_e(e)]};function Be(e){return null!=(t=e)&&Le(t.length)&&!ze(t)?function(e,t){var i=Oe(e),n=!i&&Ae(e),r=!i&&!n&&Fe(e),o=!i&&!n&&!r&&Ve(e),a=i||n||r||o,s=a?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!G.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ie(u,c))||s.push(u);return s}(e):function(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||V))return ie(e);var t,i,n=[];for(var r in Object(e))G.call(e,r)&&"constructor"!=r&&n.push(r);return n}(e);var t}e.exports=function(e,t){return je(e,t)}},1344:function(e,t,i){e=i.nmd(e);var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[a]=d["[object Map]"]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var l="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,p=l||h||Function("return this")(),m=t&&!t.nodeType&&t,f=m&&e&&!e.nodeType&&e,g=f&&f.exports===m,v=g&&l.process,k=function(){try{return f&&f.require&&f.require("util").types||v&&v.binding&&v.binding("util")}catch(e){}}(),y=k&&k.isTypedArray;function b(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var w,_,S,j=Array.prototype,T=Function.prototype,C=Object.prototype,E=p["__core-js_shared__"],x=T.toString,M=C.hasOwnProperty,P=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",I=C.toString,R=x.call(Object),D=RegExp("^"+x.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=g?p.Buffer:void 0,O=p.Symbol,F=p.Uint8Array,z=(A&&A.allocUnsafe,_=Object.getPrototypeOf,S=Object,function(e){return _(S(e))}),L=Object.create,N=C.propertyIsEnumerable,U=j.splice,V=O?O.toStringTag:void 0,B=function(){try{var e=ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),W=A?A.isBuffer:void 0,G=Math.max,H=Date.now,Y=ce(p,"Map"),q=ce(Object,"create"),X=function(){function e(){}return function(t){if(!be(t))return{};if(L)return L(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function $(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=this.__data__=new J(e);this.size=t.size}function Q(e,t,i){(void 0!==i&&!pe(e[t],i)||void 0===i&&!(t in e))&&ie(e,t,i)}function ee(e,t,i){var n=e[t];M.call(e,t)&&pe(n,i)&&(void 0!==i||t in e)||ie(e,t,i)}function te(e,t){for(var i=e.length;i--;)if(pe(e[i][0],t))return i;return-1}function ie(e,t,i){"__proto__"==t&&B?B(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}$.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},$.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$.prototype.get=function(e){var t=this.__data__;if(q){var i=t[e];return i===n?void 0:i}return M.call(t,e)?t[e]:void 0},$.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:M.call(t,e)},$.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=q&&void 0===t?n:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,i=te(t,e);return!(i<0||(i==t.length-1?t.pop():U.call(t,i,1),--this.size,0))},J.prototype.get=function(e){var t=this.__data__,i=te(t,e);return i<0?void 0:t[i][1]},J.prototype.has=function(e){return te(this.__data__,e)>-1},J.prototype.set=function(e,t){var i=this.__data__,n=te(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new $,map:new(Y||J),string:new $}},K.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return se(this,e).get(e)},K.prototype.has=function(e){return se(this,e).has(e)},K.prototype.set=function(e,t){var i=se(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new J,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var i=this.__data__;if(i instanceof J){var n=i.__data__;if(!Y||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new K(n)}return i.set(e,t),this.size=i.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var t=M.call(e,V),i=e[V];try{e[V]=void 0;var n=!0}catch(e){}var r=I.call(e);return n&&(t?e[V]=i:delete e[V]),r}(e):function(e){return I.call(e)}(e)}function re(e){return we(e)&&ne(e)==o}function oe(e,t,i,n,r){e!==t&&function(e,t,i){for(var n=-1,r=Object(e),o=i(e),a=o.length;a--;){var s=o[++n];if(!1===t(r[s],s,r))break}}(t,(function(o,a){if(r||(r=new Z),be(o))!function(e,t,i,n,r,o,a){var c=le(e,i),u=le(t,i),d=a.get(u);if(d)Q(e,i,d);else{var l,h,p,m,f,g=o?o(c,u,i+"",e,t,a):void 0,v=void 0===g;if(v){var k=fe(u),y=!k&&ve(u),b=!k&&!y&&_e(u);g=u,k||y||b?fe(c)?g=c:we(f=c)&&ge(f)?g=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(c):y?(v=!1,g=function(e,t){return e.slice()}(u)):b?(v=!1,m=new(p=(l=u).buffer).constructor(p.byteLength),new F(m).set(new F(p)),h=m,g=new l.constructor(h,l.byteOffset,l.length)):g=[]:function(e){if(!we(e)||ne(e)!=s)return!1;var t=z(e);if(null===t)return!0;var i=M.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&x.call(i)==R}(u)||me(u)?(g=c,me(c)?g=function(e){return function(e,t,i,n){var r=!i;i||(i={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=void 0;void 0===c&&(c=e[s]),r?ie(i,s,c):ee(i,s,c)}return i}(e,Se(e))}(c):be(c)&&!ke(c)||(g=function(e){return"function"!=typeof e.constructor||de(e)?{}:X(z(e))}(u))):v=!1}v&&(a.set(u,g),r(g,u,n,o,a),a.delete(u)),Q(e,i,g)}}(e,t,a,i,oe,n,r);else{var c=n?n(le(e,a),o,a+"",e,t,r):void 0;void 0===c&&(c=o),Q(e,a,c)}}),Se)}var ae=B?function(e,t){return B(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:Ce;function se(e,t){var i,n,r=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function ce(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!be(e)||function(e){return!!P&&P in e}(e))&&(ke(e)?D:c).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(i)?i:void 0}function ue(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&u.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function le(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var he=function(e){var t=0,i=0;return function(){var n=H(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ae);function pe(e,t){return e===t||e!=e&&t!=t}var me=re(function(){return arguments}())?re:function(e){return we(e)&&M.call(e,"callee")&&!N.call(e,"callee")},fe=Array.isArray;function ge(e){return null!=e&&ye(e.length)&&!ke(e)}var ve=W||function(){return!1};function ke(e){if(!be(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var _e=y?function(e){return function(t){return e(t)}}(y):function(e){return we(e)&&ye(e.length)&&!!d[ne(e)]};function Se(e){return ge(e)?function(e,t){var i=fe(e),n=!i&&me(e),r=!i&&!n&&ve(e),o=!i&&!n&&!r&&_e(e),a=i||n||r||o,s=a?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!M.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ue(u,c))||s.push(u);return s}(e,!0):function(e){if(!be(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=de(e),i=[];for(var n in e)("constructor"!=n||!t&&M.call(e,n))&&i.push(n);return i}(e)}var je,Te=(je=function(e,t,i){oe(e,t,i)},function(e,t){return he(function(e,t,i){return t=G(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=G(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=i(a),b(e,this,s)}}(e,t,Ce),e+"")}((function(e,t){var i=-1,n=t.length,r=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(r=je.length>3&&"function"==typeof r?(n--,r):void 0,o&&function(e,t,i){if(!be(i))return!1;var n=typeof t;return!!("number"==n?ge(i)&&ue(t,i.length):"string"==n&&t in i)&&pe(i[t],e)}(t[0],t[1],o)&&(r=n<3?void 0:r,n=1),e=Object(e);++i<n;){var a=t[i];a&&je(e,a,i)}return e})));function Ce(e){return e}e.exports=Te},9640:function(e,t,i){var n,r;!function(o,a){"use strict";n=function(){var e=function(){},t="undefined",i=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(e,t){var i=e[t];if("function"==typeof i.bind)return i.bind(e);try{return Function.prototype.bind.call(i,e)}catch(t){return function(){return Function.prototype.apply.apply(i,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&i?o:void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):e)}function s(t,i){for(var r=0;r<n.length;r++){var o=n[r];this[o]=r<t?e:this.methodFactory(o,t,i)}this.log=this.debug}function c(e,i,n){return function(){typeof console!==t&&(s.call(this,i,n),this[e].apply(this,arguments))}}function u(e,t,i){return a(e)||c.apply(this,arguments)}function d(e,i,r){var o,a=this;i=null==i?"WARN":i;var c="loglevel";function d(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var i=window.document.cookie,n=i.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(i.slice(n))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=r||u,a.getLevel=function(){return o},a.setLevel=function(i,r){if("string"==typeof i&&void 0!==a.levels[i.toUpperCase()]&&(i=a.levels[i.toUpperCase()]),!("number"==typeof i&&i>=0&&i<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+i;if(o=i,!1!==r&&function(e){var i=(n[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=i)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+i+";"}catch(e){}}}(i),s.call(a,i,e),typeof console===t&&i<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){i=e,d()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(i,!1),function(){if(typeof window!==t&&c){try{return void window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var l=d();null==l&&(l=i),a.setLevel(l,!1)}var l=new d,h={};l.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new d(e,l.getLevel(),l.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=p),l},l.getLoggers=function(){return h},l.default=l,l},void 0===(r=n.call(t,i,t,e))||(e.exports=r)}()},1323:function(e,t,i){var n,r,o,a,s;n=i(9562),r=i(5792).utf8,o=i(3335),a=i(5792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var i=n.bytesToWords(e),c=8*e.length,u=1732584193,d=-271733879,l=-1732584194,h=271733878,p=0;p<i.length;p++)i[p]=16711935&(i[p]<<8|i[p]>>>24)|4278255360&(i[p]<<24|i[p]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var m=s._ff,f=s._gg,g=s._hh,v=s._ii;for(p=0;p<i.length;p+=16){var k=u,y=d,b=l,w=h;u=m(u,d,l,h,i[p+0],7,-680876936),h=m(h,u,d,l,i[p+1],12,-389564586),l=m(l,h,u,d,i[p+2],17,606105819),d=m(d,l,h,u,i[p+3],22,-1044525330),u=m(u,d,l,h,i[p+4],7,-176418897),h=m(h,u,d,l,i[p+5],12,1200080426),l=m(l,h,u,d,i[p+6],17,-1473231341),d=m(d,l,h,u,i[p+7],22,-45705983),u=m(u,d,l,h,i[p+8],7,1770035416),h=m(h,u,d,l,i[p+9],12,-1958414417),l=m(l,h,u,d,i[p+10],17,-42063),d=m(d,l,h,u,i[p+11],22,-1990404162),u=m(u,d,l,h,i[p+12],7,1804603682),h=m(h,u,d,l,i[p+13],12,-40341101),l=m(l,h,u,d,i[p+14],17,-1502002290),u=f(u,d=m(d,l,h,u,i[p+15],22,1236535329),l,h,i[p+1],5,-165796510),h=f(h,u,d,l,i[p+6],9,-1069501632),l=f(l,h,u,d,i[p+11],14,643717713),d=f(d,l,h,u,i[p+0],20,-373897302),u=f(u,d,l,h,i[p+5],5,-701558691),h=f(h,u,d,l,i[p+10],9,38016083),l=f(l,h,u,d,i[p+15],14,-660478335),d=f(d,l,h,u,i[p+4],20,-405537848),u=f(u,d,l,h,i[p+9],5,568446438),h=f(h,u,d,l,i[p+14],9,-1019803690),l=f(l,h,u,d,i[p+3],14,-187363961),d=f(d,l,h,u,i[p+8],20,1163531501),u=f(u,d,l,h,i[p+13],5,-1444681467),h=f(h,u,d,l,i[p+2],9,-51403784),l=f(l,h,u,d,i[p+7],14,1735328473),u=g(u,d=f(d,l,h,u,i[p+12],20,-1926607734),l,h,i[p+5],4,-378558),h=g(h,u,d,l,i[p+8],11,-2022574463),l=g(l,h,u,d,i[p+11],16,1839030562),d=g(d,l,h,u,i[p+14],23,-35309556),u=g(u,d,l,h,i[p+1],4,-1530992060),h=g(h,u,d,l,i[p+4],11,1272893353),l=g(l,h,u,d,i[p+7],16,-155497632),d=g(d,l,h,u,i[p+10],23,-1094730640),u=g(u,d,l,h,i[p+13],4,681279174),h=g(h,u,d,l,i[p+0],11,-358537222),l=g(l,h,u,d,i[p+3],16,-722521979),d=g(d,l,h,u,i[p+6],23,76029189),u=g(u,d,l,h,i[p+9],4,-640364487),h=g(h,u,d,l,i[p+12],11,-421815835),l=g(l,h,u,d,i[p+15],16,530742520),u=v(u,d=g(d,l,h,u,i[p+2],23,-995338651),l,h,i[p+0],6,-198630844),h=v(h,u,d,l,i[p+7],10,1126891415),l=v(l,h,u,d,i[p+14],15,-1416354905),d=v(d,l,h,u,i[p+5],21,-57434055),u=v(u,d,l,h,i[p+12],6,1700485571),h=v(h,u,d,l,i[p+3],10,-1894986606),l=v(l,h,u,d,i[p+10],15,-1051523),d=v(d,l,h,u,i[p+1],21,-2054922799),u=v(u,d,l,h,i[p+8],6,1873313359),h=v(h,u,d,l,i[p+15],10,-30611744),l=v(l,h,u,d,i[p+6],15,-1560198380),d=v(d,l,h,u,i[p+13],21,1309151649),u=v(u,d,l,h,i[p+4],6,-145523070),h=v(h,u,d,l,i[p+11],10,-1120210379),l=v(l,h,u,d,i[p+2],15,718787259),d=v(d,l,h,u,i[p+9],21,-343485551),u=u+k>>>0,d=d+y>>>0,l=l+b>>>0,h=h+w>>>0}return n.endian([u,d,l,h])})._ff=function(e,t,i,n,r,o,a){var s=e+(t&i|~t&n)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,i,n,r,o,a){var s=e+(t&n|i&~n)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,i,n,r,o,a){var s=e+(t^i^n)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,i,n,r,o,a){var s=e+(i^(t|~n))+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var i=n.wordsToBytes(s(e,t));return t&&t.asBytes?i:t&&t.asString?a.bytesToString(i):n.bytesToHex(i)}},1944:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=1944,e.exports=t},9034:function(e,t,i){(e=i.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function u(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var i,n=[],r=e.length;for(i=0;i<r;++i)n.push(t(e[i],i));return n}function p(e,t){for(var i in t)s(t,i)&&(e[i]=t[i]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,i,n){return Tt(e,t,i,n,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=f(e),i=n.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function v(e){var t=m(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),n=i.length>>>0;for(t=0;t<n;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var k=r.momentProperties=[],y=!1;function b(e,t){var i,n,r,o=k.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=f(t)),u(t._locale)||(e._locale=t._locale),o>0)for(i=0;i<o;i++)u(r=t[n=k[i]])||(e[n]=r);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function _(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,t){var i=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),i){var n,o,a,c=[],u=arguments.length;for(o=0;o<u;o++){if(n="","object"==typeof arguments[o]){for(a in n+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(n+=a+": "+arguments[0][a]+", ");n=n.slice(0,-2)}else n=arguments[o];c.push(n)}S(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var T,C={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),C[e]||(S(t),C[e]=!0)}function x(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var i,n=p({},e);for(i in t)s(t,i)&&(a(e[i])&&a(t[i])?(n[i]={},p(n[i],e[i]),p(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)s(e,i)&&!s(t,i)&&a(e[i])&&(n[i]=p({},n[i]));return n}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)s(e,t)&&i.push(t);return i};function I(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},O={};function F(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(O[e]=r),t&&(O[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),i&&(O[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=L(t,e.localeData()),A[t]=A[t]||function(e){var t,i,n,r=e.match(R);for(t=0,i=r.length;t<i;t++)O[r[t]]?r[t]=O[r[t]]:r[t]=(n=r[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,o="";for(n=0;n<i;n++)o+=x(r[n])?r[n].call(t,e):r[n];return o}}(t),A[t](e)):e.localeData().invalidDate()}function L(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(D.lastIndex=0;i>=0&&D.test(e);)e=e.replace(D,n),D.lastIndex=0,i-=1;return e}var N={};function U(e,t){var i=e.toLowerCase();N[i]=N[i+"s"]=N[t]=e}function V(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function B(e){var t,i,n={};for(i in e)s(e,i)&&(t=V(i))&&(n[t]=e[i]);return n}var W={};function G(e,t){W[e]=t}function H(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function q(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=Y(t)),i}function X(e,t){return function(i){return null!=i?(J(this,e,i),r.updateOffset(this,t),this):$(this,e)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&H(e.year())&&1===e.month()&&29===e.date()?(i=q(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),_e(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}var K,Z=/\d/,Q=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ie=/[+-]?\d{6}/,ne=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ae=/\d{1,3}/,se=/\d{1,4}/,ce=/[+-]?\d{1,6}/,ue=/\d+/,de=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function me(e,t,i){K[e]=x(t)?t:function(e,n){return e&&i?i:t}}function fe(e,t){return s(K,e)?K[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,r){return t||i||n||r}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}K={};var ve={};function ke(e,t){var i,n,r=t;for("string"==typeof e&&(e=[e]),d(t)&&(r=function(e,i){i[t]=q(e)}),n=e.length,i=0;i<n;i++)ve[e[i]]=r}function ye(e,t){ke(e,(function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)}))}function be(e,t,i){null!=t&&s(ve,e)&&ve[e](t,i._a,i,e)}var we;function _e(e,t){if(isNaN(e)||isNaN(t))return NaN;var i,n=(t%(i=12)+i)%i;return e+=(t-n)/12,1===n?H(e)?29:28:31-n%7%2}we=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},F("M",["MM",2],"Mo",(function(){return this.month()+1})),F("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),F("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),G("month",8),me("M",ne),me("MM",ne,Q),me("MMM",(function(e,t){return t.monthsShortRegex(e)})),me("MMMM",(function(e,t){return t.monthsRegex(e)})),ke(["M","MM"],(function(e,t){t[1]=q(e)-1})),ke(["MMM","MMMM"],(function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[1]=r:f(i).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce=pe,Ee=pe;function xe(e,t,i){var n,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=m([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=we.call(this._shortMonthsParse,a))?r:null:-1!==(r=we.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=we.call(this._shortMonthsParse,a))||-1!==(r=we.call(this._longMonthsParse,a))?r:null:-1!==(r=we.call(this._longMonthsParse,a))||-1!==(r=we.call(this._shortMonthsParse,a))?r:null}function Me(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=q(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),_e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Pe(e){return null!=e?(Me(this,e),r.updateOffset(this,!0),this):$(this,"Month")}function Ie(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],o=[];for(t=0;t<12;t++)i=m([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)n[t]=ge(n[t]),r[t]=ge(r[t]);for(t=0;t<24;t++)o[t]=ge(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Re(e){return H(e)?366:365}F("Y",0,0,(function(){var e=this.year();return e<=9999?I(e,4):"+"+e})),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),U("year","y"),G("year",1),me("Y",de),me("YY",ne,Q),me("YYYY",se,te),me("YYYYY",ce,ie),me("YYYYYY",ce,ie),ke(["YYYYY","YYYYYY"],0),ke("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):q(e)})),ke("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ke("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return q(e)+(q(e)>68?1900:2e3)};var De=X("FullYear",!0);function Ae(e,t,i,n,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,i,n,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,i,n,r,o,a),s}function Oe(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Fe(e,t,i){var n=7+t-i;return-(7+Oe(e,0,n).getUTCDay()-t)%7+n-1}function ze(e,t,i,n,r){var o,a,s=1+7*(t-1)+(7+i-n)%7+Fe(e,n,r);return s<=0?a=Re(o=e-1)+s:s>Re(e)?(o=e+1,a=s-Re(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Le(e,t,i){var n,r,o=Fe(e.year(),t,i),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?n=a+Ne(r=e.year()-1,t,i):a>Ne(e.year(),t,i)?(n=a-Ne(e.year(),t,i),r=e.year()+1):(r=e.year(),n=a),{week:n,year:r}}function Ne(e,t,i){var n=Fe(e,t,i),r=Fe(e+1,t,i);return(Re(e)-n+r)/7}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),G("week",5),G("isoWeek",5),me("w",ne),me("ww",ne,Q),me("W",ne),me("WW",ne,Q),ye(["w","ww","W","WW"],(function(e,t,i,n){t[n.substr(0,1)]=q(e)}));function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}F("d",0,"do","day"),F("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),F("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),F("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),me("d",ne),me("e",ne),me("E",ne),me("dd",(function(e,t){return t.weekdaysMinRegex(e)})),me("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),me("dddd",(function(e,t){return t.weekdaysRegex(e)})),ye(["dd","ddd","dddd"],(function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:f(i).invalidWeekday=e})),ye(["d","e","E"],(function(e,t,i,n){t[n]=q(e)}));var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=pe,He=pe,Ye=pe;function qe(e,t,i){var n,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=m([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=we.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=we.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=we.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=we.call(this._weekdaysParse,a))||-1!==(r=we.call(this._shortWeekdaysParse,a))||-1!==(r=we.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=we.call(this._shortWeekdaysParse,a))||-1!==(r=we.call(this._weekdaysParse,a))||-1!==(r=we.call(this._minWeekdaysParse,a))?r:null:-1!==(r=we.call(this._minWeekdaysParse,a))||-1!==(r=we.call(this._weekdaysParse,a))||-1!==(r=we.call(this._shortWeekdaysParse,a))?r:null}function Xe(){function e(e,t){return t.length-e.length}var t,i,n,r,o,a=[],s=[],c=[],u=[];for(t=0;t<7;t++)i=m([2e3,1]).day(t),n=ge(this.weekdaysMin(i,"")),r=ge(this.weekdaysShort(i,"")),o=ge(this.weekdays(i,"")),a.push(n),s.push(r),c.push(o),u.push(n),u.push(r),u.push(o);a.sort(e),s.sort(e),c.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $e(){return this.hours()%12||12}function Je(e,t){F(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ke(e,t){return t._meridiemParse}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,$e),F("k",["kk",2],0,(function(){return this.hours()||24})),F("hmm",0,0,(function(){return""+$e.apply(this)+I(this.minutes(),2)})),F("hmmss",0,0,(function(){return""+$e.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),F("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),F("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),Je("a",!0),Je("A",!1),U("hour","h"),G("hour",13),me("a",Ke),me("A",Ke),me("H",ne),me("h",ne),me("k",ne),me("HH",ne,Q),me("hh",ne,Q),me("kk",ne,Q),me("hmm",re),me("hmmss",oe),me("Hmm",re),me("Hmmss",oe),ke(["H","HH"],3),ke(["k","kk"],(function(e,t,i){var n=q(e);t[3]=24===n?0:n})),ke(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),ke(["h","hh"],(function(e,t,i){t[3]=q(e),f(i).bigHour=!0})),ke("hmm",(function(e,t,i){var n=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n)),f(i).bigHour=!0})),ke("hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n,2)),t[5]=q(e.substr(r)),f(i).bigHour=!0})),ke("Hmm",(function(e,t,i){var n=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n))})),ke("Hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n,2)),t[5]=q(e.substr(r))}));var Ze=X("Hours",!0);var Qe,et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:je,week:{dow:0,doy:6},weekdays:Ve,weekdaysMin:We,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},tt={},it={};function nt(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var n=null;if(void 0===tt[t]&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{n=Qe._abbr,i(1944)("./"+t),at(n)}catch(e){tt[t]=null}return tt[t]}function at(e,t){var i;return e&&((i=u(t)?ct(e):st(e,t))?Qe=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function st(e,t){if(null!==t){var i,n=et;if(t.abbr=e,null!=tt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])n=tt[t.parentLocale]._config;else{if(null==(i=ot(t.parentLocale)))return it[t.parentLocale]||(it[t.parentLocale]=[]),it[t.parentLocale].push({name:e,config:t}),null;n=i._config}return tt[e]=new P(M(n,t)),it[e]&&it[e].forEach((function(e){st(e.name,e.config)})),at(e),tt[e]}return delete tt[e],null}function ct(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,i,n,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,i=(i=rt(e[o+1]))?i.split("-"):null;t>0;){if(n=ot(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&nt(r,i)>=t-1)break;t--}o++}return Qe}(e)}function ut(e){var t,i=e._a;return i&&-2===f(e).overflow&&(t=i[1]<0||i[1]>11?1:i[2]<1||i[2]>_e(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kt(e){var t,i,n,r,o,a,s=e._i,c=dt.exec(s)||lt.exec(s),u=pt.length,d=mt.length;if(c){for(f(e).iso=!0,t=0,i=u;t<i;t++)if(pt[t][1].exec(c[1])){r=pt[t][0],n=!1!==pt[t][2];break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,i=d;t<i;t++)if(mt[t][1].exec(c[3])){o=(c[2]||" ")+mt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(c[4]){if(!ht.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),St(e)}else e._isValid=!1}function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,i,n,r,o,a,s,c,u=gt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(i=u[4],n=u[3],r=u[2],o=u[5],a=u[6],s=u[7],c=[yt(i),je.indexOf(n),parseInt(r,10),parseInt(o,10),parseInt(a,10)],s&&c.push(parseInt(s,10)),t=c,!function(e,t,i){return!e||Be.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,i){if(e)return vt[e];if(t)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(u[8],u[9],u[10]),e._d=Oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function wt(e,t,i){return null!=e?e:null!=t?t:i}function _t(e){var t,i,n,o,a,s=[];if(!e._d){for(n=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,i,n,r,o,a,s,c,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,i=wt(t.GG,e._a[0],Le(Ct(),1,4).year),n=wt(t.W,1),((r=wt(t.E,1))<1||r>7)&&(c=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=Le(Ct(),o,a),i=wt(t.gg,e._a[0],u.year),n=wt(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(c=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o),n<1||n>Ne(i,o,a)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(s=ze(i,n,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=wt(e._a[0],n[0]),(e._dayOfYear>Re(a)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=Oe(a,0,e._dayOfYear),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Oe:Ae).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(f(e).weekdayMismatch=!0)}}function St(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,i,n,o,a,s,c,u=""+e._i,d=u.length,l=0;for(c=(n=L(e._f,e._locale).match(R)||[]).length,t=0;t<c;t++)o=n[t],(i=(u.match(fe(o,e))||[])[0])&&((a=u.substr(0,u.indexOf(i))).length>0&&f(e).unusedInput.push(a),u=u.slice(u.indexOf(i)+i.length),l+=i.length),O[o]?(i?f(e).empty=!1:f(e).unusedTokens.push(o),be(o,i,e)):e._strict&&!i&&f(e).unusedTokens.push(o);f(e).charsLeftOver=d-l,u.length>0&&f(e).unusedInput.push(u),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),_t(e),ut(e)}else bt(e);else kt(e)}function jt(e){var t=e._i,i=e._f;return e._locale=e._locale||ct(e._l),null===t||void 0===i&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new w(ut(t)):(l(t)?e._d=t:o(i)?function(e){var t,i,n,r,o,a,s=!1,c=e._f.length;if(0===c)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<c;r++)o=0,a=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),g(t)&&(a=!0),o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,s?o<n&&(n=o,i=t):(null==n||o<n||a)&&(n=o,i=t,a&&(s=!0));p(e,i||t)}(e):i?St(e):function(e){var t=e._i;u(t)?e._d=new Date(r.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(kt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),_t(e)):a(t)?function(e){if(!e._d){var t=B(e._i),i=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),_t(e)}}(e):d(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Tt(e,t,i,n,r){var s,u={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(a(e)&&c(e)||o(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=r,u._l=i,u._i=e,u._f=t,u._strict=n,(s=new w(ut(jt(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ct(e,t,i,n){return Tt(e,t,i,n,!1)}r.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Et=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),xt=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Mt(e,t){var i,n;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ct();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var t=B(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,c=t.hour||0,u=t.minute||0,d=t.second||0,l=t.millisecond||0;this._isValid=function(e){var t,i,n=!1,r=Pt.length;for(t in e)if(s(e,t)&&(-1===we.call(Pt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<r;++i)if(e[Pt[i]]){if(n)return!1;parseFloat(e[Pt[i]])!==q(e[Pt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*d+6e4*u+1e3*c*60*60,this._days=+a+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=ct(),this._bubble()}function Rt(e){return e instanceof It}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function At(e,t){F(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+I(~~(e/60),2)+t+I(~~e%60,2)}))}At("Z",":"),At("ZZ",""),me("Z",he),me("ZZ",he),ke(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=Ft(he,e)}));var Ot=/([\+\-]|\d\d)/gi;function Ft(e,t){var i,n,r=(t||"").match(e);return null===r?null:0===(n=60*(i=((r[r.length-1]||[])+"").match(Ot)||["-",0,0])[1]+q(i[2]))?0:"+"===i[0]?n:-n}function zt(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(_(e)||l(e)?e.valueOf():Ct(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),r.updateOffset(i,!1),i):Ct(e).local()}function Lt(e){return-Math.round(e._d.getTimezoneOffset())}function Nt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t){var i,n,r,o,a,c,u=e,l=null;return Rt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(l=Ut.exec(e))?(i="-"===l[1]?-1:1,u={y:0,d:q(l[2])*i,h:q(l[3])*i,m:q(l[4])*i,s:q(l[5])*i,ms:q(Dt(1e3*l[6]))*i}):(l=Vt.exec(e))?(i="-"===l[1]?-1:1,u={y:Wt(l[2],i),M:Wt(l[3],i),w:Wt(l[4],i),d:Wt(l[5],i),h:Wt(l[6],i),m:Wt(l[7],i),s:Wt(l[8],i)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Ct(u.from),a=Ct(u.to),r=o.isValid()&&a.isValid()?(a=zt(a,o),o.isBefore(a)?c=Gt(o,a):((c=Gt(a,o)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=r.milliseconds,u.M=r.months),n=new It(u),Rt(e)&&s(e,"_locale")&&(n._locale=e._locale),Rt(e)&&s(e,"_isValid")&&(n._isValid=e._isValid),n}function Wt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Gt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Ht(e,t){return function(i,n){var r;return null===n||isNaN(+n)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Yt(this,Bt(i,n),e),this}}function Yt(e,t,i,n){var o=t._milliseconds,a=Dt(t._days),s=Dt(t._months);e.isValid()&&(n=null==n||n,s&&Me(e,$(e,"Month")+s*i),a&&J(e,"Date",$(e,"Date")+a*i),o&&e._d.setTime(e._d.valueOf()+o*i),n&&r.updateOffset(e,a||s))}Bt.fn=It.prototype,Bt.invalid=function(){return Bt(NaN)};var qt=Ht(1,"add"),Xt=Ht(-1,"subtract");function $t(e){return"string"==typeof e||e instanceof String}function Jt(e){return _(e)||l(e)||$t(e)||d(e)||function(e){var t=o(e),i=!1;return t&&(i=0===e.filter((function(t){return!d(t)&&$t(e)})).length),t&&i}(e)||function(e){var t,i,n=a(e)&&!c(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=o.length;for(t=0;t<u;t+=1)i=o[t],r=r||s(e,i);return n&&r}(e)||null==e}function Kt(e){var t,i=a(e)&&!c(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)n=n||s(e,r[t]);return i&&n}function Zt(e,t){if(e.date()<t.date())return-Zt(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ct(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ei=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ti(){return this._locale}var ii=1e3,ni=6e4,ri=36e5,oi=126227808e5;function ai(e,t){return(e%t+t)%t}function si(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-oi:new Date(e,t,i).valueOf()}function ci(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-oi:Date.UTC(e,t,i)}function ui(e,t){return t.erasAbbrRegex(e)}function di(){var e,t,i=[],n=[],r=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)n.push(ge(a[e].name)),i.push(ge(a[e].abbr)),r.push(ge(a[e].narrow)),o.push(ge(a[e].name)),o.push(ge(a[e].abbr)),o.push(ge(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function li(e,t){F(0,[e,e.length],0,t)}function hi(e,t,i,n,r){var o;return null==e?Le(this,n,r).year:(t>(o=Ne(e,n,r))&&(t=o),pi.call(this,e,t,i,n,r))}function pi(e,t,i,n,r){var o=ze(e,t,i,n,r),a=Oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),me("N",ui),me("NN",ui),me("NNN",ui),me("NNNN",(function(e,t){return t.erasNameRegex(e)})),me("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ke(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,n){var r=i._locale.erasParse(e,n,i._strict);r?f(i).era=r:f(i).invalidEra=e})),me("y",ue),me("yy",ue),me("yyy",ue),me("yyyy",ue),me("yo",(function(e,t){return t._eraYearOrdinalRegex||ue})),ke(["y","yy","yyy","yyyy"],0),ke(["yo"],(function(e,t,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[0]=i._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),li("gggg","weekYear"),li("ggggg","weekYear"),li("GGGG","isoWeekYear"),li("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),me("G",de),me("g",de),me("GG",ne,Q),me("gg",ne,Q),me("GGGG",se,te),me("gggg",se,te),me("GGGGG",ce,ie),me("ggggg",ce,ie),ye(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,n){t[n.substr(0,2)]=q(e)})),ye(["gg","GG"],(function(e,t,i,n){t[n]=r.parseTwoDigitYear(e)})),F("Q",0,"Qo","quarter"),U("quarter","Q"),G("quarter",7),me("Q",Z),ke("Q",(function(e,t){t[1]=3*(q(e)-1)})),F("D",["DD",2],"Do","date"),U("date","D"),G("date",9),me("D",ne),me("DD",ne,Q),me("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ke(["D","DD"],2),ke("Do",(function(e,t){t[2]=q(e.match(ne)[0])}));var mi=X("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),G("dayOfYear",4),me("DDD",ae),me("DDDD",ee),ke(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=q(e)})),F("m",["mm",2],0,"minute"),U("minute","m"),G("minute",14),me("m",ne),me("mm",ne,Q),ke(["m","mm"],4);var fi=X("Minutes",!1);F("s",["ss",2],0,"second"),U("second","s"),G("second",15),me("s",ne),me("ss",ne,Q),ke(["s","ss"],5);var gi,vi,ki=X("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),G("millisecond",16),me("S",ae,Z),me("SS",ae,Q),me("SSS",ae,ee),gi="SSSS";gi.length<=9;gi+="S")me(gi,ue);function yi(e,t){t[6]=q(1e3*("0."+e))}for(gi="S";gi.length<=9;gi+="S")ke(gi,yi);vi=X("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var bi=w.prototype;function wi(e){return e}bi.add=qt,bi.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):Kt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||Ct(),n=zt(i,this).startOf("day"),o=r.calendarFormat(this,n)||"sameElse",a=t&&(x(t[o])?t[o].call(this,i):t[o]);return this.format(a||this.localeData().calendar(o,this,Ct(i)))},bi.clone=function(){return new w(this)},bi.diff=function(e,t,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=zt(e,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=V(t)){case"year":o=Zt(this,n)/12;break;case"month":o=Zt(this,n);break;case"quarter":o=Zt(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:Y(o)},bi.endOf=function(e){var t,i;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ci:si,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ri-ai(t+(this._isUTC?0:this.utcOffset()*ni),ri)-1;break;case"minute":t=this._d.valueOf(),t+=ni-ai(t,ni)-1;break;case"second":t=this._d.valueOf(),t+=ii-ai(t,ii)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},bi.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},bi.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Ct(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bi.fromNow=function(e){return this.from(Ct(),e)},bi.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Ct(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bi.toNow=function(e){return this.to(Ct(),e)},bi.get=function(e){return x(this[e=V(e)])?this[e]():this},bi.invalidAt=function(){return f(this).overflow},bi.isAfter=function(e,t){var i=_(e)?e:Ct(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},bi.isBefore=function(e,t){var i=_(e)?e:Ct(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},bi.isBetween=function(e,t,i,n){var r=_(e)?e:Ct(e),o=_(t)?t:Ct(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(o,i):!this.isAfter(o,i))},bi.isSame=function(e,t){var i,n=_(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},bi.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},bi.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},bi.isValid=function(){return g(this)},bi.lang=ei,bi.locale=Qt,bi.localeData=ti,bi.max=xt,bi.min=Et,bi.parsingFlags=function(){return p({},f(this))},bi.set=function(e,t){if("object"==typeof e){var i,n=function(e){var t,i=[];for(t in e)s(e,t)&&i.push({unit:t,priority:W[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}(e=B(e)),r=n.length;for(i=0;i<r;i++)this[n[i].unit](e[n[i].unit])}else if(x(this[e=V(e)]))return this[e](t);return this},bi.startOf=function(e){var t,i;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?ci:si,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ai(t+(this._isUTC?0:this.utcOffset()*ni),ri);break;case"minute":t=this._d.valueOf(),t-=ai(t,ni);break;case"second":t=this._d.valueOf(),t-=ai(t,ii)}return this._d.setTime(t),r.updateOffset(this,!0),this},bi.subtract=Xt,bi.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},bi.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},bi.toDate=function(){return new Date(this.valueOf())},bi.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?z(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(i,"Z")):z(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",i=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(bi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),bi.toJSON=function(){return this.isValid()?this.toISOString():null},bi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bi.unix=function(){return Math.floor(this.valueOf()/1e3)},bi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bi.eraName=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].name;if(n[e].until<=i&&i<=n[e].since)return n[e].name}return""},bi.eraNarrow=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].narrow;if(n[e].until<=i&&i<=n[e].since)return n[e].narrow}return""},bi.eraAbbr=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].abbr;if(n[e].until<=i&&i<=n[e].since)return n[e].abbr}return""},bi.eraYear=function(){var e,t,i,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-r(o[e].since).year())*i+o[e].offset;return this.year()},bi.year=De,bi.isLeapYear=function(){return H(this.year())},bi.weekYear=function(e){return hi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bi.isoWeekYear=function(e){return hi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},bi.quarter=bi.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},bi.month=Pe,bi.daysInMonth=function(){return _e(this.year(),this.month())},bi.week=bi.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},bi.isoWeek=bi.isoWeeks=function(e){var t=Le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},bi.weeksInYear=function(){var e=this.localeData()._week;return Ne(this.year(),e.dow,e.doy)},bi.weeksInWeekYear=function(){var e=this.localeData()._week;return Ne(this.weekYear(),e.dow,e.doy)},bi.isoWeeksInYear=function(){return Ne(this.year(),1,4)},bi.isoWeeksInISOWeekYear=function(){return Ne(this.isoWeekYear(),1,4)},bi.date=mi,bi.day=bi.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},bi.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},bi.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},bi.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},bi.hour=bi.hours=Ze,bi.minute=bi.minutes=fi,bi.second=bi.seconds=ki,bi.millisecond=bi.milliseconds=vi,bi.utcOffset=function(e,t,i){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ft(he,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=Lt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!t||this._changeInProgress?Yt(this,Bt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Lt(this)},bi.utc=function(e){return this.utcOffset(0,e)},bi.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this},bi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ft(le,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},bi.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)},bi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bi.isLocal=function(){return!!this.isValid()&&!this._isUTC},bi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bi.isUtc=Nt,bi.isUTC=Nt,bi.zoneAbbr=function(){return this._isUTC?"UTC":""},bi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bi.dates=j("dates accessor is deprecated. Use date instead.",mi),bi.months=j("months accessor is deprecated. Use month instead",Pe),bi.years=j("years accessor is deprecated. Use year instead",De),bi.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),bi.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=jt(t))._a?(e=t._isUTC?m(t._a):Ct(t._a),this._isDSTShifted=this.isValid()&&function(e,t,i){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&q(e[n])!==q(t[n]))&&a++;return a+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var _i=P.prototype;function Si(e,t,i,n){var r=ct(),o=m().set(n,t);return r[i](o,e)}function ji(e,t,i){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return Si(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=Si(e,n,i,"month");return r}function Ti(e,t,i,n){"boolean"==typeof e?(d(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,d(t)&&(i=t,t=void 0),t=t||"");var r,o=ct(),a=e?o._week.dow:0,s=[];if(null!=i)return Si(t,(i+a)%7,n,"day");for(r=0;r<7;r++)s[r]=Si(t,(r+a)%7,n,"day");return s}_i.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return x(n)?n.call(t,i):n},_i.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(R).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},_i.invalidDate=function(){return this._invalidDate},_i.ordinal=function(e){return this._ordinal.replace("%d",e)},_i.preparse=wi,_i.postformat=wi,_i.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return x(r)?r(e,t,i,n):r.replace(/%d/i,e)},_i.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return x(i)?i(t):i.replace(/%s/i,t)},_i.set=function(e){var t,i;for(i in e)s(e,i)&&(x(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_i.eras=function(e,t){var i,n,o,a=this._eras||ct("en")._eras;for(i=0,n=a.length;i<n;++i)switch("string"==typeof a[i].since&&(o=r(a[i].since).startOf("day"),a[i].since=o.valueOf()),typeof a[i].until){case"undefined":a[i].until=1/0;break;case"string":o=r(a[i].until).startOf("day").valueOf(),a[i].until=o.valueOf()}return a},_i.erasParse=function(e,t,i){var n,r,o,a,s,c=this.eras();for(e=e.toUpperCase(),n=0,r=c.length;n<r;++n)if(o=c[n].name.toUpperCase(),a=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[n];break;case"NNNN":if(o===e)return c[n];break;case"NNNNN":if(s===e)return c[n]}else if([o,a,s].indexOf(e)>=0)return c[n]},_i.erasConvertYear=function(e,t){var i=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*i},_i.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||di.call(this),e?this._erasAbbrRegex:this._erasRegex},_i.erasNameRegex=function(e){return s(this,"_erasNameRegex")||di.call(this),e?this._erasNameRegex:this._erasRegex},_i.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||di.call(this),e?this._erasNarrowRegex:this._erasRegex},_i.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Te).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},_i.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Te.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_i.monthsParse=function(e,t,i){var n,r,o;if(this._monthsParseExact)return xe.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=m([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},_i.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},_i.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ce),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},_i.week=function(e){return Le(e,this._week.dow,this._week.doy).week},_i.firstDayOfYear=function(){return this._week.doy},_i.firstDayOfWeek=function(){return this._week.dow},_i.weekdays=function(e,t){var i=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(i,this._week.dow):e?i[e.day()]:i},_i.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},_i.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},_i.weekdaysParse=function(e,t,i){var n,r,o;if(this._weekdaysParseExact)return qe.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=m([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},_i.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},_i.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=He),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_i.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_i.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},_i.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=j("moment.lang is deprecated. Use moment.locale instead.",at),r.langData=j("moment.langData is deprecated. Use moment.localeData instead.",ct);var Ci=Math.abs;function Ei(e,t,i,n){var r=Bt(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function xi(e){return e<0?Math.floor(e):Math.ceil(e)}function Mi(e){return 4800*e/146097}function Pi(e){return 146097*e/4800}function Ii(e){return function(){return this.as(e)}}var Ri=Ii("ms"),Di=Ii("s"),Ai=Ii("m"),Oi=Ii("h"),Fi=Ii("d"),zi=Ii("w"),Li=Ii("M"),Ni=Ii("Q"),Ui=Ii("y");function Vi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bi=Vi("milliseconds"),Wi=Vi("seconds"),Gi=Vi("minutes"),Hi=Vi("hours"),Yi=Vi("days"),qi=Vi("months"),Xi=Vi("years");var $i=Math.round,Ji={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ki(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}var Zi=Math.abs;function Qi(e){return(e>0)-(e<0)||+e}function en(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n,r,o,a,s,c=Zi(this._milliseconds)/1e3,u=Zi(this._days),d=Zi(this._months),l=this.asSeconds();return l?(e=Y(c/60),t=Y(e/60),c%=60,e%=60,i=Y(d/12),d%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=l<0?"-":"",o=Qi(this._months)!==Qi(l)?"-":"",a=Qi(this._days)!==Qi(l)?"-":"",s=Qi(this._milliseconds)!==Qi(l)?"-":"",r+"P"+(i?o+i+"Y":"")+(d?o+d+"M":"")+(u?a+u+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+n+"S":"")):"P0D"}var tn=It.prototype;return tn.isValid=function(){return this._isValid},tn.abs=function(){var e=this._data;return this._milliseconds=Ci(this._milliseconds),this._days=Ci(this._days),this._months=Ci(this._months),e.milliseconds=Ci(e.milliseconds),e.seconds=Ci(e.seconds),e.minutes=Ci(e.minutes),e.hours=Ci(e.hours),e.months=Ci(e.months),e.years=Ci(e.years),this},tn.add=function(e,t){return Ei(this,e,t,1)},tn.subtract=function(e,t){return Ei(this,e,t,-1)},tn.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=V(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+Mi(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Pi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},tn.asMilliseconds=Ri,tn.asSeconds=Di,tn.asMinutes=Ai,tn.asHours=Oi,tn.asDays=Fi,tn.asWeeks=zi,tn.asMonths=Li,tn.asQuarters=Ni,tn.asYears=Ui,tn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},tn._bubble=function(){var e,t,i,n,r,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*xi(Pi(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=Y(o/1e3),c.seconds=e%60,t=Y(e/60),c.minutes=t%60,i=Y(t/60),c.hours=i%24,a+=Y(i/24),s+=r=Y(Mi(a)),a-=xi(Pi(r)),n=Y(s/12),s%=12,c.days=a,c.months=s,c.years=n,this},tn.clone=function(){return Bt(this)},tn.get=function(e){return e=V(e),this.isValid()?this[e+"s"]():NaN},tn.milliseconds=Bi,tn.seconds=Wi,tn.minutes=Gi,tn.hours=Hi,tn.days=Yi,tn.weeks=function(){return Y(this.days()/7)},tn.months=qi,tn.years=Xi,tn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,n,r=!1,o=Ji;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Ji,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=function(e,t,i,n){var r=Bt(e).abs(),o=$i(r.as("s")),a=$i(r.as("m")),s=$i(r.as("h")),c=$i(r.as("d")),u=$i(r.as("M")),d=$i(r.as("w")),l=$i(r.as("y")),h=o<=i.ss&&["s",o]||o<i.s&&["ss",o]||a<=1&&["m"]||a<i.m&&["mm",a]||s<=1&&["h"]||s<i.h&&["hh",s]||c<=1&&["d"]||c<i.d&&["dd",c];return null!=i.w&&(h=h||d<=1&&["w"]||d<i.w&&["ww",d]),(h=h||u<=1&&["M"]||u<i.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=t,h[3]=+e>0,h[4]=n,Ki.apply(null,h)}(this,!r,o,i=this.localeData()),r&&(n=i.pastFuture(+this,n)),i.postformat(n)},tn.toISOString=en,tn.toString=en,tn.toJSON=en,tn.locale=Qt,tn.localeData=ti,tn.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",en),tn.lang=ei,F("X",0,0,"unix"),F("x",0,0,"valueOf"),me("x",de),me("X",/[+-]?\d+(\.\d{1,3})?/),ke("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),ke("x",(function(e,t,i){i._d=new Date(q(e))})),r.version="2.29.4",t=Ct,r.fn=bi,r.min=function(){return Mt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Mt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=m,r.unix=function(e){return Ct(1e3*e)},r.months=function(e,t){return ji(e,t,"months")},r.isDate=l,r.locale=at,r.invalid=v,r.duration=Bt,r.isMoment=_,r.weekdays=function(e,t,i){return Ti(e,t,i,"weekdays")},r.parseZone=function(){return Ct.apply(null,arguments).parseZone()},r.localeData=ct,r.isDuration=Rt,r.monthsShort=function(e,t){return ji(e,t,"monthsShort")},r.weekdaysMin=function(e,t,i){return Ti(e,t,i,"weekdaysMin")},r.defineLocale=st,r.updateLocale=function(e,t){if(null!=t){var i,n,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(M(tt[e]._config,t)):(null!=(n=ot(e))&&(r=n._config),t=M(r,t),null==n&&(t.abbr=e),(i=new P(t)).parentLocale=tt[e],tt[e]=i),at(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===at()&&at(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return T(tt)},r.weekdaysShort=function(e,t,i){return Ti(e,t,i,"weekdaysShort")},r.normalizeUnits=V,r.relativeTimeRounding=function(e){return void 0===e?$i:"function"==typeof e&&($i=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Ji[e]&&(void 0===t?Ji[e]:(Ji[e]=t,"s"===e&&(Ji.ss=t-1),!0))},r.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},r.prototype=bi,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},3682:function(e,t,i){"use strict";var n=i(8058),r={};r.rules=i(2379).map((function(e){return{rule:e,suffix:e.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:"*"===e.charAt(0),exception:"!"===e.charAt(0)}})),r.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},r.findRule=function(e){var t=n.toASCII(e);return r.rules.reduce((function(e,i){return-1===i.punySuffix&&(i.punySuffix=n.toASCII(i.suffix)),r.endsWith(t,"."+i.punySuffix)||t===i.punySuffix?i:e}),null)},t.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},r.validate=function(e){var t=n.toASCII(e);if(t.length<1)return"DOMAIN_TOO_SHORT";if(t.length>255)return"DOMAIN_TOO_LONG";for(var i,r=t.split("."),o=0;o<r.length;++o){if(!(i=r[o]).length)return"LABEL_TOO_SHORT";if(i.length>63)return"LABEL_TOO_LONG";if("-"===i.charAt(0))return"LABEL_STARTS_WITH_DASH";if("-"===i.charAt(i.length-1))return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(i))return"LABEL_INVALID_CHARS"}},t.parse=function(e){if("string"!=typeof e)throw new TypeError("Domain name must be a string.");var i=e.slice(0).toLowerCase();"."===i.charAt(i.length-1)&&(i=i.slice(0,i.length-1));var o=r.validate(i);if(o)return{input:e,error:{message:t.errorCodes[o],code:o}};var a={input:e,tld:null,sld:null,domain:null,subdomain:null,listed:!1},s=i.split(".");if("local"===s[s.length-1])return a;var c=function(){return/xn--/.test(i)?(a.domain&&(a.domain=n.toASCII(a.domain)),a.subdomain&&(a.subdomain=n.toASCII(a.subdomain)),a):a},u=r.findRule(i);if(!u)return s.length<2?a:(a.tld=s.pop(),a.sld=s.pop(),a.domain=[a.sld,a.tld].join("."),s.length&&(a.subdomain=s.pop()),c());a.listed=!0;var d=u.suffix.split("."),l=s.slice(0,s.length-d.length);return u.exception&&l.push(d.shift()),a.tld=d.join("."),l.length?(u.wildcard&&(d.unshift(l.pop()),a.tld=d.join(".")),l.length?(a.sld=l.pop(),a.domain=[a.sld,a.tld].join("."),l.length&&(a.subdomain=l.join(".")),c()):c()):c()},t.get=function(e){return e&&t.parse(e).domain||null},t.isValid=function(e){var i=t.parse(e);return Boolean(i.domain&&i.listed)}},8058:function(e,t,i){"use strict";i.r(t),i.d(t,{decode:function(){return v},encode:function(){return k},toASCII:function(){return b},toUnicode:function(){return y},ucs2decode:function(){return p},ucs2encode:function(){return m}});const n=2147483647,r=36,o=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,d=String.fromCharCode;function l(e){throw new RangeError(c[e])}function h(e,t){const i=e.split("@");let n="";i.length>1&&(n=i[0]+"@",e=i[1]);const r=function(e,t){const i=[];let n=e.length;for(;n--;)i[n]=t(e[n]);return i}((e=e.replace(s,".")).split("."),t).join(".");return n+r}function p(e){const t=[];let i=0;const n=e.length;for(;i<n;){const r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){const n=e.charCodeAt(i++);56320==(64512&n)?t.push(((1023&r)<<10)+(1023&n)+65536):(t.push(r),i--)}else t.push(r)}return t}const m=e=>String.fromCodePoint(...e),f=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,i){let n=0;for(e=i?u(e/700):e>>1,e+=u(e/t);e>455;n+=r)e=u(e/35);return u(n+36*e/(e+38))},v=function(e){const t=[],i=e.length;let o=0,a=128,s=72,c=e.lastIndexOf("-");c<0&&(c=0);for(let i=0;i<c;++i)e.charCodeAt(i)>=128&&l("not-basic"),t.push(e.charCodeAt(i));for(let h=c>0?c+1:0;h<i;){let c=o;for(let t=1,a=r;;a+=r){h>=i&&l("invalid-input");const c=(d=e.charCodeAt(h++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:r;(c>=r||c>u((n-o)/t))&&l("overflow"),o+=c*t;const p=a<=s?1:a>=s+26?26:a-s;if(c<p)break;const m=r-p;t>u(n/m)&&l("overflow"),t*=m}const p=t.length+1;s=g(o-c,p,0==c),u(o/p)>n-a&&l("overflow"),a+=u(o/p),o%=p,t.splice(o++,0,a)}var d;return String.fromCodePoint(...t)},k=function(e){const t=[];let i=(e=p(e)).length,o=128,a=0,s=72;for(const i of e)i<128&&t.push(d(i));let c=t.length,h=c;for(c&&t.push("-");h<i;){let i=n;for(const t of e)t>=o&&t<i&&(i=t);const p=h+1;i-o>u((n-a)/p)&&l("overflow"),a+=(i-o)*p,o=i;for(const i of e)if(i<o&&++a>n&&l("overflow"),i==o){let e=a;for(let i=r;;i+=r){const n=i<=s?1:i>=s+26?26:i-s;if(e<n)break;const o=e-n,a=r-n;t.push(d(f(n+o%a,0))),e=u(o/a)}t.push(d(f(e,0))),s=g(a,p,h==c),a=0,++h}++a,++o}return t.join("")},y=function(e){return h(e,(function(e){return o.test(e)?v(e.slice(4).toLowerCase()):e}))},b=function(e){return h(e,(function(e){return a.test(e)?"xn--"+k(e):e}))},w={version:"2.1.0",ucs2:{decode:p,encode:m},decode:v,encode:k,toASCII:b,toUnicode:y};t.default=w},7375:function(e,t){"use strict";var i=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function r(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=r(o),n=r(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,i=/([^=?#&]+)=?([^&]*)/g,r={};t=i.exec(e);){var o=n(t[1]),a=n(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},7245:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},6294:function(e,t,i){"use strict";var n=i(2281);function r(e,t,i,r,o){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===i?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(r?r.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function o(e,t){var i={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var i=0;i<t.length;i++)if(t[i].payloadType===e||t[i].preferredPayloadType===e)return t[i]},r=function(e,t,i,r){var o=n(e.parameters.apt,i),a=n(t.parameters.apt,r);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(n){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!r(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),i.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var r=t.headerExtensions[n];if(e.uri===r.uri){i.headerExtensions.push(r);break}}})),i}function a(e,t,i){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(i)}function s(e,t){var i=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return i||e.addRemoteCandidate(t),!i}function c(e,t){var i=new Error(t);return i.name=e,i.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],i}e.exports=function(e,t){function i(t,i){i.addTrack(t),i.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,i,n,r){var o=new Event("track");o.track=i,o.receiver=n,o.transceiver={receiver:n},o.streams=r,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var d=function(i){var r=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",i=JSON.parse(JSON.stringify(i||{})),this.usingBundle="max-bundle"===i.bundlePolicy,"negotiate"===i.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(i.rtcpMuxPolicy||(i.rtcpMuxPolicy="require"),i.iceTransportPolicy){case"all":case"relay":break;default:i.iceTransportPolicy="all"}switch(i.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:i.bundlePolicy="balanced"}if(i.iceServers=function(e,t){var i=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"==typeof n;return r&&(n=[n]),n=n.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||i?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(i=!0,!0)})),delete e.url,e.urls=r?n[0]:n,!!n.length}}))}(i.iceServers||[],t),this._iceGatherers=[],i.iceCandidatePoolSize)for(var a=i.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:i.iceServers,gatherPolicy:i.iceTransportPolicy}));else i.iceCandidatePoolSize=0;this._config=i,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(d.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(d.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),d.prototype.onicecandidate=null,d.prototype.onaddstream=null,d.prototype.ontrack=null,d.prototype.onremovestream=null,d.prototype.onsignalingstatechange=null,d.prototype.oniceconnectionstatechange=null,d.prototype.onconnectionstatechange=null,d.prototype.onicegatheringstatechange=null,d.prototype.onnegotiationneeded=null,d.prototype.ondatachannel=null,d.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},d.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},d.prototype.getConfiguration=function(){return this._config},d.prototype.getLocalStreams=function(){return this.localStreams},d.prototype.getRemoteStreams=function(){return this.remoteStreams},d.prototype._createTransceiver=function(e,t){var i=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&i)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();n.iceTransport=r.iceTransport,n.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(n),n},d.prototype.addTrack=function(t,i){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var r=0;r<this.transceivers.length;r++)this.transceivers[r].track||this.transceivers[r].kind!==t.kind||(n=this.transceivers[r]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(i)&&this.localStreams.push(i),n.track=t,n.stream=i,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},d.prototype.addStream=function(e){var i=this;if(t>=15025)e.getTracks().forEach((function(t){i.addTrack(t,e)}));else{var n=e.clone();e.getTracks().forEach((function(e,t){var i=n.getTracks()[t];e.addEventListener("enabled",(function(e){i.enabled=e.enabled}))})),n.getTracks().forEach((function(e){i.addTrack(e,n)}))}},d.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var i=this.transceivers.find((function(e){return e.rtpSender===t}));if(!i)throw c("InvalidAccessError","Sender was not created by this connection.");var n=i.stream;i.rtpSender.stop(),i.rtpSender=null,i.track=null,i.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},d.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var i=t.getSenders().find((function(t){return t.track===e}));i&&t.removeTrack(i)}))},d.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},d.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},d.prototype._createIceGatherer=function(t,i){var n=this;if(i&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var i=!e.candidate||0===Object.keys(e.candidate).length;r.state=i?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r},d.prototype._gather=function(t,i){var r=this,o=this.transceivers[i].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[i].bufferedCandidateEvents;this.transceivers[i].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[i].bufferCandidates),o.onlocalcandidate=function(e){if(!(r.usingBundle&&i>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:i};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=n.writeCandidate(s);a.candidate=Object.assign(a.candidate,n.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var d=n.getMediaSections(r._localDescription.sdp);d[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r._localDescription.sdp=n.getDescription(r._localDescription.sdp)+d.join("");var l=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),c||r._dispatchEvent("icecandidate",a),l&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},d.prototype._createIceAndDtlsTransports=function(){var t=this,i=new e.RTCIceTransport(null);i.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(i);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:i,dtlsTransport:n}},d.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var i=this.transceivers[e].iceTransport;i&&(delete i.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},d.prototype._transceive=function(e,i,r){var a=o(e.localCapabilities,e.remoteCapabilities);i&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),r&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},d.prototype.setLocalDescription=function(e){var t,i,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),i=t.shift(),t.forEach((function(e,t){var i=n.parseRtpParameters(e);r.transceivers[t].localCapabilities=i})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=n.splitSections(r._remoteDescription.sdp),i=t.shift();var s=n.matchPrefix(i,"a=ice-lite").length>0;t.forEach((function(e,t){var a=r.transceivers[t],c=a.iceGatherer,u=a.iceTransport,d=a.dtlsTransport,l=a.localCapabilities,h=a.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length||a.rejected)){var p=n.getIceParameters(e,i),m=n.getDtlsParameters(e,i);s&&(m.role="server"),r.usingBundle&&0!==t||(r._gather(a.mid,t),"new"===u.state&&u.start(c,p,s?"controlling":"controlled"),"new"===d.state&&d.start(m));var f=o(l,h);r._transceive(a,f.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},d.prototype.setRemoteDescription=function(r){var d=this;if(-1===["offer","answer"].indexOf(r.type))return Promise.reject(c("TypeError",'Unsupported type "'+r.type+'"'));if(!a("setRemoteDescription",r.type,d.signalingState)||d._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+r.type+" in state "+d.signalingState));var l={};d.remoteStreams.forEach((function(e){l[e.id]=e}));var h=[],p=n.splitSections(r.sdp),m=p.shift(),f=n.matchPrefix(m,"a=ice-lite").length>0,g=n.matchPrefix(m,"a=group:BUNDLE ").length>0;d.usingBundle=g;var v=n.matchPrefix(m,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!v&&v.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(a,c){var u=n.splitLines(a),p=n.getKind(a),v=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,k=u[0].substr(2).split(" ")[2],y=n.getDirection(a,m),b=n.parseMsid(a),w=n.getMid(a)||n.generateIdentifier();if(v||"application"===p&&("DTLS/SCTP"===k||"UDP/DTLS/SCTP"===k))d.transceivers[c]={mid:w,kind:p,protocol:k,rejected:!0};else{var _,S,j,T,C,E,x,M,P;!v&&d.transceivers[c]&&d.transceivers[c].rejected&&(d.transceivers[c]=d._createTransceiver(p,!0));var I,R,D=n.parseRtpParameters(a);v||(I=n.getIceParameters(a,m),(R=n.getDtlsParameters(a,m)).role="client"),x=n.parseRtpEncodingParameters(a);var A=n.parseRtcpParameters(a),O=n.matchPrefix(a,"a=end-of-candidates",m).length>0,F=n.matchPrefix(a,"a=candidate:").map((function(e){return n.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===r.type||"answer"===r.type)&&!v&&g&&c>0&&d.transceivers[c]&&(d._disposeIceAndDtlsTransports(c),d.transceivers[c].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[c].iceTransport=d.transceivers[0].iceTransport,d.transceivers[c].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[c].rtpSender&&d.transceivers[c].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[c].rtpReceiver&&d.transceivers[c].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==r.type||v)"answer"!==r.type||v||(S=(_=d.transceivers[c]).iceGatherer,j=_.iceTransport,T=_.dtlsTransport,C=_.rtpReceiver,E=_.sendEncodingParameters,M=_.localCapabilities,d.transceivers[c].recvEncodingParameters=x,d.transceivers[c].remoteCapabilities=D,d.transceivers[c].rtcpParameters=A,F.length&&"new"===j.state&&(!f&&!O||g&&0!==c?F.forEach((function(e){s(_.iceTransport,e)})):j.setRemoteCandidates(F)),g&&0!==c||("new"===j.state&&j.start(S,I,"controlling"),"new"===T.state&&T.start(R)),!o(_.localCapabilities,_.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&_.sendEncodingParameters[0].rtx&&delete _.sendEncodingParameters[0].rtx,d._transceive(_,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!C||"sendrecv"!==y&&"sendonly"!==y?delete _.rtpReceiver:(P=C.track,b?(l[b.stream]||(l[b.stream]=new e.MediaStream),i(P,l[b.stream]),h.push([P,C,l[b.stream]])):(l.default||(l.default=new e.MediaStream),i(P,l.default),h.push([P,C,l.default]))));else{(_=d.transceivers[c]||d._createTransceiver(p)).mid=w,_.iceGatherer||(_.iceGatherer=d._createIceGatherer(c,g)),F.length&&"new"===_.iceTransport.state&&(!O||g&&0!==c?F.forEach((function(e){s(_.iceTransport,e)})):_.iceTransport.setRemoteCandidates(F)),M=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(M.codecs=M.codecs.filter((function(e){return"rtx"!==e.name}))),E=_.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var z,L=!1;"sendrecv"===y||"sendonly"===y?(L=!_.rtpReceiver,C=_.rtpReceiver||new e.RTCRtpReceiver(_.dtlsTransport,p),L&&(P=C.track,b&&"-"===b.stream||(b?(l[b.stream]||(l[b.stream]=new e.MediaStream,Object.defineProperty(l[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(P,"id",{get:function(){return b.track}}),z=l[b.stream]):(l.default||(l.default=new e.MediaStream),z=l.default)),z&&(i(P,z),_.associatedRemoteMediaStreams.push(z)),h.push([P,C,z]))):_.rtpReceiver&&_.rtpReceiver.track&&(_.associatedRemoteMediaStreams.forEach((function(t){var i=t.getTracks().find((function(e){return e.id===_.rtpReceiver.track.id}));i&&function(t,i){i.removeTrack(t),i.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(i,t)})),_.associatedRemoteMediaStreams=[]),_.localCapabilities=M,_.remoteCapabilities=D,_.rtpReceiver=C,_.rtcpParameters=A,_.sendEncodingParameters=E,_.recvEncodingParameters=x,d._transceive(d.transceivers[c],!1,L)}}})),void 0===d._dtlsRole&&(d._dtlsRole="offer"===r.type?"active":"passive"),d._remoteDescription={type:r.type,sdp:r.sdp},"offer"===r.type?d._updateSignalingState("have-remote-offer"):d._updateSignalingState("stable"),Object.keys(l).forEach((function(t){var i=l[t];if(i.getTracks().length){if(-1===d.remoteStreams.indexOf(i)){d.remoteStreams.push(i);var n=new Event("addstream");n.stream=i,e.setTimeout((function(){d._dispatchEvent("addstream",n)}))}h.forEach((function(e){var t=e[0],n=e[1];i.id===e[2].id&&u(d,t,n,[i])}))}})),h.forEach((function(e){e[2]||u(d,e[0],e[1],[])})),e.setTimeout((function(){d&&d.transceivers&&d.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},d.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},d.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},d.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},d.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var i=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",i)}},d.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var i=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",i)}},d.prototype.createOffer=function(){var i=this;if(i._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=i.transceivers.filter((function(e){return"audio"===e.kind})).length,a=i.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(i.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));o>0||a>0;)o>0&&(i._createTransceiver("audio"),o--),a>0&&(i._createTransceiver("video"),a--);var u=n.writeSessionBoilerplate(i._sdpSessionId,i._sdpSessionVersion++);i.transceivers.forEach((function(r,o){var a=r.track,s=r.kind,c=r.mid||n.generateIdentifier();r.mid=c,r.iceGatherer||(r.iceGatherer=i._createIceGatherer(o,i.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var d=r.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,s)),r.localCapabilities=u,r.sendEncodingParameters=d})),"max-compat"!==i._config.bundlePolicy&&(u+="a=group:BUNDLE "+i.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",i.transceivers.forEach((function(e,t){u+=r(e,e.localCapabilities,"offer",e.stream,i._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===i.iceGatheringState||0!==t&&i.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+n.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var d=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(d)},d.prototype.createAnswer=function(){var i=this;if(i._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==i.signalingState&&"have-local-pranswer"!==i.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+i.signalingState));var a=n.writeSessionBoilerplate(i._sdpSessionId,i._sdpSessionVersion++);i.usingBundle&&(a+="a=group:BUNDLE "+i.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=n.getMediaSections(i._remoteDescription.sdp).length;i.transceivers.forEach((function(e,n){if(!(n+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=r(e,u,"answer",e.stream,i._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},d.prototype.addIceCandidate=function(e){var t,i=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,o){if(!i._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<i.transceivers.length;u++)if(i.transceivers[u].mid===e.sdpMid){a=u;break}var d=i.transceivers[a];if(!d)return o(c("OperationError","Can not add ICE candidate"));if(d.rejected)return r();var l=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return r();if(l.component&&1!==l.component)return r();if((0===a||a>0&&d.iceTransport!==i.transceivers[0].iceTransport)&&!s(d.iceTransport,l))return o(c("OperationError","Can not add ICE candidate"));var h=e.candidate.trim();0===h.indexOf("a=")&&(h=h.substr(2)),(t=n.getMediaSections(i._remoteDescription.sdp))[a]+="a="+(l.type?h:"end-of-candidates")+"\r\n",i._remoteDescription.sdp=n.getDescription(i._remoteDescription.sdp)+t.join("")}else for(var p=0;p<i.transceivers.length&&(i.transceivers[p].rejected||(i.transceivers[p].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(i._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",i._remoteDescription.sdp=n.getDescription(i._remoteDescription.sdp)+t.join(""),!i.usingBundle));p++);r()}))},d.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var i=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?i=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(i=e.rtpReceiver)})),!i)throw c("InvalidAccessError","Invalid selector.");return i.getStats()}var n=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&n.push(e[t].getStats())}))})),Promise.all(n).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var i=e[t];if(i&&i.prototype&&i.prototype.getStats){var n=i.prototype.getStats;i.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(i){var n;e[i].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(n=e[i]).type]||n.type,t.set(i,e[i])})),t}))}}}));var l=["createOffer","createAnswer"];return l.forEach((function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(l=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),d}},2281:function(e){"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){var i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter((function(e){return 0===e.indexOf(i)}))},t.parseCandidate=function(e){for(var t,i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":i.relatedAddress=t[n+1];break;case"rport":i.relatedPort=parseInt(t[n+1],10);break;case"tcptype":i.tcpType=t[n+1];break;case"ufrag":i.ufrag=t[n+1],i.usernameFragment=t[n+1];break;default:i[t[n]]=t[n+1]}return i},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,i={},n=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<n.length;r++)i[(t=n[r].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){var t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+i+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),i={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(i.attribute=e.substr(t+1,n-t-1),i.value=e.substr(n+1)):i.attribute=e.substr(t+1),i},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var i="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),i},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){var n=t.matchPrefix(e+i,"a=ice-ufrag:")[0],r=t.matchPrefix(e+i,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substr(12),password:r.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" "),r=3;r<n.length;r++){var o=n[r],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),i.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){i.headerExtensions.push(t.parseExtmap(e))})),i},t.writeRtpDescription=function(e,i){var n="";n+="m="+e+" ",n+=i.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=i.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach((function(e){n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));var r=0;return i.codecs.forEach((function(e){e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",i.headerExtensions&&i.headerExtensions.forEach((function(e){n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){var i,n=[],r=t.parseRtpParameters(e),o=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(i=u[0][1]),r.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&i&&(t.rtx={ssrc:i}),n.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&c&&n.push({ssrc:c});var d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=d}))),n},t.parseRtcpParameters=function(e){var i={},n=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);var r=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=r.length>0,i.compound=0===r.length;var o=t.matchPrefix(e,"a=rtcp-mux");return i.mux=o.length>0,i},t.parseMsid=function(e){var i,n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(i=n[0].substr(7).split(" "))[0],track:i[1]};var r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return r.length>0?{stream:(i=r[0].value.split(" "))[0],track:i[1]}:void 0},t.parseSctpDescription=function(e){var i,n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");r.length>0&&(i=parseInt(r[0].substr(19),10)),isNaN(i)&&(i=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:i};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){var i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,i,n){var r=void 0!==i?i:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,i,n,r){var o=t.writeRtpDescription(e.kind,i);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,i){for(var n=t.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var i=t.splitLines(e)[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){var i=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var i=t.splitLines(e),n=0;n<i.length;n++)if(i[n].length<2||"="!==i[n].charAt(1))return!1;return!0},e.exports=t},4661:function(e){var t;self,t=()=>(()=>{var e={276:e=>{var t,i=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var i,n,r=void 0!==(e=e||{})?e:{};r.ready=new Promise((function(e,t){i=e,n=t}));var o,a={};for(o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);var s,c,u=[],d="./this.program",l=function(e,t){throw t},h="";"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),t&&(h=t),h=0!==h.indexOf("blob:")?h.substr(0,h.lastIndexOf("/")+1):"",s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c=function(e,t,i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):i()},n.onerror=i,n.send(null)};var p,m=r.print||console.log.bind(console),f=r.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(r[o]=a[o]);a=null,r.arguments&&(u=r.arguments),r.thisProgram&&(d=r.thisProgram),r.quit&&(l=r.quit),r.wasmBinary&&(p=r.wasmBinary);var g,v=r.noExitRuntime||!0;"object"!=typeof WebAssembly&&G("no native wasm support detected");var k,y,b,w,_=!1,S="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function j(e,t,i){for(var n=t+i,r=t;e[r]&&!(r>=n);)++r;if(r-t>16&&e.subarray&&S)return S.decode(e.subarray(t,r));for(var o="";t<r;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function T(e,t){return e?j(b,e,t):""}function C(e,t,i,n){if(!(n>0))return 0;for(var r=i,o=i+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(i>=o)break;t[i++]=s}else if(s<=2047){if(i+1>=o)break;t[i++]=192|s>>6,t[i++]=128|63&s}else if(s<=65535){if(i+2>=o)break;t[i++]=224|s>>12,t[i++]=128|s>>6&63,t[i++]=128|63&s}else{if(i+3>=o)break;t[i++]=240|s>>18,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}}return t[i]=0,i-r}function E(e){for(var t=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++i)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function x(e){k=e,r.HEAP8=y=new Int8Array(e),r.HEAP16=new Int16Array(e),r.HEAP32=w=new Int32Array(e),r.HEAPU8=b=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=new Uint32Array(e),r.HEAPF32=new Float32Array(e),r.HEAPF64=new Float64Array(e)}r.INITIAL_MEMORY;var M,P=[],I=[],R=[];function D(){return v||!1}var A,O,F,z,L,N=0,U=null,V=null;function B(e){N++,r.monitorRunDependencies&&r.monitorRunDependencies(N)}function W(e){if(N--,r.monitorRunDependencies&&r.monitorRunDependencies(N),0==N&&(null!==U&&(clearInterval(U),U=null),V)){var t=V;V=null,t()}}function G(e){r.onAbort&&r.onAbort(e),f(e+=""),_=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}function H(e){return e.startsWith("data:application/octet-stream;base64,")}function Y(e){try{if(e==A&&p)return new Uint8Array(p);throw"both async and sync fetching of the wasm failed"}catch(e){G(e)}}function q(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?M.get(i)():M.get(i)(t.arg):i(void 0===t.arg?null:t.arg)}else t(r)}}function X(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){w[this.ptr+4>>2]=e},this.get_type=function(){return w[this.ptr+4>>2]},this.set_destructor=function(e){w[this.ptr+8>>2]=e},this.get_destructor=function(){return w[this.ptr+8>>2]},this.set_refcount=function(e){w[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,y[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=y[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,y[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=y[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=w[this.ptr>>2];w[this.ptr>>2]=e+1},this.release_ref=function(){var e=w[this.ptr>>2];return w[this.ptr>>2]=e-1,1===e}}function $(e){try{return g.grow(e-k.byteLength+65535>>>16),x(g.buffer),1}catch(e){}}r.preloadedImages={},r.preloadedAudios={},H(A="vsl_impl.wasm")||(O=A,A=r.locateFile?r.locateFile(O,h):h+O),L=function(){return performance.now()};var J={};function K(){if(!K.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(var t in J)void 0===J[t]?delete e[t]:e[t]=J[t];var i=[];for(var t in e)i.push(t+"="+e[t]);K.strings=i}return K.strings}var Z={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i;i--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);return(e=Z.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Z.splitPath(e),i=t[0],n=t[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Z.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Z.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Z.normalize(e.join("/"))},join2:function(e,t){return Z.normalize(e+"/"+t)}},Q={resolve:function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var n=i>=0?arguments[i]:ie.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=Z.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=Q.resolve(e).substr(1),t=Q.resolve(t).substr(1);for(var n=i(e.split("/")),r=i(t.split("/")),o=Math.min(n.length,r.length),a=o,s=0;s<o;s++)if(n[s]!==r[s]){a=s;break}var c=[];for(s=a;s<n.length;s++)c.push("..");return(c=c.concat(r.slice(a))).join("/")}},ee={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ee.ttys[e]={input:[],output:[],ops:t},ie.registerDevice(e,ee.stream_ops)},stream_ops:{open:function(e){var t=ee.ttys[e.node.rdev];if(!t)throw new ie.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,i,n,r){if(!e.tty||!e.tty.ops.get_char)throw new ie.ErrnoError(60);for(var o=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new ie.ErrnoError(29)}if(void 0===s&&0===o)throw new ie.ErrnoError(6);if(null==s)break;o++,t[i+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,i,n,r){if(!e.tty||!e.tty.ops.put_char)throw new ie.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[i+o])}catch(e){throw new ie.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=de(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(m(j(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(m(j(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(f(j(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(f(j(e.output,0)),e.output=[])}}},te={ops_table:null,mount:function(e){return te.createNode(null,"/",16895,0)},createNode:function(e,t,i,n){if(ie.isBlkdev(i)||ie.isFIFO(i))throw new ie.ErrnoError(63);te.ops_table||(te.ops_table={dir:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr,lookup:te.node_ops.lookup,mknod:te.node_ops.mknod,rename:te.node_ops.rename,unlink:te.node_ops.unlink,rmdir:te.node_ops.rmdir,readdir:te.node_ops.readdir,symlink:te.node_ops.symlink},stream:{llseek:te.stream_ops.llseek}},file:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr},stream:{llseek:te.stream_ops.llseek,read:te.stream_ops.read,write:te.stream_ops.write,allocate:te.stream_ops.allocate,mmap:te.stream_ops.mmap,msync:te.stream_ops.msync}},link:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr,readlink:te.node_ops.readlink},stream:{}},chrdev:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr},stream:ie.chrdev_stream_ops}});var r=ie.createNode(e,t,i,n);return ie.isDir(r.mode)?(r.node_ops=te.ops_table.dir.node,r.stream_ops=te.ops_table.dir.stream,r.contents={}):ie.isFile(r.mode)?(r.node_ops=te.ops_table.file.node,r.stream_ops=te.ops_table.file.stream,r.usedBytes=0,r.contents=null):ie.isLink(r.mode)?(r.node_ops=te.ops_table.link.node,r.stream_ops=te.ops_table.link.stream):ie.isChrdev(r.mode)&&(r.node_ops=te.ops_table.chrdev.node,r.stream_ops=te.ops_table.chrdev.stream),r.timestamp=Date.now(),e&&(e.contents[t]=r,e.timestamp=r.timestamp),r},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var i=e.contents?e.contents.length:0;if(!(i>=t)){t=Math.max(t,i*(i<1048576?2:1.125)>>>0),0!=i&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var i=e.contents;e.contents=new Uint8Array(t),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ie.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ie.isDir(e.mode)?t.size=4096:ie.isFile(e.mode)?t.size=e.usedBytes:ie.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&te.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ie.genericErrors[44]},mknod:function(e,t,i,n){return te.createNode(e,t,i,n)},rename:function(e,t,i){if(ie.isDir(e.mode)){var n;try{n=ie.lookupNode(t,i)}catch(e){}if(n)for(var r in n.contents)throw new ie.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=i,t.contents[i]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var i=ie.lookupNode(e,t);for(var n in i.contents)throw new ie.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var i in e.contents)e.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(e,t,i){var n=te.createNode(e,t,41471,0);return n.link=i,n},readlink:function(e){if(!ie.isLink(e.mode))throw new ie.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,i,n,r){var o=e.node.contents;if(r>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-r,n);if(a>8&&o.subarray)t.set(o.subarray(r,r+a),i);else for(var s=0;s<a;s++)t[i+s]=o[r+s];return a},write:function(e,t,i,n,r,o){if(t.buffer===y.buffer&&(o=!1),!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(i,i+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===r)return a.contents=t.slice(i,i+n),a.usedBytes=n,n;if(r+n<=a.usedBytes)return a.contents.set(t.subarray(i,i+n),r),n}if(te.expandFileStorage(a,r+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(i,i+n),r);else for(var s=0;s<n;s++)a.contents[r+s]=t[i+s];return a.usedBytes=Math.max(a.usedBytes,r+n),n},llseek:function(e,t,i){var n=t;if(1===i?n+=e.position:2===i&&ie.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new ie.ErrnoError(28);return n},allocate:function(e,t,i){te.expandFileStorage(e.node,t+i),e.node.usedBytes=Math.max(e.node.usedBytes,t+i)},mmap:function(e,t,i,n,r,o){if(0!==t)throw new ie.ErrnoError(28);if(!ie.isFile(e.node.mode))throw new ie.ErrnoError(43);var a,s,c=e.node.contents;if(2&o||c.buffer!==k){if((n>0||n+i<c.length)&&(c=c.subarray?c.subarray(n,n+i):Array.prototype.slice.call(c,n,n+i)),s=!0,!(a=function(e){e=function(e,t){return 65536*Math.ceil(e/65536)}(e);var t=fe(65536,e);return t?(function(e,t){b.fill(0,e,e+t)}(t,e),t):0}(i)))throw new ie.ErrnoError(48);y.set(c,a)}else s=!1,a=c.byteOffset;return{ptr:a,allocated:s}},msync:function(e,t,i,n,r){if(!ie.isFile(e.node.mode))throw new ie.ErrnoError(43);return 2&r||te.stream_ops.write(e,t,0,n,i,!1),0}}},ie={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=Q.resolve(ie.cwd(),e)))return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var n in i)void 0===t[n]&&(t[n]=i[n]);if(t.recurse_count>8)throw new ie.ErrnoError(32);for(var r=Z.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=ie.root,a="/",s=0;s<r.length;s++){var c=s===r.length-1;if(c&&t.parent)break;if(o=ie.lookupNode(o,r[s]),a=Z.join2(a,r[s]),ie.isMountpoint(o)&&(!c||c&&t.follow_mount)&&(o=o.mounted.root),!c||t.follow)for(var u=0;ie.isLink(o.mode);){var d=ie.readlink(a);if(a=Q.resolve(Z.dirname(a),d),o=ie.lookupPath(a,{recurse_count:t.recurse_count}).node,u++>40)throw new ie.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(ie.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?i+"/"+t:i+t:i}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var i=0,n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n)|0;return(e+i>>>0)%ie.nameTable.length},hashAddNode:function(e){var t=ie.hashName(e.parent.id,e.name);e.name_next=ie.nameTable[t],ie.nameTable[t]=e},hashRemoveNode:function(e){var t=ie.hashName(e.parent.id,e.name);if(ie.nameTable[t]===e)ie.nameTable[t]=e.name_next;else for(var i=ie.nameTable[t];i;){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}},lookupNode:function(e,t){var i=ie.mayLookup(e);if(i)throw new ie.ErrnoError(i,e);for(var n=ie.hashName(e.id,t),r=ie.nameTable[n];r;r=r.name_next){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return ie.lookup(e,t)},createNode:function(e,t,i,n){var r=new ie.FSNode(e,t,i,n);return ie.hashAddNode(r),r},destroyNode:function(e){ie.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=ie.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return ie.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){return ie.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return ie.lookupNode(e,t),20}catch(e){}return ie.nodePermissions(e,"wx")},mayDelete:function(e,t,i){var n;try{n=ie.lookupNode(e,t)}catch(e){return e.errno}var r=ie.nodePermissions(e,"wx");if(r)return r;if(i){if(!ie.isDir(n.mode))return 54;if(ie.isRoot(n)||ie.getPath(n)===ie.cwd())return 10}else if(ie.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?ie.isLink(e.mode)?32:ie.isDir(e.mode)&&("r"!==ie.flagsToPermissionString(t)||512&t)?31:ie.nodePermissions(e,ie.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||ie.MAX_OPEN_FDS;for(var i=e;i<=t;i++)if(!ie.streams[i])return i;throw new ie.ErrnoError(33)},getStream:function(e){return ie.streams[e]},createStream:function(e,t,i){ie.FSStream||(ie.FSStream=function(){},ie.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new ie.FSStream;for(var r in e)n[r]=e[r];e=n;var o=ie.nextfd(t,i);return e.fd=o,ie.streams[o]=e,e},closeStream:function(e){ie.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=ie.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ie.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){ie.devices[e]={stream_ops:t}},getDevice:function(e){return ie.devices[e]},getMounts:function(e){for(var t=[],i=[e];i.length;){var n=i.pop();t.push(n),i.push.apply(i,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),ie.syncFSRequests++,ie.syncFSRequests>1&&f("warning: "+ie.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=ie.getMounts(ie.root.mount),n=0;function r(e){return ie.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,r(e));++n>=i.length&&r(null)}i.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,i){var n,r="/"===i,o=!i;if(r&&ie.root)throw new ie.ErrnoError(10);if(!r&&!o){var a=ie.lookupPath(i,{follow_mount:!1});if(i=a.path,n=a.node,ie.isMountpoint(n))throw new ie.ErrnoError(10);if(!ie.isDir(n.mode))throw new ie.ErrnoError(54)}var s={type:e,opts:t,mountpoint:i,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,r?ie.root=c:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),c},unmount:function(e){var t=ie.lookupPath(e,{follow_mount:!1});if(!ie.isMountpoint(t.node))throw new ie.ErrnoError(28);var i=t.node,n=i.mounted,r=ie.getMounts(n);Object.keys(ie.nameTable).forEach((function(e){for(var t=ie.nameTable[e];t;){var i=t.name_next;r.includes(t.mount)&&ie.destroyNode(t),t=i}})),i.mounted=null;var o=i.mount.mounts.indexOf(n);i.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,i){var n=ie.lookupPath(e,{parent:!0}).node,r=Z.basename(e);if(!r||"."===r||".."===r)throw new ie.ErrnoError(28);var o=ie.mayCreate(n,r);if(o)throw new ie.ErrnoError(o);if(!n.node_ops.mknod)throw new ie.ErrnoError(63);return n.node_ops.mknod(n,r,t,i)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,ie.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,ie.mknod(e,t,0)},mkdirTree:function(e,t){for(var i=e.split("/"),n="",r=0;r<i.length;++r)if(i[r]){n+="/"+i[r];try{ie.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,i){return void 0===i&&(i=t,t=438),t|=8192,ie.mknod(e,t,i)},symlink:function(e,t){if(!Q.resolve(e))throw new ie.ErrnoError(44);var i=ie.lookupPath(t,{parent:!0}).node;if(!i)throw new ie.ErrnoError(44);var n=Z.basename(t),r=ie.mayCreate(i,n);if(r)throw new ie.ErrnoError(r);if(!i.node_ops.symlink)throw new ie.ErrnoError(63);return i.node_ops.symlink(i,n,e)},rename:function(e,t){var i,n,r=Z.dirname(e),o=Z.dirname(t),a=Z.basename(e),s=Z.basename(t);if(i=ie.lookupPath(e,{parent:!0}).node,n=ie.lookupPath(t,{parent:!0}).node,!i||!n)throw new ie.ErrnoError(44);if(i.mount!==n.mount)throw new ie.ErrnoError(75);var c,u=ie.lookupNode(i,a),d=Q.relative(e,o);if("."!==d.charAt(0))throw new ie.ErrnoError(28);if("."!==(d=Q.relative(t,r)).charAt(0))throw new ie.ErrnoError(55);try{c=ie.lookupNode(n,s)}catch(e){}if(u!==c){var l=ie.isDir(u.mode),h=ie.mayDelete(i,a,l);if(h)throw new ie.ErrnoError(h);if(h=c?ie.mayDelete(n,s,l):ie.mayCreate(n,s))throw new ie.ErrnoError(h);if(!i.node_ops.rename)throw new ie.ErrnoError(63);if(ie.isMountpoint(u)||c&&ie.isMountpoint(c))throw new ie.ErrnoError(10);if(n!==i&&(h=ie.nodePermissions(i,"w")))throw new ie.ErrnoError(h);try{ie.trackingDelegate.willMovePath&&ie.trackingDelegate.willMovePath(e,t)}catch(i){f("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}ie.hashRemoveNode(u);try{i.node_ops.rename(u,n,s)}catch(e){throw e}finally{ie.hashAddNode(u)}try{ie.trackingDelegate.onMovePath&&ie.trackingDelegate.onMovePath(e,t)}catch(i){f("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}}},rmdir:function(e){var t=ie.lookupPath(e,{parent:!0}).node,i=Z.basename(e),n=ie.lookupNode(t,i),r=ie.mayDelete(t,i,!0);if(r)throw new ie.ErrnoError(r);if(!t.node_ops.rmdir)throw new ie.ErrnoError(63);if(ie.isMountpoint(n))throw new ie.ErrnoError(10);try{ie.trackingDelegate.willDeletePath&&ie.trackingDelegate.willDeletePath(e)}catch(t){f("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,i),ie.destroyNode(n);try{ie.trackingDelegate.onDeletePath&&ie.trackingDelegate.onDeletePath(e)}catch(t){f("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=ie.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new ie.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=ie.lookupPath(e,{parent:!0}).node,i=Z.basename(e),n=ie.lookupNode(t,i),r=ie.mayDelete(t,i,!1);if(r)throw new ie.ErrnoError(r);if(!t.node_ops.unlink)throw new ie.ErrnoError(63);if(ie.isMountpoint(n))throw new ie.ErrnoError(10);try{ie.trackingDelegate.willDeletePath&&ie.trackingDelegate.willDeletePath(e)}catch(t){f("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,i),ie.destroyNode(n);try{ie.trackingDelegate.onDeletePath&&ie.trackingDelegate.onDeletePath(e)}catch(t){f("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=ie.lookupPath(e).node;if(!t)throw new ie.ErrnoError(44);if(!t.node_ops.readlink)throw new ie.ErrnoError(28);return Q.resolve(ie.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var i=ie.lookupPath(e,{follow:!t}).node;if(!i)throw new ie.ErrnoError(44);if(!i.node_ops.getattr)throw new ie.ErrnoError(63);return i.node_ops.getattr(i)},lstat:function(e){return ie.stat(e,!0)},chmod:function(e,t,i){var n;if(!(n="string"==typeof e?ie.lookupPath(e,{follow:!i}).node:e).node_ops.setattr)throw new ie.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){ie.chmod(e,t,!0)},fchmod:function(e,t){var i=ie.getStream(e);if(!i)throw new ie.ErrnoError(8);ie.chmod(i.node,t)},chown:function(e,t,i,n){var r;if(!(r="string"==typeof e?ie.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new ie.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(e,t,i){ie.chown(e,t,i,!0)},fchown:function(e,t,i){var n=ie.getStream(e);if(!n)throw new ie.ErrnoError(8);ie.chown(n.node,t,i)},truncate:function(e,t){if(t<0)throw new ie.ErrnoError(28);var i;if(!(i="string"==typeof e?ie.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new ie.ErrnoError(63);if(ie.isDir(i.mode))throw new ie.ErrnoError(31);if(!ie.isFile(i.mode))throw new ie.ErrnoError(28);var n=ie.nodePermissions(i,"w");if(n)throw new ie.ErrnoError(n);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var i=ie.getStream(e);if(!i)throw new ie.ErrnoError(8);if(0==(2097155&i.flags))throw new ie.ErrnoError(28);ie.truncate(i.node,t)},utime:function(e,t,i){var n=ie.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,i)})},open:function(e,t,i,n,o){if(""===e)throw new ie.ErrnoError(44);var a;if(i=void 0===i?438:i,i=64&(t="string"==typeof t?ie.modeStringToFlags(t):t)?4095&i|32768:0,"object"==typeof e)a=e;else{e=Z.normalize(e);try{a=ie.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(a){if(128&t)throw new ie.ErrnoError(20)}else a=ie.mknod(e,i,0),s=!0;if(!a)throw new ie.ErrnoError(44);if(ie.isChrdev(a.mode)&&(t&=-513),65536&t&&!ie.isDir(a.mode))throw new ie.ErrnoError(54);if(!s){var c=ie.mayOpen(a,t);if(c)throw new ie.ErrnoError(c)}512&t&&ie.truncate(a,0),t&=-131713;var u=ie.createStream({node:a,path:ie.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);u.stream_ops.open&&u.stream_ops.open(u),!r.logReadFiles||1&t||(ie.readFiles||(ie.readFiles={}),e in ie.readFiles||(ie.readFiles[e]=1,f("FS.trackingDelegate error on read file: "+e)));try{if(ie.trackingDelegate.onOpenFile){var d=0;1!=(2097155&t)&&(d|=ie.tracking.openFlags.READ),0!=(2097155&t)&&(d|=ie.tracking.openFlags.WRITE),ie.trackingDelegate.onOpenFile(e,d)}}catch(t){f("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(ie.isClosed(e))throw new ie.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ie.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,i){if(ie.isClosed(e))throw new ie.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ie.ErrnoError(70);if(0!=i&&1!=i&&2!=i)throw new ie.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read:function(e,t,i,n,r){if(n<0||r<0)throw new ie.ErrnoError(28);if(ie.isClosed(e))throw new ie.ErrnoError(8);if(1==(2097155&e.flags))throw new ie.ErrnoError(8);if(ie.isDir(e.node.mode))throw new ie.ErrnoError(31);if(!e.stream_ops.read)throw new ie.ErrnoError(28);var o=void 0!==r;if(o){if(!e.seekable)throw new ie.ErrnoError(70)}else r=e.position;var a=e.stream_ops.read(e,t,i,n,r);return o||(e.position+=a),a},write:function(e,t,i,n,r,o){if(n<0||r<0)throw new ie.ErrnoError(28);if(ie.isClosed(e))throw new ie.ErrnoError(8);if(0==(2097155&e.flags))throw new ie.ErrnoError(8);if(ie.isDir(e.node.mode))throw new ie.ErrnoError(31);if(!e.stream_ops.write)throw new ie.ErrnoError(28);e.seekable&&1024&e.flags&&ie.llseek(e,0,2);var a=void 0!==r;if(a){if(!e.seekable)throw new ie.ErrnoError(70)}else r=e.position;var s=e.stream_ops.write(e,t,i,n,r,o);a||(e.position+=s);try{e.path&&ie.trackingDelegate.onWriteToFile&&ie.trackingDelegate.onWriteToFile(e.path)}catch(t){f("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,i){if(ie.isClosed(e))throw new ie.ErrnoError(8);if(t<0||i<=0)throw new ie.ErrnoError(28);if(0==(2097155&e.flags))throw new ie.ErrnoError(8);if(!ie.isFile(e.node.mode)&&!ie.isDir(e.node.mode))throw new ie.ErrnoError(43);if(!e.stream_ops.allocate)throw new ie.ErrnoError(138);e.stream_ops.allocate(e,t,i)},mmap:function(e,t,i,n,r,o){if(0!=(2&r)&&0==(2&o)&&2!=(2097155&e.flags))throw new ie.ErrnoError(2);if(1==(2097155&e.flags))throw new ie.ErrnoError(2);if(!e.stream_ops.mmap)throw new ie.ErrnoError(43);return e.stream_ops.mmap(e,t,i,n,r,o)},msync:function(e,t,i,n,r){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,i,n,r):0},munmap:function(e){return 0},ioctl:function(e,t,i){if(!e.stream_ops.ioctl)throw new ie.ErrnoError(59);return e.stream_ops.ioctl(e,t,i)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i,n=ie.open(e,t.flags),r=ie.stat(e).size,o=new Uint8Array(r);return ie.read(n,o,0,r,0),"utf8"===t.encoding?i=j(o,0):"binary"===t.encoding&&(i=o),ie.close(n),i},writeFile:function(e,t,i){(i=i||{}).flags=i.flags||577;var n=ie.open(e,i.flags,i.mode);if("string"==typeof t){var r=new Uint8Array(E(t)+1),o=C(t,r,0,r.length);ie.write(n,r,0,o,void 0,i.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ie.write(n,t,0,t.byteLength,void 0,i.canOwn)}ie.close(n)},cwd:function(){return ie.currentPath},chdir:function(e){var t=ie.lookupPath(e,{follow:!0});if(null===t.node)throw new ie.ErrnoError(44);if(!ie.isDir(t.node.mode))throw new ie.ErrnoError(54);var i=ie.nodePermissions(t.node,"x");if(i)throw new ie.ErrnoError(i);ie.currentPath=t.path},createDefaultDirectories:function(){ie.mkdir("/tmp"),ie.mkdir("/home"),ie.mkdir("/home/web_user")},createDefaultDevices:function(){ie.mkdir("/dev"),ie.registerDevice(ie.makedev(1,3),{read:function(){return 0},write:function(e,t,i,n,r){return n}}),ie.mkdev("/dev/null",ie.makedev(1,3)),ee.register(ie.makedev(5,0),ee.default_tty_ops),ee.register(ie.makedev(6,0),ee.default_tty1_ops),ie.mkdev("/dev/tty",ie.makedev(5,0)),ie.mkdev("/dev/tty1",ie.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){G("randomDevice")}}();ie.createDevice("/dev","random",e),ie.createDevice("/dev","urandom",e),ie.mkdir("/dev/shm"),ie.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ie.mkdir("/proc");var e=ie.mkdir("/proc/self");ie.mkdir("/proc/self/fd"),ie.mount({mount:function(){var t=ie.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var i=+t,n=ie.getStream(i);if(!n)throw new ie.ErrnoError(8);var r={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return r.parent=r,r}},t}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?ie.createDevice("/dev","stdin",r.stdin):ie.symlink("/dev/tty","/dev/stdin"),r.stdout?ie.createDevice("/dev","stdout",null,r.stdout):ie.symlink("/dev/tty","/dev/stdout"),r.stderr?ie.createDevice("/dev","stderr",null,r.stderr):ie.symlink("/dev/tty1","/dev/stderr"),ie.open("/dev/stdin",0),ie.open("/dev/stdout",1),ie.open("/dev/stderr",1)},ensureErrnoError:function(){ie.ErrnoError||(ie.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ie.ErrnoError.prototype=new Error,ie.ErrnoError.prototype.constructor=ie.ErrnoError,[44].forEach((function(e){ie.genericErrors[e]=new ie.ErrnoError(e),ie.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){ie.ensureErrnoError(),ie.nameTable=new Array(4096),ie.mount(te,{},"/"),ie.createDefaultDirectories(),ie.createDefaultDevices(),ie.createSpecialDirectories(),ie.filesystems={MEMFS:te}},init:function(e,t,i){ie.init.initialized=!0,ie.ensureErrnoError(),r.stdin=e||r.stdin,r.stdout=t||r.stdout,r.stderr=i||r.stderr,ie.createStandardStreams()},quit:function(){ie.init.initialized=!1;var e=r._fflush;e&&e(0);for(var t=0;t<ie.streams.length;t++){var i=ie.streams[t];i&&ie.close(i)}},getMode:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},findObject:function(e,t){var i=ie.analyzePath(e,t);return i.exists?i.object:null},analyzePath:function(e,t){try{e=(n=ie.lookupPath(e,{follow:!t})).path}catch(e){}var i={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ie.lookupPath(e,{parent:!0});i.parentExists=!0,i.parentPath=n.path,i.parentObject=n.node,i.name=Z.basename(e),n=ie.lookupPath(e,{follow:!t}),i.exists=!0,i.path=n.path,i.object=n.node,i.name=n.node.name,i.isRoot="/"===n.path}catch(e){i.error=e.errno}return i},createPath:function(e,t,i,n){e="string"==typeof e?e:ie.getPath(e);for(var r=t.split("/").reverse();r.length;){var o=r.pop();if(o){var a=Z.join2(e,o);try{ie.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,i,n,r){var o=Z.join2("string"==typeof e?e:ie.getPath(e),t),a=ie.getMode(n,r);return ie.create(o,a)},createDataFile:function(e,t,i,n,r,o){var a=t?Z.join2("string"==typeof e?e:ie.getPath(e),t):e,s=ie.getMode(n,r),c=ie.create(a,s);if(i){if("string"==typeof i){for(var u=new Array(i.length),d=0,l=i.length;d<l;++d)u[d]=i.charCodeAt(d);i=u}ie.chmod(c,146|s);var h=ie.open(c,577);ie.write(h,i,0,i.length,0,o),ie.close(h),ie.chmod(c,s)}return c},createDevice:function(e,t,i,n){var r=Z.join2("string"==typeof e?e:ie.getPath(e),t),o=ie.getMode(!!i,!!n);ie.createDevice.major||(ie.createDevice.major=64);var a=ie.makedev(ie.createDevice.major++,0);return ie.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,r,o){for(var a=0,s=0;s<r;s++){var c;try{c=i()}catch(e){throw new ie.ErrnoError(29)}if(void 0===c&&0===a)throw new ie.ErrnoError(6);if(null==c)break;a++,t[n+s]=c}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,i,r,o){for(var a=0;a<r;a++)try{n(t[i+a])}catch(e){throw new ie.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}}),ie.mkdev(r,o,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=de(s(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new ie.ErrnoError(29)}},createLazyFile:function(e,t,i,n,r){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),r=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;r||(a=n);var s=this;s.setDataGetter((function(e){var t=e*a,r=(e+1)*a-1;if(r=Math.min(r,n-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var r=new XMLHttpRequest;if(r.open("GET",i,!1),n!==a&&r.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.send(null),!(r.status>=200&&r.status<300||304===r.status))throw new Error("Couldn't load "+i+". Status: "+r.status);return void 0!==r.response?new Uint8Array(r.response||[]):de(r.responseText||"",!0)}(t,r)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!o&&n||(a=n=1,n=this.getter(0).length,a=n,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a={isDevice:!1,url:i},s=ie.createFile(e,t,a,n,r);a.contents?s.contents=a.contents:a.url&&(s.contents=null,s.url=a.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];c[e]=function(){return ie.forceLoadFile(s),t.apply(null,arguments)}})),c.read=function(e,t,i,n,r){ie.forceLoadFile(s);var o=e.node.contents;if(r>=o.length)return 0;var a=Math.min(o.length-r,n);if(o.slice)for(var c=0;c<a;c++)t[i+c]=o[r+c];else for(c=0;c<a;c++)t[i+c]=o.get(r+c);return a},s.stream_ops=c,s},createPreloadedFile:function(e,t,i,n,o,a,s,u,d,l){Browser.init();var h=t?Q.resolve(Z.join2(e,t)):e;function p(i){function c(i){l&&l(),u||ie.createDataFile(e,t,i,n,o,d),a&&a(),W()}var p=!1;r.preloadPlugins.forEach((function(e){p||e.canHandle(h)&&(e.handle(i,h,c,(function(){s&&s(),W()})),p=!0)})),p||c(i)}B(),"string"==typeof i?function(e,t,i,n){var r="al "+e;c(e,(function(t){t||G('Assertion failed: Loading data file "'+e+'" failed (no arrayBuffer).'),function(e){p(e)}(new Uint8Array(t)),r&&W()}),(function(t){if(!i)throw'Loading data file "'+e+'" failed.';i()})),r&&B()}(i,0,s):p(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,i){t=t||function(){},i=i||function(){};var n=ie.indexedDB();try{var r=n.open(ie.DB_NAME(),ie.DB_VERSION)}catch(e){return i(e)}r.onupgradeneeded=function(){m("creating db"),r.result.createObjectStore(ie.DB_STORE_NAME)},r.onsuccess=function(){var n=r.result.transaction([ie.DB_STORE_NAME],"readwrite"),o=n.objectStore(ie.DB_STORE_NAME),a=0,s=0,c=e.length;function u(){0==s?t():i()}e.forEach((function(e){var t=o.put(ie.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==c&&u()},t.onerror=function(){s++,a+s==c&&u()}})),n.onerror=i},r.onerror=i},loadFilesFromDB:function(e,t,i){t=t||function(){},i=i||function(){};var n=ie.indexedDB();try{var r=n.open(ie.DB_NAME(),ie.DB_VERSION)}catch(e){return i(e)}r.onupgradeneeded=i,r.onsuccess=function(){var n=r.result;try{var o=n.transaction([ie.DB_STORE_NAME],"readonly")}catch(e){return void i(e)}var a=o.objectStore(ie.DB_STORE_NAME),s=0,c=0,u=e.length;function d(){0==c?t():i()}e.forEach((function(e){var t=a.get(e);t.onsuccess=function(){ie.analyzePath(e).exists&&ie.unlink(e),ie.createDataFile(Z.dirname(e),Z.basename(e),t.result,!0,!0,!0),++s+c==u&&d()},t.onerror=function(){c++,s+c==u&&d()}})),o.onerror=i},r.onerror=i}},ne={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t,i){if("/"===t[0])return t;var n;if(-100===e)n=ie.cwd();else{var r=ie.getStream(e);if(!r)throw new ie.ErrnoError(8);n=r.path}if(0==t.length){if(!i)throw new ie.ErrnoError(44);return n}return Z.join2(n,t)},doStat:function(e,t,i){try{var n=e(t)}catch(e){if(e&&e.node&&Z.normalize(t)!==Z.normalize(ie.getPath(e.node)))return-54;throw e}return w[i>>2]=n.dev,w[i+4>>2]=0,w[i+8>>2]=n.ino,w[i+12>>2]=n.mode,w[i+16>>2]=n.nlink,w[i+20>>2]=n.uid,w[i+24>>2]=n.gid,w[i+28>>2]=n.rdev,w[i+32>>2]=0,z=[n.size>>>0,(F=n.size,+Math.abs(F)>=1?F>0?(0|Math.min(+Math.floor(F/4294967296),4294967295))>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],w[i+40>>2]=z[0],w[i+44>>2]=z[1],w[i+48>>2]=4096,w[i+52>>2]=n.blocks,w[i+56>>2]=n.atime.getTime()/1e3|0,w[i+60>>2]=0,w[i+64>>2]=n.mtime.getTime()/1e3|0,w[i+68>>2]=0,w[i+72>>2]=n.ctime.getTime()/1e3|0,w[i+76>>2]=0,z=[n.ino>>>0,(F=n.ino,+Math.abs(F)>=1?F>0?(0|Math.min(+Math.floor(F/4294967296),4294967295))>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],w[i+80>>2]=z[0],w[i+84>>2]=z[1],0},doMsync:function(e,t,i,n,r){var o=b.slice(e,e+i);ie.msync(t,o,r,i,n)},doMkdir:function(e,t){return"/"===(e=Z.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ie.mkdir(e,t,0),0},doMknod:function(e,t,i){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ie.mknod(e,t,i),0},doReadlink:function(e,t,i){if(i<=0)return-28;var n=ie.readlink(e),r=Math.min(i,E(n)),o=y[t+r];return C(n,b,t,i+1),y[t+r]=o,r},doAccess:function(e,t){if(-8&t)return-28;var i;if(!(i=ie.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&ie.nodePermissions(i,n)?-2:0},doDup:function(e,t,i){var n=ie.getStream(i);return n&&ie.close(n),ie.open(e,t,0,i,i).fd},doReadv:function(e,t,i,n){for(var r=0,o=0;o<i;o++){var a=w[t+8*o>>2],s=w[t+(8*o+4)>>2],c=ie.read(e,y,a,s,n);if(c<0)return-1;if(r+=c,c<s)break}return r},doWritev:function(e,t,i,n){for(var r=0,o=0;o<i;o++){var a=w[t+8*o>>2],s=w[t+(8*o+4)>>2],c=ie.write(e,y,a,s,n);if(c<0)return-1;r+=c}return r},varargs:void 0,get:function(){return ne.varargs+=4,w[ne.varargs-4>>2]},getStr:function(e){return T(e)},getStreamFromFD:function(e){var t=ie.getStream(e);if(!t)throw new ie.ErrnoError(8);return t},get64:function(e,t){return e}};function re(e){return e%4==0&&(e%100!=0||e%400==0)}function oe(e,t){for(var i=0,n=0;n<=t;i+=e[n++]);return i}var ae=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ce(e,t){for(var i=new Date(e.getTime());t>0;){var n=re(i.getFullYear()),r=i.getMonth(),o=(n?ae:se)[r];if(!(t>o-i.getDate()))return i.setDate(i.getDate()+t),i;t-=o-i.getDate()+1,i.setDate(1),r<11?i.setMonth(r+1):(i.setMonth(0),i.setFullYear(i.getFullYear()+1))}return i}var ue=function(e,t,i,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ie.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=n};function de(e,t,i){var n=i>0?i:E(e)+1,r=new Array(n),o=C(e,r,0,r.length);return t&&(r.length=o),r}Object.defineProperties(ue.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ie.isDir(this.mode)}},isDevice:{get:function(){return ie.isChrdev(this.mode)}}}),ie.FSNode=ue,ie.staticInit();var le,he={c:function(e){return pe(e+16)+16},b:function(e,t,i){throw new X(e).init(t,i),e},a:function(){G()},m:function(e,t){var i;if(0===e)i=Date.now();else{if(1!==e&&4!==e)return w[me()>>2]=28,-1;i=L()}return w[t>>2]=i/1e3|0,w[t+4>>2]=i%1e3*1e3*1e3|0,0},i:function(e,t){G("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},e:function(e,t){G("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},f:function(){return 2147483648},k:function(e,t,i){b.copyWithin(e,t,t+i)},l:function(e){var t,i=b.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r=1;r<=4;r*=2){var o=i*(1+.2/r);if(o=Math.min(o,e+100663296),$(Math.min(n,((t=Math.max(e,o))%65536>0&&(t+=65536-t%65536),t))))return!0}return!1},o:function(e){for(var t=L();L()-t<e;);},p:function(e,t){var i=0;return K().forEach((function(n,r){var o=t+i;w[e+4*r>>2]=o,function(e,t,i){for(var n=0;n<e.length;++n)y[t++>>0]=e.charCodeAt(n);y[t>>0]=0}(n,o),i+=n.length+1})),0},q:function(e,t){var i=K();w[e>>2]=i.length;var n=0;return i.forEach((function(e){n+=e.length+1})),w[t>>2]=n,0},r:function(e){!function(e,t){var i;D(),i=e,D()||(r.onExit&&r.onExit(i),_=!0),l(i,new ge(i))}(e)},h:function(e){try{var t=ne.getStreamFromFD(e);return ie.close(t),0}catch(e){return void 0!==ie&&e instanceof ie.ErrnoError||G(e),e.errno}},g:function(e,t,i,n){try{var r=ne.getStreamFromFD(e),o=ne.doReadv(r,t,i);return w[n>>2]=o,0}catch(e){return void 0!==ie&&e instanceof ie.ErrnoError||G(e),e.errno}},j:function(e,t,i,n,r){try{var o=ne.getStreamFromFD(e),a=4294967296*i+(t>>>0),s=9007199254740992;return a<=-s||a>=s?-61:(ie.llseek(o,a,n),z=[o.position>>>0,(F=o.position,+Math.abs(F)>=1?F>0?(0|Math.min(+Math.floor(F/4294967296),4294967295))>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],w[r>>2]=z[0],w[r+4>>2]=z[1],o.getdents&&0===a&&0===n&&(o.getdents=null),0)}catch(e){return void 0!==ie&&e instanceof ie.ErrnoError||G(e),e.errno}},d:function(e,t,i,n){try{var r=ne.getStreamFromFD(e),o=ne.doWritev(r,t,i);return w[n>>2]=o,0}catch(e){return void 0!==ie&&e instanceof ie.ErrnoError||G(e),e.errno}},n:function(e,t,i,n){return function(e,t,i,n){var r=w[n+40>>2],o={tm_sec:w[n>>2],tm_min:w[n+4>>2],tm_hour:w[n+8>>2],tm_mday:w[n+12>>2],tm_mon:w[n+16>>2],tm_year:w[n+20>>2],tm_wday:w[n+24>>2],tm_yday:w[n+28>>2],tm_isdst:w[n+32>>2],tm_gmtoff:w[n+36>>2],tm_zone:r?T(r):""},a=T(i),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in s)a=a.replace(new RegExp(c,"g"),s[c]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function l(e,t,i){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=i[0]+n;return n}function h(e,t){return l(e,t,"0")}function p(e,t){function i(e){return e<0?-1:e>0?1:0}var n;return 0===(n=i(e.getFullYear()-t.getFullYear()))&&0===(n=i(e.getMonth()-t.getMonth()))&&(n=i(e.getDate()-t.getDate())),n}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function f(e){var t=ce(new Date(e.tm_year+1900,0,1),e.tm_yday),i=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),r=m(i),o=m(n);return p(r,t)<=0?p(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":function(e){return u[e.tm_wday].substring(0,3)},"%A":function(e){return u[e.tm_wday]},"%b":function(e){return d[e.tm_mon].substring(0,3)},"%B":function(e){return d[e.tm_mon]},"%C":function(e){return h((e.tm_year+1900)/100|0,2)},"%d":function(e){return h(e.tm_mday,2)},"%e":function(e){return l(e.tm_mday,2," ")},"%g":function(e){return f(e).toString().substring(2)},"%G":function(e){return f(e)},"%H":function(e){return h(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),h(t,2)},"%j":function(e){return h(e.tm_mday+oe(re(e.tm_year+1900)?ae:se,e.tm_mon-1),3)},"%m":function(e){return h(e.tm_mon+1,2)},"%M":function(e){return h(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return h(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),i=0===t.getDay()?t:ce(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(i,n)<0){var r=oe(re(n.getFullYear())?ae:se,n.getMonth()-1)-31,o=31-i.getDate()+r+n.getDate();return h(Math.ceil(o/7),2)}return 0===p(i,t)?"01":"00"},"%V":function(e){var t,i=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),r=m(i),o=m(n),a=ce(new Date(e.tm_year+1900,0,1),e.tm_yday);return p(a,r)<0?"53":p(o,a)<=0?"01":(t=r.getFullYear()<e.tm_year+1900?e.tm_yday+32-r.getDate():e.tm_yday+1-r.getDate(),h(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),i=1===t.getDay()?t:ce(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(i,n)<0){var r=oe(re(n.getFullYear())?ae:se,n.getMonth()-1)-31,o=31-i.getDate()+r+n.getDate();return h(Math.ceil(o/7),2)}return 0===p(i,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,i=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(i?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var c in g)a.includes(c)&&(a=a.replace(new RegExp(c,"g"),g[c](o)));var v=de(a,!1);return v.length>t?0:(function(e,t){y.set(e,t)}(v,e),v.length-1)}(e,t,i,n)}},pe=(function(){var e={a:he};function t(e,t){var i,n=e.exports;r.asm=n,x((g=r.asm.s).buffer),M=r.asm.T,i=r.asm.t,I.unshift(i),W()}function i(e){t(e.instance)}function o(t){return(p||"function"!=typeof fetch?Promise.resolve().then((function(){return Y(A)})):fetch(A,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+A+"'";return e.arrayBuffer()})).catch((function(){return Y(A)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){f("failed to asynchronously prepare wasm: "+e),G(e)}))}if(B(),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(e){return f("Module.instantiateWasm callback failed with error: "+e),!1}(p||"function"!=typeof WebAssembly.instantiateStreaming||H(A)||"function"!=typeof fetch?o(i):fetch(A,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(i,(function(e){return f("wasm streaming compile failed: "+e),f("falling back to ArrayBuffer instantiation"),o(i)}))}))).catch(n)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.t).apply(null,arguments)},r._getModelBufferMemoryOffset=function(){return(r._getModelBufferMemoryOffset=r.asm.u).apply(null,arguments)},r._getNumFaces=function(){return(r._getNumFaces=r.asm.v).apply(null,arguments)},r._getInputMemoryOffset=function(){return(r._getInputMemoryOffset=r.asm.w).apply(null,arguments)},r._getInputName=function(){return(r._getInputName=r.asm.x).apply(null,arguments)},r._getInputHeight=function(){return(r._getInputHeight=r.asm.y).apply(null,arguments)},r._getInputWidth=function(){return(r._getInputWidth=r.asm.z).apply(null,arguments)},r._getInputChannelCount=function(){return(r._getInputChannelCount=r.asm.A).apply(null,arguments)},r._getOutputMemoryOffset=function(){return(r._getOutputMemoryOffset=r.asm.B).apply(null,arguments)},r._getOutputHeight=function(){return(r._getOutputHeight=r.asm.C).apply(null,arguments)},r._getOutputName=function(){return(r._getOutputName=r.asm.D).apply(null,arguments)},r._getOutputWidth=function(){return(r._getOutputWidth=r.asm.E).apply(null,arguments)},r._getOutputChannelCount=function(){return(r._getOutputChannelCount=r.asm.F).apply(null,arguments)},r._getFrameTLx=function(){return(r._getFrameTLx=r.asm.G).apply(null,arguments)},r._getFrameTLy=function(){return(r._getFrameTLy=r.asm.H).apply(null,arguments)},r._getFrameWidth=function(){return(r._getFrameWidth=r.asm.I).apply(null,arguments)},r._getFrameHeight=function(){return(r._getFrameHeight=r.asm.J).apply(null,arguments)},r._getLargestFaceTLx=function(){return(r._getLargestFaceTLx=r.asm.K).apply(null,arguments)},r._getLargestFaceTLy=function(){return(r._getLargestFaceTLy=r.asm.L).apply(null,arguments)},r._getLargestFaceWidth=function(){return(r._getLargestFaceWidth=r.asm.M).apply(null,arguments)},r._getLargestFaceHeight=function(){return(r._getLargestFaceHeight=r.asm.N).apply(null,arguments)},r._getFaceEnhanceSatBoost=function(){return(r._getFaceEnhanceSatBoost=r.asm.O).apply(null,arguments)},r._getFaceEnhanceCurvePoly=function(){return(r._getFaceEnhanceCurvePoly=r.asm.P).apply(null,arguments)},r._loadModel=function(){return(r._loadModel=r.asm.Q).apply(null,arguments)},r._malloc=function(){return(pe=r._malloc=r.asm.R).apply(null,arguments)}),me=(r._infer=function(){return(r._infer=r.asm.S).apply(null,arguments)},r.___errno_location=function(){return(me=r.___errno_location=r.asm.U).apply(null,arguments)}),fe=r._memalign=function(){return(fe=r._memalign=r.asm.V).apply(null,arguments)};function ge(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ve(e){function t(){le||(le=!0,r.calledRun=!0,_||(r.noFSInit||ie.init.initialized||ie.init(),ie.ignorePermissions=!1,ee.init(),q(I),i(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),R.unshift(e);var e;q(R)}()))}e=e||u,N>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),P.unshift(e);var e;q(P)}(),N>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t()))}if(V=function e(){le||ve(),le||(V=e)},r.run=ve,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return ve(),e.ready});e.exports=i}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";i.r(n),i.d(n,{VideoFilter:()=>c});var e=i(276),t=i.n(e);const r="vsl_impl.pkgwvsl",o="vsl_impl.wasm";class a{constructor(e){this.initDone_=!1,this.imgLogList_=[],this.fps_=30,this.frameSubSample_=15,this.setLogDurationSec(3),this.frameCount_=0,this.imgLogLen_=Math.round(this.logDurationSec_*this.fps_/this.frameSubSample_),this.init(e),this.backgroundRed_=0,this.backgroundBlue_=0,this.backgroundGreen_=0,this.textureInit_=!1,this.uploadBackground_=!1,this.updateBackgroundColor_=!1,this.initBackgroundColorDone_=!1,this.isVideoBackground_=!1,this.isBokeh_=!0,this.backgroundImageBitmap_=null,this.initDone_=!0,this.debug_=!1}setDebug(e){this.debug_=e}setSaturation(e){this.gl_.uniform1f(this.satAdjust_,e)}setToneMapPoly(e,t,i){this.gl_.uniform3f(this.toneMapPoly_,e,t,i)}setLogDurationSec(e){this.logDurationSec_=e,this.frameCount_=0,this.imgLogLen_=Math.round(this.logDurationSec_*this.fps_/this.frameSubSample_),!0===this.debug_&&console.debug("[Segmentation: setLogDurationSec]: duration =",e,"sec")}setFaceSmoothStrengthVal(e,t,i){let n=e/Math.max(0,i-t);this.gl_.uniform1f(this.faceSmoothEps_,.001*n)}setOperationMode(e){if("bokeh"===e)this.isBokeh_=!0;else if("replace"===e)if(!1===this.isVideoBackground_)if(null!==this.backgroundImageBitmap_)this.isBokeh_=!1,this.uploadBackground_=!0;else{if(!0!==this.initBackgroundColorDone_)throw"[Segmentation: setOperationMode] Failure to switch to background mode. Background image has not been set.";this.isBokeh_=!1,this.updateBackgroundColor_=!0}else{if(null===this.backgroundVideoSrc_)throw"[Segmentation: setOperationMode] Failure to switch to background mode. Background video source has not been set.";this.isBokeh_=!1}else this.isBokeh_=!0}setBackgroundImageBitmap(e){null!==this.backgroundImageBitmap_&&this.backgroundImageBitmap_.close(),this.backgroundImageBitmap_=e,this.isVideoBackground_=!1,this.uploadBackground_=!0}setBackgroundVideoSrc(e){this.backgroundVideoSrc_=e,this.updateBackgroundVideo_=!0,this.isVideoBackground_=!0}setBackgroundColor(e,t,i){this.backgroundRed_=e,this.backgroundGreen_=t,this.backgroundBlue_=i,this.isVideoBackground_=!1,this.updateBackgroundColor_=!0,this.initBackgroundColorDone_=!0}pauseBackgroundVideo(){this.isVideoBackground_=!1}setZoomScale(e){this.initDone_&&this.gl_.uniform1f(this.zoomScale_,e)}setPanTilt(e,t){this.initDone_&&this.gl_.uniform2f(this.panTilt_,e,t)}getVideoLog(){const e="DLB_VSLw0001";let t=[];for(var i=0;i<e.length;++i)t.push(e.charCodeAt(i));let n=new Uint8Array(t),r=this.imgLogList_.length,o=0;for(i=0;i<this.imgLogList_.length;++i)o+=this.imgLogList_[i].byteLength;let a,s=new Uint8Array(n.byteLength+2+4*r+o),c=0;for(s.set(new Uint8Array(n),c),c+=n.byteLength,s.set(new Uint8Array([(65280&r)>>8,255&r]),c),c+=2,i=0;i<r;++i)a=this.imgLogList_[i].byteLength,s.set(new Uint8Array([(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a]),c),c+=4,s.set(new Uint8Array(this.imgLogList_[i]),c),c+=a;return s}createDiagCanvas(){null===this.diagCanvas_&&(this.diagImageWidth_=640,this.diagImageHeight_=180,this.diagCanvas_=document.createElement("canvas"),this.diagCanvas_.setAttribute("width",this.diagImageWidth_),this.diagCanvas_.setAttribute("height",this.diagImageHeight_))}destroyDiagCanvas(){null!==this.diagCanvas_&&(document.removeChild(this.diagCanvas_),this.diagCanvas_=null)}init(e){!0===this.debug_&&console.debug("[Segmentation: init] Initializing WebGL."),this.facialSmoothNeedInit_=!0,this.diagCanvas_=null,this.createDiagCanvas(),this.widthModel_=160,this.heightModel_=96,this.canvas_=e;const t=this.canvas_.getContext("webgl2",{antialias:!1,premultipliedAlpha:!0});if(!t)throw"[Segmentation: init] Failure to create WebGL2 context. Please check whether WebGL2 is supported by your browser/hardware.";this.gl_=t,this.shaderOperationModeOptions_={blend:1,downscale:2,blur:3,smooth_mask:4,copy:5,fillmask:6,cropresize:7,smooth:8,denoise_update:9,downscale_subtract:10,flood:11,saturate:12,precompute_gf:13,compute_gf_coeff:14};const i=this.loadShader_(t.VERTEX_SHADER,"\n      attribute vec2 a_position;\n      attribute vec2 a_texCoord;\n      uniform vec2 u_resolution;\t\t\t\n      uniform float u_flipY;\n      varying vec2 v_texCoord;\n\n      void main() {\n        // Convert pixels coordinates to -1->+1 (clipSpace)\t\t\t\t\t\n        vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;\n        gl_Position = vec4(clipSpace * vec2(1, -u_flipY), 0, 1);\t\t\t\t\n        v_texCoord = a_texCoord;\n      }"),n=this.loadShader_(t.FRAGMENT_SHADER,"\n      #define BLEND_MODE\t\t \t        1\n      #define DOWNSCALE_MODE\t\t\t    2\n      #define BLUR_MODE\t\t\t          3\n      #define SMOOTHMASK_MODE\t\t\t    4\n      #define COPY_MODE\t\t\t          5\n      #define FILLMASK_MODE\t    \t\t  6\n      #define CROPRESIZE_MODE\t\t\t    7\n      #define SMOOTH_MODE\t\t\t        8\n      #define DENOISE_UPDATE_MODE\t\t  9\n      #define DOWNSCALE_SUBTRACT_MODE 10\n      #define FLOOD_MODE\t\t\t        11\n      #define SATURATE_MODE\t\t\t      12\n      #define PRECOMPUTE_GF_MODE      13\n      #define COMPUTE_GF_COEFF_MODE   14      \n\n      precision lowp  float;        \n      uniform float   u_faceSmoothEps;\n      uniform float \tu_zoomScale;\n      uniform float \tu_satAdjust;\n      uniform vec3    u_toneMapPoly;\n      uniform vec2    u_panTilt;\n      uniform vec2    u_denoiseTl;\n      uniform vec2    u_denoiseBr;\n      uniform int \t  u_operationMode;\n      uniform int \t  u_facialSmoothInit;\n      uniform sampler2D u_image; \n      uniform sampler2D u_image_alpha;\n      uniform sampler2D u_image_bkground;\n      uniform sampler2D u_image_denoise;\t\n      uniform vec2 u_textureSize;    \n      uniform vec2 u_direction; \t\t\t\n      varying vec2 v_texCoord;        \t\t\t\n      void main() {\t\t\t\n        if (u_operationMode == FILLMASK_MODE) {\n          vec3 color = texture2D(u_image, v_texCoord).rgb;\n          vec2 offset = vec2(1.,1.) / u_textureSize;\n          float alpha = texture2D(u_image, v_texCoord).a;\n\n          // Compute the mask for left-right+top-bottom edges\n          float lrMask = texture2D(u_image, v_texCoord - vec2(2.5*offset[0],0.)).a + \n                texture2D(u_image, v_texCoord - vec2(offset[0],0.)).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord + vec2(2.5*offset[0],0.)).a - \n                texture2D(u_image, v_texCoord + vec2(offset[0],0.)).a;\t\t\t\t\t\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord - 1.5*vec2(offset[0],0.)).rgb + \n              0.5*texture2D(u_image, v_texCoord - 3.*vec2(offset[0],0.)).rgb)*(1.-lrMask);\n\n          lrMask = texture2D(u_image, v_texCoord + vec2(2.5*offset[0],0.)).a + \n                texture2D(u_image, v_texCoord + vec2(offset[0],0.)).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord - vec2(2.5*offset[0],0.)).a - \n                texture2D(u_image, v_texCoord - vec2(offset[0],0.)).a;\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord + 1.5*vec2(offset[0],0.)).rgb +\n              0.5*texture2D(u_image, v_texCoord + 3.*vec2(offset[0],0.)).rgb)*(1.-lrMask);\n\n          lrMask = texture2D(u_image, v_texCoord + vec2(0.,2.5*offset[0])).a + \n                texture2D(u_image, v_texCoord + vec2(0.,offset[0])).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord - vec2(0.,2.5*offset[0])).a - \n                texture2D(u_image, v_texCoord - vec2(0.,offset[0])).a;\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord + 1.5*vec2(0.,offset[0])).rgb +\n                0.5*texture2D(u_image, v_texCoord + 3.*vec2(0.,offset[0])).rgb)*(1.-lrMask);\n                \n          lrMask = texture2D(u_image, v_texCoord - vec2(0.,2.5*offset[0])).a + \n                texture2D(u_image, v_texCoord - vec2(0.,offset[0])).a - \t\t\t\t\t\t\t\t\n                texture2D(u_image, v_texCoord + vec2(0.,2.5*offset[0])).a - \n                texture2D(u_image, v_texCoord + vec2(0.,offset[0])).a;\n          lrMask = mix(1.0, 0.0, step(0.5, lrMask));\n          color = color*lrMask + (0.5*texture2D(u_image, v_texCoord- 1.5*vec2(0.,offset[0])).rgb +\n                0.5*texture2D(u_image, v_texCoord - 3.*vec2(0.,offset[0])).rgb)*(1.-lrMask);\n          gl_FragColor = vec4(color, alpha);\t\t\t\t\t\n        }\n        if (u_operationMode == BLEND_MODE) {          \n          vec3 background = texture2D(u_image_bkground, u_zoomScale*v_texCoord+u_panTilt).rgb;\n          vec3 foreground = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\n          float alpha = texture2D(u_image_alpha, u_zoomScale*v_texCoord+u_panTilt).a;\t\t\t\t\t\t\t\t\t\n          //alpha = smoothstep(0.25,0.45, alpha);\n          alpha = smoothstep(0.3,0.55, alpha);\n\n          if (u_satAdjust != 1.) {\n            const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n            vec3 intensity = vec3(dot(foreground, W));\n            foreground = mix(intensity, foreground, u_satAdjust);\n          }\n          foreground = u_toneMapPoly[0] + foreground*u_toneMapPoly[1] + foreground*foreground*u_toneMapPoly[2];\n          \n          gl_FragColor = vec4(mix(foreground,background,alpha),1);\n          return;\n        }\n        if (u_operationMode == CROPRESIZE_MODE) {\n          vec3 rgb = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\n\n          rgb = u_toneMapPoly[0] + rgb*u_toneMapPoly[1] + rgb*rgb*u_toneMapPoly[2];\n          if (u_satAdjust != 1.) {\n            const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n            \n            vec3 intensity = vec3(dot(rgb, W));\n            gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);\n          }\n          else {\n            gl_FragColor = vec4(rgb,1.);\n          }\n          return;\n        }\n        if (u_operationMode == DOWNSCALE_MODE) {\n          vec2 offset = 0.4*vec2(1.,1.) / u_textureSize;\n        \n          gl_FragColor = (1./3.)*(texture2D(u_image, v_texCoord) + \n                0.5*texture2D(u_image, v_texCoord + vec2(offset[0],0.)) + 0.5*texture2D(u_image, v_texCoord - vec2(offset[0],0.)) +\n                0.5*texture2D(u_image, v_texCoord + vec2(0,offset[1])) + 0.5*texture2D(u_image, v_texCoord - vec2(0.,offset[1])));\t\t\n          return;\n        }\n\n        if (u_operationMode == BLUR_MODE) {\n          vec3 color = vec3(0.0);\t\t\t\t\t\n          \n          float alpha = 0.;\n          //vec2 off1_a = vec2(1.3333333333333333) * u_direction / u_textureSize;\n          vec2 off1_a = vec2(1.15) * u_direction / u_textureSize;\n          alpha += texture2D(u_image, v_texCoord).a * 0.29411764705882354;\n          alpha += texture2D(u_image, v_texCoord + off1_a).a * 0.35294117647058826;\n          alpha += texture2D(u_image, v_texCoord - off1_a).a * 0.35294117647058826;\n          \n          vec2 off1 = vec2(1.3846153846) * u_direction / u_textureSize;\n          vec2 off2 = vec2(3.2307692308) * u_direction / u_textureSize;\n          color += texture2D(u_image, v_texCoord).rgb * 0.2270270270;\n          color += texture2D(u_image, v_texCoord + off1).rgb * 0.3162162162;\n          color += texture2D(u_image, v_texCoord - off1).rgb * 0.3162162162;\n          color += texture2D(u_image, v_texCoord + off2).rgb * 0.0702702703;\n          color += texture2D(u_image, v_texCoord - off2).rgb * 0.0702702703;\n          \n          gl_FragColor = vec4(color, alpha);\n          return;\n        }\n        if (u_operationMode == FLOOD_MODE) {\n          vec3 color = vec3(0.0);\t\t\t\t\t\n          vec2 off1 = vec2(1.5) * u_direction / u_textureSize;\n          vec2 off2 = vec2(3.) * u_direction / u_textureSize;\n          color += texture2D(u_image, v_texCoord).rgb;\n          color += texture2D(u_image, v_texCoord + off1).rgb;\n          color += texture2D(u_image, v_texCoord - off1).rgb;\n          color += texture2D(u_image, v_texCoord + off2).rgb;\n          color += texture2D(u_image, v_texCoord - off2).rgb;\n          color = clamp(color,0.,1.);\n          gl_FragColor = vec4(color, 1.);\n          return;\n        }\n        if (u_operationMode == SMOOTHMASK_MODE) {\n          // Compute the smoothing constant based on the motion \n          float smooth_coef = 1.;\n          float out_smooth;\n          out_smooth = smooth_coef*texture2D(u_image, v_texCoord).a + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a;\n          float motion = length(out_smooth-texture2D(u_image_alpha, v_texCoord).a);\n          //if (motion < 0.1) smooth_coef = 0.125;\n          //else  smooth_coef = 0.85;\n          float max_smooth = 0.85;//0.8;\n          float min_smooth = 0.1275;\t\n          float max_motion_val = 0.9;//0.8;\n          float min_motion_val = 0.05;//0.1;\n\n          float slope = (max_smooth - min_smooth)/(max_motion_val - min_motion_val);\n          float offset = max_smooth - slope*max_motion_val;\n          smooth_coef = min(max(slope*motion + offset,min_smooth),max_smooth);\n                    \n          gl_FragColor = vec4(texture2D(u_image, v_texCoord).rgb,\n                  smooth_coef*texture2D(u_image, v_texCoord).a + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a);\n          \n          return;\n        }\n        \n        if (u_operationMode == SATURATE_MODE) {\t\t\t\t\t\n          const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n          vec3 rgb = texture2D(u_image, v_texCoord).rgb;\n          vec3 intensity = vec3(dot(rgb, W));\n          gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);\n          return;\n        }\n        \n        if (u_operationMode == SMOOTH_MODE) {\t\t\t\t\t\n          float smooth_coef = 0.25;\n          gl_FragColor = smooth_coef*texture2D(u_image, v_texCoord) + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord);\t\t\t\t\t\t\t\t\t\t\t\t\n          return;\n        }\n        \n        if (u_operationMode == DOWNSCALE_SUBTRACT_MODE) {\n          vec2 offset = 0.4*vec2(1.,1.) / u_textureSize;\n          float smooth_coef = 0.25;\n          vec3 in1 = (texture2D(u_image, v_texCoord).rgb);\n          vec3 in2 = smooth_coef*in1 + (1.-smooth_coef)*(texture2D(u_image_bkground, v_texCoord).rgb);\n          float alpha = abs((in1.r + in1.g + in1.b) - (in2.r + in2.g + in2.b));\n          float alpha2 = mix(0.0, 1.0, step(0.2, alpha));\t\n          alpha = 1.-smoothstep(0.0,0.00015, alpha);\n          alpha = clamp(alpha,0.25,1.);\n          gl_FragColor = vec4(alpha2,alpha,alpha,1);\t\t\t\t\t\n          return;\n        }\n\n        if (u_operationMode == DENOISE_UPDATE_MODE) {\n          // u_image_alpha = noisy image, u_image_bkground = previously clean image\n          float smooth_coef = 0.25;\n          float alpha  = texture2D(u_image, v_texCoord).g;\n          vec3 noisy = texture2D(u_image_alpha, v_texCoord).rgb;\n          vec3 clean = smooth_coef*noisy + (1.-smooth_coef)*(texture2D(u_image_denoise, v_texCoord).rgb);\n          if ((v_texCoord.x>u_denoiseTl.x)&&(v_texCoord.y>u_denoiseTl.y)&&(v_texCoord.x<u_denoiseBr.x)&&(v_texCoord.y<u_denoiseBr.y))\n          {\n            alpha = 1.;\n          }\n          gl_FragColor = vec4(mix(noisy,clean,alpha),1.);\n          return;\n        }\t\n\n        if (u_operationMode == COPY_MODE) {\n          gl_FragColor = texture2D(u_image, v_texCoord);\n          return;\n        }\t\t\t\n        \n        if (u_operationMode == PRECOMPUTE_GF_MODE) {   \n          vec2 off1 = vec2(0.8*1.3846153846, 0.) / u_textureSize;\n          vec2 off2 = vec2(0., 0.8*1.3846153846) / u_textureSize;\n          vec2 off3 = vec2(3.2307692308, 0.) / u_textureSize;\n          vec2 off4 = vec2(0., 3.2307692308) / u_textureSize;\n\n          vec3 rgb   = texture2D(u_image, v_texCoord).rgb;\n          float intensity  = dot(rgb, vec3(0.299, 0.587, 0.114));\n          float intensitySquareMean = intensity*intensity*(1./5.);\n          float intensityMean = intensity*(1./5.);\n\n          float intensityTmp = dot(texture2D(u_image, v_texCoord + off1).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n\n          intensityTmp = dot(texture2D(u_image, v_texCoord - off1).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n\n          intensityTmp = dot(texture2D(u_image, v_texCoord + off2).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n\n          intensityTmp = dot(texture2D(u_image, v_texCoord - off2).rgb, vec3(0.299, 0.587, 0.114));\n          intensityMean += (1./5.)*intensityTmp;\n          intensitySquareMean += (1./5.)*intensityTmp*intensityTmp;\n                    \n          //step(a,x)*step(x,b);\n          float isSkinColor;\n          //isSkinColor = step(80./255., intensity)*step(intensity, 1.);\n          isSkinColor = step(80./255., intensity)*step(intensity, 1.);\n          float Cb = dot(rgb, vec3(-0.169, -0.331, 0.499))+0.5;\n          //isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 135./255.);\n          isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 124./255.);\n          //isSkinColor = isSkinColor*step(85./255., Cb)*step(Cb, 122./255.);\n          float Cr = dot(rgb, vec3(0.499, -0.418, -0.0813))+0.5;\n          isSkinColor = isSkinColor*step(120./255., Cr)*step(Cr, 180./255.);\n\n          // compute the alpha blending weight\n          float alpha = intensitySquareMean - intensityMean*intensityMean;\n          if (!((v_texCoord.x>u_denoiseTl.x)&&(v_texCoord.y>u_denoiseTl.y)&&(v_texCoord.x<u_denoiseBr.x)&&(v_texCoord.y<u_denoiseBr.y)))\n          {\n            isSkinColor = 0.;\n          }\n          alpha = alpha/(alpha + u_faceSmoothEps*isSkinColor);\n\n          if (u_facialSmoothInit == 0) {\n            float smooth_coef = 0.25;\n            alpha = smooth_coef*alpha + (1.-smooth_coef)*texture2D(u_image_alpha, v_texCoord).a;\n          }\n\n          rgb.x  = intensityMean;\n          gl_FragColor = vec4(rgb,alpha);\n          return;\n        }\n               \n        if (u_operationMode == COMPUTE_GF_COEFF_MODE) {\n          vec3 ycbcrOrig = vec3(0.0);                 \n          vec3 rgb = texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).rgb;\n          vec3 imgOrig = texture2D(u_image_bkground, u_zoomScale*v_texCoord+u_panTilt).rgb;\t\t\t\t\t\n\n          ycbcrOrig.x = dot(imgOrig, vec3(0.299, 0.587, 0.114));\n          \n          ycbcrOrig.y = dot(imgOrig, vec3(-0.169, -0.331, 0.499))+0.5;\n          ycbcrOrig.z = dot(imgOrig, vec3(0.499, -0.418, -0.0813))+0.5;\n          ycbcrOrig.x = mix(rgb.x, ycbcrOrig.x, texture2D(u_image, u_zoomScale*v_texCoord+u_panTilt).a);\n          //ycbcrOrig.x = rgb.x;\n          ycbcrOrig = clamp(ycbcrOrig, 0., 1.);\n          \n          rgb.x = ycbcrOrig.x + 1.402*(ycbcrOrig.z-0.5);\n          rgb.y = ycbcrOrig.x - 0.344*(ycbcrOrig.y-0.5) - 0.714*(ycbcrOrig.z-0.5);\n          rgb.z = ycbcrOrig.x + 1.772*(ycbcrOrig.y-0.5);\n          \n          rgb = u_toneMapPoly[0] + rgb*u_toneMapPoly[1] + rgb*rgb*u_toneMapPoly[2];\n          if (u_satAdjust != 1.) {\n            const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n            \n            vec3 intensity = vec3(dot(rgb, W));\n            gl_FragColor = vec4(mix(intensity, rgb, u_satAdjust), 1.);\n          }\n          else {\n            gl_FragColor = vec4(rgb,1.);\n          }          \n          return;  \n        }\n      }");if(!i||!n)return;const r=t.createProgram();if(t.attachShader(r,i),t.attachShader(r,n),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw t.getProgramInfoLog(r),t.deleteProgram(r),"[Segmentation] Error linking program:\n${infoLog}";t.deleteShader(i),t.deleteShader(n),this.programSegment_=r,this.positionLocation_=t.getAttribLocation(this.programSegment_,"a_position"),t.enableVertexAttribArray(this.positionLocation_),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.vertexAttribPointer(this.positionLocation_,2,t.FLOAT,!1,0,0),this.positionArray_=new Float32Array([0,0,e.width,0,0,e.height,0,e.height,e.width,0,e.width,e.height]),t.bufferData(t.ARRAY_BUFFER,this.positionArray_,t.STATIC_DRAW),this.texcoordLocation_=t.getAttribLocation(this.programSegment_,"a_texCoord"),t.enableVertexAttribArray(this.texcoordLocation_),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.vertexAttribPointer(this.texcoordLocation_,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),this.textureSizeLocation_=t.getUniformLocation(this.programSegment_,"u_textureSize"),this.resolutionLocation_=t.getUniformLocation(this.programSegment_,"u_resolution"),this.directionLocation_=t.getUniformLocation(this.programSegment_,"u_direction"),this.flipYLocation_=t.getUniformLocation(this.programSegment_,"u_flipY"),this.shaderOperationMode_=t.getUniformLocation(this.programSegment_,"u_operationMode"),this.facialSmoothInit_=t.getUniformLocation(this.programSegment_,"u_facialSmoothInit"),this.zoomScale_=t.getUniformLocation(this.programSegment_,"u_zoomScale"),this.faceSmoothEps_=t.getUniformLocation(this.programSegment_,"u_faceSmoothEps"),this.satAdjust_=t.getUniformLocation(this.programSegment_,"u_satAdjust"),this.toneMapPoly_=t.getUniformLocation(this.programSegment_,"u_toneMapPoly"),this.panTilt_=t.getUniformLocation(this.programSegment_,"u_panTilt"),this.denoiseTl_=t.getUniformLocation(this.programSegment_,"u_denoiseTl"),this.denoiseBr_=t.getUniformLocation(this.programSegment_,"u_denoiseBr"),t.viewport(0,0,this.widthModel_,this.heightModel_),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(this.programSegment_),t.uniform1f(this.flipYLocation_,1),t.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blend),t.uniform1i(this.facialSmoothInit_,1),t.uniform1f(this.faceSmoothEps_,.001),t.uniform1f(this.zoomScale_,1),t.uniform2f(this.panTilt_,0,0),t.uniform1f(this.satAdjust_,1),t.uniform3f(this.toneMapPoly_,0,1,0),t.uniform2f(this.denoiseTl_,2,2),t.uniform2f(this.denoiseBr_,-1,-1),t.uniform2f(this.resolutionLocation_,e.width,e.height),t.uniform2f(this.textureSizeLocation_,this.widthModel_,this.heightModel_),this.u_imageLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image"),this.gl_.uniform1i(this.u_imageLocation_,0),this.u_imageBkgndLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_bkground"),this.gl_.uniform1i(this.u_imageBkgndLocation_,1),this.u_imageAlphaLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_alpha"),this.gl_.uniform1i(this.u_imageAlphaLocation_,2),this.u_imageDenoiseLocation_=this.gl_.getUniformLocation(this.programSegment_,"u_image_denoise"),this.gl_.uniform1i(this.u_imageDenoiseLocation_,3),this.inPixels_=new Uint8Array(4*this.widthModel_*this.heightModel_),this.textureBackground_=s(this.gl_),this.texturePrevMask_=s(this.gl_),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.widthModel_,this.heightModel_,0,t.RGBA,t.UNSIGNED_BYTE,null),this.gl_.activeTexture(this.gl_.TEXTURE2),this.fbPrevMask_=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbPrevMask_),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texturePrevMask_,0),this.fbTmp_=[],this.textureTmp_=[];for(let e=0;e<2;e++){var o=s(this.gl_);this.textureTmp_.push(o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.widthModel_,this.heightModel_,0,t.RGBA,t.UNSIGNED_BYTE,null);var a=t.createFramebuffer();this.fbTmp_.push(a),t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0)}this.textureDenoiseInit_=!1,this.textureDenoiseHist_=[],this.fbDenoiseHist_=[];for(let i=0;i<2;i++)this.textureDenoiseHist_.push(s(this.gl_)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this.fbDenoiseHist_.push(t.createFramebuffer()),t.bindFramebuffer(t.FRAMEBUFFER,this.fbDenoiseHist_[i]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.textureDenoiseHist_[i],0);this.denoiseHistIndex_=0,this.fbFacialSmooth_=[],this.textureFacialSmooth_=s(this.gl_),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.widthModel_,this.heightModel_,0,t.RGBA,t.UNSIGNED_BYTE,null),this.fbFacialSmooth_=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbFacialSmooth_),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.textureFacialSmooth_,0),this.texture_=s(this.gl_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,null)}reinitTextures(e,t){if(this.textureInit_=!1,this.width_!==e||this.height_!==t){this.width_=e,this.height_=t,this.canvas_.setAttribute("width",this.width_),this.canvas_.setAttribute("height",this.height_),!0===this.debug_&&console.debug("[Segmentation::reinitTextures] Resolution",this.width_,this.height_,"canvas",this.canvas_.width,this.canvas_.height),this.textureInit_=!1;for(let e=0;e<this.textureDenoiseHist_.length;e++)this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[e]),this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGBA,this.width_,this.height_,0,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,null);this.denoiseHistIndex_=0}this.denoiseReset()}smoothMaskReset(){this.init_prev_mask_=!1}denoiseReset(){this.textureDenoiseInit_=!1}faceSmoothReset(){this.facialSmoothNeedInit_=!0}async passthrough(e){let t=new Uint8Array(4);this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.viewport(0,0,1,1),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.readPixels(0,0,1,1,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,t),this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),0==this.textureInit_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}async applyDenoise(e){let t,i,n,r;this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.denoiseHistIndex_=(this.denoiseHistIndex_+1)%2,this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),!1===this.textureInit_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e),this.gl_.activeTexture(this.gl_.TEXTURE2),!1===this.textureDenoiseInit_&&(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e),this.textureDenoiseInit_=!0),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.downscale_subtract),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.readPixels(0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),t=2*this.widthModel_,i=-1,n=2*this.heightModel_,r=-1;for(var o=0;o<this.heightModel_;o++)for(var a=0;a<this.widthModel_;a++)if(this.inPixels_[4*(o*this.widthModel_+a)+0]>200){t=Math.min(t,a);break}for(o=0;o<this.heightModel_;o++)for(a=this.widthModel_-1;a>0;a--)if(this.inPixels_[4*(o*this.widthModel_+a)+0]>200){i=Math.max(i,a);break}for(a=0;a<this.widthModel_;a++)for(o=0;o<this.heightModel_;o++)if(this.inPixels_[4*(o*this.widthModel_+a)+0]>200){n=Math.min(n,o);break}for(a=0;a<this.widthModel_;a++)for(o=this.heightModel_-1;o>0;o--)if(this.inPixels_[4*(o*this.widthModel_+a)+0]>200){r=Math.max(r,o);break}t/=this.widthModel_-1,i/=this.widthModel_-1,n/=this.heightModel_-1,r/=this.heightModel_-1,t*=.9,n*=.9,i=Math.min(1,1.1*i),r=Math.min(1,1.1*r),this.gl_.uniform2f(this.denoiseTl_,t,n),this.gl_.uniform2f(this.denoiseBr_,i,r),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[this.denoiseHistIndex_]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.denoise_update),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[(this.denoiseHistIndex_+1)%2]),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}copyDenoiseToCanvas(){this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[[(this.denoiseHistIndex_+1)%2]]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}async preProcess(e,t){this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),!0===t?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):(this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),0==this.textureInit_?this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e)),this.readPixelSuccess=!1,this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.downscale),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.readPixels(0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),this.readPixelSuccess=!0}putinferEngineInData(e,t){if(this.readPixelSuccess){const i=255;let n=0;for(let r=0;r<this.widthModel_*this.heightModel_*4;r+=4)e.HEAPF32[t+n]=this.inPixels_[r]/i,e.HEAPF32[t+n+1]=this.inPixels_[r+1]/i,e.HEAPF32[t+n+2]=this.inPixels_[r+2]/i,n+=3}}putinferEngineMask(e,t){this.gl_.activeTexture(this.gl_.TEXTURE0);let i=0;for(var n=0;n<this.inPixels_.length;n+=4)this.inPixels_[n+3]=Math.min(Math.max(255-64*e.HEAPF32[t+i],0),255),i+=1;this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),0==this.textureInit_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGBA,this.widthModel_,this.heightModel_,0,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_),this.textureInit_=!0):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.widthModel_,this.heightModel_,this.gl_.RGBA,this.gl_.UNSIGNED_BYTE,this.inPixels_)}getData(e){let t=0;for(let i=0;i<this.widthModel_*this.heightModel_*4;i+=4)e[t]=this.inPixels_[i]/255,e[t+1]=this.inPixels_[i+1]/255,e[t+2]=this.inPixels_[i+2]/255,t+=3}getPixelBuffer(){return this.inPixels_}async reframeOnly(e,t,i){this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.cropresize),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),this.gl_.activeTexture(this.gl_.TEXTURE0),!0===t?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}facialSmoothing(e,t,i){let n,r,o,a;this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE1),!0===t?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureFacialSmooth_),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_),n=e._getLargestFaceTLx(),o=e._getLargestFaceTLy(),r=n+e._getLargestFaceWidth(),a=o+e._getLargestFaceHeight(),n/=this.widthModel_-1,r/=this.widthModel_-1,o/=this.heightModel_-1,a/=this.heightModel_-1,n*=.95,o*=.95,r=Math.min(1,1.05*r),a=Math.min(1,1.05*a),this.gl_.uniform2f(this.denoiseTl_,n,o),this.gl_.uniform2f(this.denoiseBr_,r,a),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.precompute_gf),0==e._getNumFaces()&&(this.facialSmoothNeedInit_=!0),!0===this.facialSmoothNeedInit_&&this.gl_.uniform1i(this.facialSmoothInit_,1),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),!0===this.facialSmoothNeedInit_&&(this.gl_.uniform1i(this.facialSmoothInit_,0),this.facialSmoothNeedInit_=!1),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbFacialSmooth_),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.compute_gf_coeff),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),!0===i?(this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)):(this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbDenoiseHist_[this.denoiseHistIndex_]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)),this.gl_.viewport(0,0,this.widthModel_,this.heightModel_)}async postProcess(e,t){let i;this.gl_.activeTexture(this.gl_.TEXTURE1),i=!0===t?this.textureDenoiseHist_[this.denoiseHistIndex_]:!0===e?this.textureDenoiseHist_[(this.denoiseHistIndex_+1)%2]:this.texture_,this.gl_.bindTexture(this.gl_.TEXTURE_2D,i),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.fillmask),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blur);var n=-1;for(let e=0;e<2;e++)n*=-1,this.gl_.uniform1f(this.flipYLocation_,n),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[e%2]),e%2==0?this.gl_.uniform2f(this.directionLocation_,0,1):this.gl_.uniform2f(this.directionLocation_,1,0),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[e%2]);if(this.gl_.uniform2f(this.directionLocation_,0,1),this.gl_.uniform1f(this.flipYLocation_,-n),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[0]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),1==this.init_prev_mask_?this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.smooth_mask):(this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.init_prev_mask_=!0),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbTmp_[1]),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.copy),this.gl_.uniform1f(this.flipYLocation_,-1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,this.fbPrevMask_),this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[0]),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,i),this.gl_.activeTexture(this.gl_.TEXTURE3),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texture_),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6),this.gl_.uniform1i(this.shaderOperationMode_,this.shaderOperationModeOptions_.blend),this.gl_.uniform1f(this.flipYLocation_,1),this.gl_.viewport(0,0,this.canvas_.width,this.canvas_.height),!0===this.uploadBackground_&&!1===this.isVideoBackground_&&(this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),null!==this.backgroundImageBitmap_&&(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.backgroundImageBitmap_),this.uploadBackground_=!1)),!0===this.updateBackgroundColor_&&!1===this.isVideoBackground_){this.gl_.activeTexture(this.gl_.TEXTURE1),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_);let e=new Uint8Array(3);e[0]=this.backgroundRed_,e[1]=this.backgroundGreen_,e[2]=this.backgroundBlue_,this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,1,1,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,e),!0===this.debug_&&console.debug("[Segmentation: postProcess] Has set background color to",this.backgroundRed_,this.backgroundGreen_,this.backgroundBlue_),this.updateBackgroundColor_=!1}this.gl_.activeTexture(this.gl_.TEXTURE1),1==this.isBokeh_?this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureTmp_[1]):this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.textureBackground_),null!==this.backgroundVideoSrc_&&!0===this.isVideoBackground_&&0==this.isBokeh_&&this.backgroundVideoSrc_.videoWidth>0&&(this.imageBitmapBgndVid_=await createImageBitmap(this.backgroundVideoSrc_),!0===this.updateBackgroundVideo_?(this.gl_.texImage2D(this.gl_.TEXTURE_2D,0,this.gl_.RGB,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.imageBitmapBgndVid_),this.updateBackgroundVideo_=!1):this.gl_.texSubImage2D(this.gl_.TEXTURE_2D,0,0,0,this.gl_.RGB,this.gl_.UNSIGNED_BYTE,this.imageBitmapBgndVid_),this.imageBitmapBgndVid_.close()),this.gl_.activeTexture(this.gl_.TEXTURE0),this.gl_.bindTexture(this.gl_.TEXTURE_2D,i),this.gl_.activeTexture(this.gl_.TEXTURE2),this.gl_.bindTexture(this.gl_.TEXTURE_2D,this.texturePrevMask_),this.gl_.bindFramebuffer(this.gl_.FRAMEBUFFER,null),this.gl_.drawArrays(this.gl_.TRIANGLES,0,6)}async captureImage(e){if(0!=this.imgLogLen_){if(this.frameCount_=this.frameCount_+1,this.frameCount_>=this.frameSubSample_){const t=this.diagCanvas_.getContext("2d");for(t.drawImage(e,0,0,this.canvas_.width,this.canvas_.height,0,0,this.diagCanvas_.width/2,this.diagCanvas_.height),t.drawImage(this.canvas_,0,0,this.canvas_.width,this.canvas_.height,this.diagCanvas_.width/2,0,this.diagCanvas_.width/2,this.diagCanvas_.height),this.imgLog_=this.diagCanvas_.toDataURL("image/jpg",.9);this.imgLogList_.length>=this.imgLogLen_;)this.imgLogList_.shift();this.imgLogList_.push(function(e){if("string"!=typeof e)throw console.debug("Invalid argument: dataURI must be a string"),"[dataURItoArrayBuffer] Invalid argument: dataURI must be a string";(e=e.split(","))[0].split(":")[1].split(";")[0];for(var t=window.atob(e[1]),i=t.length,n=new ArrayBuffer(i),r=new Uint8Array(n),o=0;o<i;o++)r[o]=t.charCodeAt(o);return r}(this.imgLog_)),this.frameCount_=0}}else{for(;this.imgLogList_.length>0;)this.imgLogList_.pop();this.frameCount_=0}}loadShader_(e,t){const i=this.gl_,n=i.createShader(e);if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw i.getShaderInfoLog(n),i.deleteShader(n),"[Segmentation] Error compiling shader:\n${infoLog}";return n}destroy(){this.gl_&&(!0===this.debug_&&console.debug("[Segmentation] Forcing WebGL to lose context."),this.gl_.getExtension("WEBGL_lose_context").loseContext()),destroyDiagCanvas()}}function s(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),t}class c{constructor(e,i={mode:"bokeh",wasm_filepath:o,model_filepath:r,passthrough:!1,debug:!1,autoframe:!1,background:"",logduration:0,process_enable:!0,denoise:!1,face_enhance:!1,face_smooth:!1,face_smooth_strength:100}){return(async()=>{if(!0===(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")))throw"[VideoFilter] Safari is not supported.";if(0==(e instanceof HTMLVideoElement||e instanceof MediaStream))throw"[VideoFilter] Invalid argument: only MediaStream or HTMLVideoElement";this.setIntervalId_=null,this.localVideo_=null,this.videoElement_=null,this.inStream_=null,this.modelVersion_="",this.logDurationMin_=0,this.logDurationMax_=60,this.faceSmoothStrengthMin_=0,this.faceSmoothStrengthMax_=100,this.config_={};let n={mode:"bokeh",wasm_filepath:o,model_filepath:r,passthrough:!1,debug:!1,autoframe:!1,background:"",logduration:0,process_enable:!0,denoise:!1,face_enhance:!1,face_smooth:!1,face_smooth_strength:100};("mode"in i||"string"==typeof i.mode||i.mode instanceof String)&&("bokeh"!==i.mode&&"replace"!==i.mode||(n.mode=i.mode)),("passthrough"in i||"boolean"==typeof i.passthrough)&&(n.passthrough=i.passthrough),("debug"in i||"boolean"==typeof i.debug)&&(n.debug=i.debug),("background"in i||"string"==typeof i.background||i.background instanceof String)&&(n.background=i.background),("autoframe"in i||"boolean"==typeof i.autoframe)&&(n.autoframe=i.autoframe),("denoise"in i||"boolean"==typeof i.denoise)&&(n.denoise=i.denoise),("logduration"in i||"number"==typeof i.logduration)&&(n.logduration=i.logduration),("process_enable"in i||"boolean"==typeof i.process_enable)&&(n.process_enable=i.process_enable),("face_enhance"in i||"boolean"==typeof i.face_enhance)&&(n.face_enhance=i.face_enhance),("face_smooth"in i||"boolean"==typeof i.face_smooth)&&(n.face_smooth=i.face_smooth),("face_smooth_strength"in i||"number"==typeof i.face_smooth_strength)&&(n.face_smooth_strength=i.face_smooth_strength),("wasm_filepath"in i||"string"==typeof i.wasm_filepath||i.wasm_filepath instanceof String)&&(n.wasm_filepath=i.wasm_filepath),("model_filepath"in i||"string"==typeof i.model_filepath||i.model_filepath instanceof String)&&(n.model_filepath=i.model_filepath),!0===n.debug&&console.debug("[VideoFilter] About to set the params to",n),e instanceof HTMLVideoElement&&(this.videoElement_=e),e instanceof MediaStream&&(this.inStream_=e);let s=!1,c=!1,u=n.model_filepath;const d=function(e){var t=e.split("/").pop();const i=(t=(t=t.split("?")[0]).split("#")[0]).indexOf(".");return i>0?t.substring(i+1):""}(u);"tflite"===d?(s=!1,!0===n.debug&&console.debug("[VideoFilter] Unencrypted model.")):s=!0,"pkgtflite"===d&&(s=!1,c=!0,!0===n.debug&&console.debug("[VideoFilter] Unencrypted packaged model.")),"pkgwvsl"===d&&(s=!0,c=!0),!0===n.debug&&console.debug("[VideoFilter] Model filename extension: ",d);const l=await fetch(u),h=await l.arrayBuffer();return!0===n.debug&&console.debug("[VideoFilter] Have downloaded inferEngine model with size:",h.byteLength),this.inferEngineObj_=await async function(e){try{return await t()({locateFile:function(){return e}})}catch(e){console.warn("[VideoFilter: loadInferEngine] Failed to create Infer SIMD WebAssembly module.",e)}}(n.wasm_filepath),this.modelVersion_=await async function(e,t,i,n,r){const o=e._getModelBufferMemoryOffset();if(!0===r&&console.debug("[VideoFilter: loadInferModel] Loading model buffer..."),e.HEAPU8.set(new Uint8Array(t),o),0==(0==e._loadModel(t.byteLength,i,n)))return"N/A";!0===r&&console.debug("[VideoFilter: loadInferModel] Model has been successfully loaded");let a=e._getInputName(),s=new Uint8Array(16);for(var c=0;c<s.length;c++)s[c]=e.HEAPU8[a+c+8];let u=(new TextDecoder).decode(s);return!1===u.includes("_VER")&&(u="N/A"),!0===r&&console.debug("[VideoFilter: loadInferModel] Model version  :",u),u}(this.inferEngineObj_,h,s,c,n.debug),this.inputMemoryOffset_=this.inferEngineObj_._getInputMemoryOffset()/4,this.outputMemoryOffset_=this.inferEngineObj_._getOutputMemoryOffset(0)/4,null!==this.inStream_&&(this.width_=e.getVideoTracks()[0].getSettings().width,this.height_=e.getVideoTracks()[0].getSettings().height,this.fps_=e.getVideoTracks()[0].getSettings().frameRate),null!==this.videoElement_&&(this.width_=e.videoWidth,this.height_=e.videoHeight,this.fps_=30),this.canvas_=document.createElement("canvas"),this.canvas_.setAttribute("width",this.width_),this.canvas_.setAttribute("height",this.height_),this.Segment_=new a(this.canvas_),this.setDebugMode(n.debug),this.setPassthroughMode(n.passthrough),this.setAutoframeMode(n.autoframe),this.setFaceEnhanceMode(n.face_enhance),this.setFaceSmoothMode(n.face_smooth),this.setDenoiseMode(n.denoise),this.setProcessEnable(n.process_enable),this.setLogDuration(n.logduration),this.setFaceSmoothStrength(n.face_smooth_strength),n.background.length>0&&await this.changeBackground(n.background),null!==this.inStream_&&this.initStream(this.inStream_),null!==this.videoElement_&&this.initVideo(this.videoElement_),this.setBackgroundMode(n.mode),this.outStream_=this.canvas_.captureStream(this.fps_),!0===n.debug&&console.debug("[VideoFilter]: Capturing at",this.fps_,"fps,",this.width_,"x",this.height_),this})()}setProcessEnable(e){this.config_.process_enable=e}getProcessEnable(e){return this.config_.process_enable}setFaceEnhanceMode(e){this.config_.face_enhance=e}getFaceEnhanceMode(e){return this.config_.face_enhance}setFaceSmoothMode(e){this.Segment_.faceSmoothReset(),this.config_.face_smooth=e}getFaceSmoothMode(e){return this.config_.face_smooth}setLogDuration(e){let t=parseInt(e);t>=this.logDurationMin_&&t<=this.logDurationMax_?(this.Segment_.setLogDurationSec(t),this.config_.logduration=t):console.debug("[VideoFilter] Unable to setLogDuration: value is out of range.")}getLogDurationMin(){return this.logDurationMin_}getLogDurationMax(){return this.logDurationMax_}getLogDuration(){return this.config_.logduration}setFaceSmoothStrength(e){let t;t="number"==typeof e?e:parseInt(e),t>=this.faceSmoothStrengthMin_&&t<=this.faceSmoothStrengthMax_?(this.Segment_.setFaceSmoothStrengthVal(t,this.faceSmoothStrengthMin_,this.faceSmoothStrengthMax_),this.config_.face_smooth_strength=t):console.debug("[VideoFilter] Unable to setFaceSmoothStrength: value is out of range.")}getFaceSmoothStrengthMax(){return this.faceSmoothStrengthMax_}getFaceSmoothStrengthMin(){return this.faceSmoothStrengthMin_}getFaceSmoothStrength(){return this.config_.face_smooth_strength}uploadVideoLog(){let e=this.Segment_.getVideoLog();(async function(e){return new Promise(((t,i)=>{let n=new FileReader;n.onerror=i,n.onload=e=>t(n.result),n.readAsDataURL(e)}))})(new Blob([e],{type:"image/png"})).then((e=>async function(e,t){let i=new XMLHttpRequest;i.responseType="blob",i.onload=function(){let e=document.createElement("a");e.href=window.URL.createObjectURL(i.response),e.download="videoLog.bin",e.style.display="none",document.body.appendChild(e),e.click(),e.remove()},i.open("GET",e),i.send()}(e)))}setPassthroughMode(e){this.Segment_.denoiseReset(),this.config_.passthrough=e}getPassthroughMode(){return this.config_.passthrough}setAutoframeMode(e){this.config_.autoframe=e}getAutoframeMode(){return this.config_.autoframe}setDenoiseMode(e){this.Segment_.denoiseReset(),this.config_.denoise=e}getDenoiseMode(){return this.config_.denoise}setDebugMode(e){this.Segment_.setDebug(e),this.config_.debug=e}getDebugMode(){return this.config_.debug}setBackgroundMode(e){"bokeh"==e?(this.Segment_.setOperationMode("bokeh"),this.config_.mode="bokeh"):"replace"==e?(this.Segment_.setOperationMode("replace"),this.config_.mode="replace"):(this.Segment_.setOperationMode("bokeh"),this.config_.mode="bokeh",console.log("[VideoFilter]: setBackgroundMode error:",e,"is invalid options. Valid options are {'bokeh','replace'}"))}setSaturation(e){this.Segment_.setSaturation(e)}getBackgroundMode(){return this.config_.mode}async getImageBitMap(e){return new Promise((async(t,i)=>{let n=new Image;n.onload=async()=>{!0===this.config_.debug&&console.debug("[VideoFilter: getImageBitMap] About to createImageBitmap");let i=await createImageBitmap(n);n=null,!0===this.config_.debug&&console.debug("[VideoFilter: getImageBitMap] Have been changed to",e),t(i)},n.onerror=function(){n=null,console.log("[VideoFilter: getImageBitMap] backgroundImg.onerror"),i(null)},n.src=e,!0===this.config_.debug&&console.debug("[VideoFilter: getImageBitMap] backgroundImg_.src",e)}))}getModelVersion(){return this.modelVersion_}async changeBackground(e){try{if("string"==typeof e||e instanceof String)if("#"==e.charAt(0)&&7==e.length){if(parseInt(e.slice(1),16).toString(16)!==e.slice(1).toLowerCase())throw"[VideoFilter: changeBackground] Invalid argument: input string does not contain hex values";this.changeBackgroundColor(e)}else"mp4"===e.split(".").pop()?await this.changeVideoBackground(e):await this.changeImageBackground(e);else await this.changeImageBackground(e)}catch(e){console.warn("[VideoFilter: changeBackground] Failed to change background",e)}}changeBackgroundColor(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(t[1],16),n=parseInt(t[2],16),r=parseInt(t[3],16);this.Segment_.setBackgroundColor(i,n,r),!0===this.config_.debug&&console.debug("[VideoFilter: changeBackgroundColor]")}async changeImageBackground(e){try{let t;"string"==typeof e||e instanceof String?(!0===this.config_.debug&&console.debug("[VideoFilter: changeImageBackground] backgroundImg_.src",e),t=await this.getImageBitMap(e)):t=await createImageBitmap(e),null!==t&&(this.backgroundImageBitmap_=t,this.config_.background=e,this.Segment_.setBackgroundImageBitmap(t))}catch(e){console.warn("[VideoFilter: changeImageBackground] Failed to load background image:",e)}}async changeVideoBackground(e){try{null==this.videoBackgroundSrc_&&(this.videoBackgroundSrc_=document.createElement("video"),this.videoBackgroundSrc_.addEventListener("loadeddata",function(){this.videoBackgroundSrc_.videoWidth>0&&(!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground] About to set the video background"),this.Segment_.setBackgroundVideoSrc(this.videoBackgroundSrc_),!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground] video background has changed"))}.bind(this))),this.localVideo_.onpause=()=>{!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground] 'pause': should pause background video")},"string"==typeof e||e instanceof String?(this.Segment_.pauseBackgroundVideo(),this.videoBackgroundSrc_.pause(),this.videoBackgroundSrc_.src="",this.videoBackgroundSrc_.srcObject=null,this.videoBackgroundSrc_.load(),this.videoBackgroundSrc_.src=e,this.videoBackgroundSrc_.type="video/mp4",this.videoBackgroundSrc_.autoplay=!0,this.videoBackgroundSrc_.loop=!0,!0===this.config_.debug&&console.debug("[VideoFilter: changeVideoBackground] backgroundVideo_.src",this.videoBackgroundSrc_)):console.warn("[VideoFilter: changeVideoBackground] ERROR: videoSrc is not a string")}catch(e){console.warn("[VideoFilter: changeVideoBackground] Failed to load background image:",e)}}initVideo(e){this.localVideo_=e,!0===this.config_.debug&&console.debug("[VideoFilter: initVideo] About to start the stream"),this.localVideo_.addEventListener("play",(()=>{!0===this.config_.debug&&console.debug("[VideoFilter: initVideo] 'play': setInterval",this.setIntervalId_,"this.videoElement_",this.videoElement_),null===this.setIntervalId_&&(this.setIntervalId_=setInterval(this.process,1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_))})),this.localVideo_.onpause=()=>{!0===this.config_.debug&&console.debug("[VideoFilter: initStream] 'pause': calling filter stop"),this.stop()}}initStream(e){let t=document.createElement("video");t.srcObject=e,t.autoplay=!0,this.localVideo_=t,!0===this.config_.debug&&console.debug("[VideoFilter: initStream] About to start the stream"),this.localVideo_.addEventListener("play",(()=>{!0===this.config_.debug&&console.debug("[VideoFilter: initStream] 'play': setInterval",this.setIntervalId_,"this.inStream_",this.inStream_),null===this.setIntervalId_&&(this.setIntervalId_=setInterval(this.process,1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_))})),this.localVideo_.onpause=()=>{!0===this.config_.debug&&console.debug("[VideoFilter: initStream] 'pause': calling filter stop"),this.stop()}}reinitStream(e){this.localVideo_.srcObject=e,!0===this.config_.debug&&console.debug("[VideoFilter: reinitStream] Setting to new stream")}async stop(){null!==this.localVideo_&&null!==this.setIntervalId_&&(clearInterval(this.setIntervalId_),delete this.setIntervalId_,this.setIntervalId_=null,!0===this.config_.debug&&console.debug("[VideoFilter: stop] Have stopped video filter"))}restart(){null!==this.localVideo_&&null===this.setIntervalId_&&(this.setIntervalId_=setInterval(this.process,1e3/this.fps_,this.localVideo_,this.Segment_,this.config_,this.inputMemoryOffset_,this.outputMemoryOffset_,this.inferEngineObj_),!0===this.config_.debug&&console.debug("[VideoFilter: restart] Have restarted video filter"))}async changeInput(e){if(0==(e instanceof HTMLVideoElement||e instanceof MediaStream))throw"[VideoFilter: changeInput] Invalid argument: only MediaStream or HTMLVideoElement for the source";if(null===e)throw"[VideoFilter: changeInput] Invalid argument: source = null";e instanceof HTMLVideoElement&&(await this.stop(),this.width_=e.videoWidth,this.height_=e.videoHeight,this.fps_=30,this.videoElement_=e,this.Segment_.reinitTextures(this.width_,this.height_),this.inStream_=null,this.Segment_.denoiseReset(),this.Segment_.smoothMaskReset(),this.initVideo(this.videoElement_),!0===this.config_.debug&&console.debug("[VideoFilter::changeInput]",this.videoElement_,this.width_,this.height_,e.videoWidth,e.videoHeight)),e instanceof MediaStream&&(await this.stop(),this.width_===e.getVideoTracks()[0].getSettings().width&&this.height_===e.getVideoTracks()[0].getSettings().height||(this.width_=e.getVideoTracks()[0].getSettings().width,this.height_=e.getVideoTracks()[0].getSettings().height),this.fps_=e.getVideoTracks()[0].getSettings().frameRate,this.inStream_=e,this.Segment_.reinitTextures(this.width_,this.height_),this.videoElement_=null,this.Segment_.denoiseReset(),this.Segment_.smoothMaskReset(),this.reinitStream(this.inStream_),!0===this.config_.debug&&console.debug("[VideoFilter::changeInput]",this.inStream_))}async process(e,t,i,n,r,o){if(!1===i.process_enable)return;let a=await createImageBitmap(e),s=a.width,c=a.height;if(s<=0||c<=0)return console.warn("[VideoFilter: process] Invalid resolution:",s,"x",c),void a.close();if(t.width_==s&&t.height_==c||(t.reinitTextures(s,c),t.smoothMaskReset(),!0===i.debug&&console.debug("[VideoFilter] Video resolution has changed to: ",s,"x",c)),!0===i.passthrough&&!1===i.autoframe&&!1===i.face_enhance&&!1===i.face_smooth)return!0===i.denoise?(await t.applyDenoise(a),t.copyDenoiseToCanvas()):await t.passthrough(a),void a.close();!0===i.denoise&&await t.applyDenoise(a),await t.preProcess(a,i.denoise),t.putinferEngineInData(o,n),o._infer(!1===i.passthrough,!0===i.autoframe||!0===i.face_enhance||!0===i.face_smooth);let u=o._getFaceEnhanceSatBoost(),d=[];d.push(o._getFaceEnhanceCurvePoly(0)),d.push(o._getFaceEnhanceCurvePoly(1)),d.push(o._getFaceEnhanceCurvePoly(2)),!0===i.face_enhance?(t.setSaturation(u),t.setToneMapPoly(o._getFaceEnhanceCurvePoly(0),o._getFaceEnhanceCurvePoly(1),o._getFaceEnhanceCurvePoly(2))):(t.setSaturation(1),t.setToneMapPoly(0,1,0));let l=o._getFrameWidth(),h=o._getFrameTLx(),p=o._getFrameTLy();if(t.setZoomScale(1),t.setPanTilt(0,0),!0===i.face_smooth)return!0===i.passthrough?(!0===i.autoframe&&(t.setZoomScale(l),t.setPanTilt(h,p)),t.facialSmoothing(o,i.denoise,!0)):(t.facialSmoothing(o,i.denoise,!1),t.putinferEngineMask(o,r),!0===i.autoframe&&(t.setZoomScale(l),t.setPanTilt(h,p)),t.setSaturation(1),t.setToneMapPoly(0,1,0),await t.postProcess(i.denoise,i.face_smooth)),void a.close();!0===i.autoframe&&(t.setZoomScale(l),t.setPanTilt(h,p)),!0===i.passthrough?await t.reframeOnly(o,i.denoise):(t.putinferEngineMask(o,r),await t.postProcess(i.denoise,i.face_smooth)),await t.captureImage(e),a.close()}async getOutput(){return this.outStream_}}})(),n})(),e.exports=t()},5595:function(e,t,i){"use strict";const n=i(8058),r=i(4846),o=i(8254),a=i(2363).y,s=i(9968).m,c=i(5433).U,u=i(1113),d=i(7646),{fromCallback:l}=i(3096),{getCustomInspectSymbol:h}=i(7620),p=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,m=/[\x00-\x1F]/,f=["\n","\r","\0"],g=/[\x20-\x3A\x3C-\x7E]+/,v=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,k={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},y=2147483647e3,b='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function w(e){u.validate(u.isNonEmptyString(e),e);const t=String(e).toLowerCase();return"none"===t||"lax"===t||"strict"===t?t:null}const _=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),S=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,j="\n\\[?(?:\n(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|\n(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|\n(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|\n(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|\n(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))\n)(?:%[0-9a-zA-Z]{1,})?\\]?\n".replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),T=new RegExp(`^${j}$`);function C(e,t,i,n){let r=0;for(;r<e.length;){const t=e.charCodeAt(r);if(t<=47||t>=58)break;r++}return r<t||r>i?null:n||r==e.length?parseInt(e.substr(0,r),10):null}function E(e){const t=e.split(":"),i=[0,0,0];if(3!==t.length)return null;for(let e=0;e<3;e++){const n=2==e,r=C(t[e],1,2,n);if(null===r)return null;i[e]=r}return i}function x(e){e=String(e).substr(0,3).toLowerCase();const t=k[e];return t>=0?t:null}function M(e){if(!e)return;const t=e.split(v);if(!t)return;let i=null,n=null,r=null,o=null,a=null,s=null;for(let e=0;e<t.length;e++){const c=t[e].trim();if(!c.length)continue;let u;null===r&&(u=E(c),u)?(i=u[0],n=u[1],r=u[2]):null!==o||(u=C(c,1,2,!0),null===u)?null!==a||(u=x(c),null===u)?null===s&&(u=C(c,2,4,!0),null!==u&&(s=u,s>=70&&s<=99?s+=1900:s>=0&&s<=69&&(s+=2e3))):a=u:o=u}return null===o||null===a||null===s||null===r||o<1||o>31||s<1601||i>23||n>59||r>59?void 0:new Date(Date.UTC(s,a,o,i,n,r))}function P(e){return null==e?null:(e=e.trim().replace(/^\./,""),T.test(e)&&(e=e.replace("[","").replace("]","")),n&&/[^\u0001-\u007f]/.test(e)&&(e=n.toASCII(e)),e.toLowerCase())}function I(e,t,i){if(null==e||null==t)return null;if(!1!==i&&(e=P(e),t=P(t)),e==t)return!0;const n=e.lastIndexOf(t);return!(n<=0||e.length!==t.length+n||"."!==e.substr(n-1,1)||S.test(e))}function R(e){let t;try{t=JSON.parse(e)}catch(e){return e}return t}function D(e){if(!e||u.isEmptyString(e))return null;let t;if("string"==typeof e){if(t=R(e),t instanceof Error)return null}else t=e;const i=new z;for(let e=0;e<z.serializableProperties.length;e++){const n=z.serializableProperties[e];void 0!==t[n]&&t[n]!==F[n]&&("expires"===n||"creation"===n||"lastAccessed"===n?null===t[n]?i[n]=null:i[n]="Infinity"==t[n]?"Infinity":new Date(t[n]):i[n]=t[n])}return i}function A(e,t){u.validate(u.isObject(e),e),u.validate(u.isObject(t),t);let i=0;const n=e.path?e.path.length:0;return i=(t.path?t.path.length:0)-n,0!==i||(i=(e.creation?e.creation.getTime():y)-(t.creation?t.creation.getTime():y),0!==i||(i=e.creationIndex-t.creationIndex)),i}function O(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return r(e)}const F={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0};class z{constructor(e={}){const t=h();t&&(this[t]=this.inspect),Object.assign(this,F,e),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++z.cookiesCreated})}inspect(){const e=Date.now(),t=null!=this.hostOnly?this.hostOnly:"?",i=this.creation?e-this.creation.getTime()+"ms":"?",n=this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?";return`Cookie="${this.toString()}; hostOnly=${t}; aAge=${n}; cAge=${i}"`}toJSON(){const e={};for(const t of z.serializableProperties)this[t]!==F[t]&&("expires"===t||"creation"===t||"lastAccessed"===t?null===this[t]?e[t]=null:e[t]="Infinity"==this[t]?"Infinity":this[t].toISOString():"maxAge"===t?null!==this[t]&&(e[t]=this[t]==1/0||this[t]==-1/0?this[t].toString():this[t]):this[t]!==F[t]&&(e[t]=this[t]));return e}clone(){return D(this.toJSON())}validate(){if(!p.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||M(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!g.test(this.path))return!1;const e=this.cdomain();if(e){if(e.match(/\.$/))return!1;if(null==o.getPublicSuffix(e))return!1}return!0}setExpires(e){e instanceof Date?this.expires=e:this.expires=M(e)||"Infinity"}setMaxAge(e){this.maxAge=e===1/0||e===-1/0?e.toString():e}cookieString(){let e=this.value;return null==e&&(e=""),""===this.key?e:`${this.key}=${e}`}toString(){let e=this.cookieString();if(this.expires!=1/0&&(this.expires instanceof Date?e+=`; Expires=${t=this.expires,u.validate(u.isDate(t),t),t.toUTCString()}`:e+=`; Expires=${this.expires}`),null!=this.maxAge&&this.maxAge!=1/0&&(e+=`; Max-Age=${this.maxAge}`),this.domain&&!this.hostOnly&&(e+=`; Domain=${this.domain}`),this.path&&(e+=`; Path=${this.path}`),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.sameSite&&"none"!==this.sameSite){const t=z.sameSiteCanonical[this.sameSite.toLowerCase()];e+=`; SameSite=${t||this.sameSite}`}var t;return this.extensions&&this.extensions.forEach((t=>{e+=`; ${t}`})),e}TTL(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;let t=this.expires;return t!=1/0?(t instanceof Date||(t=M(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0}expiryTime(e){if(null!=this.maxAge){const t=e||this.creation||new Date,i=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+i}return this.expires==1/0?1/0:this.expires.getTime()}expiryDate(e){const t=this.expiryTime(e);return t==1/0?new Date(y):t==-1/0?new Date(0):new Date(t)}isPersistent(){return null!=this.maxAge||this.expires!=1/0}canonicalizedDomain(){return null==this.domain?null:P(this.domain)}cdomain(){return this.canonicalizedDomain()}}function L(e){if(null!=e){const t=e.toLowerCase();switch(t){case _.STRICT:case _.SILENT:case _.DISABLED:return t}}return _.SILENT}z.cookiesCreated=0,z.parse=function(e,t){if(t&&"object"==typeof t||(t={}),u.isEmptyString(e)||!u.isString(e))return null;const i=(e=e.trim()).indexOf(";"),n=function(e,t){e=function(e){if(u.isEmptyString(e))return e;for(let t=0;t<f.length;t++){const i=e.indexOf(f[t]);-1!==i&&(e=e.substr(0,i))}return e}(e),u.validate(u.isString(e),e);let i,n,r=e.indexOf("=");if(t)0===r&&(r=(e=e.substr(1)).indexOf("="));else if(r<=0)return;if(r<=0?(i="",n=e.trim()):(i=e.substr(0,r).trim(),n=e.substr(r+1).trim()),m.test(i)||m.test(n))return;const o=new z;return o.key=i,o.value=n,o}(-1===i?e:e.substr(0,i),!!t.loose);if(!n)return;if(-1===i)return n;const r=e.slice(i+1).trim();if(0===r.length)return n;const o=r.split(";");for(;o.length;){const e=o.shift().trim();if(0===e.length)continue;const t=e.indexOf("=");let i,r;switch(-1===t?(i=e,r=null):(i=e.substr(0,t),r=e.substr(t+1)),i=i.trim().toLowerCase(),r&&(r=r.trim()),i){case"expires":if(r){const e=M(r);e&&(n.expires=e)}break;case"max-age":if(r&&/^-?[0-9]+$/.test(r)){const e=parseInt(r,10);n.setMaxAge(e)}break;case"domain":if(r){const e=r.trim().replace(/^\./,"");e&&(n.domain=e.toLowerCase())}break;case"path":n.path=r&&"/"===r[0]?r:null;break;case"secure":n.secure=!0;break;case"httponly":n.httpOnly=!0;break;case"samesite":switch(r?r.toLowerCase():""){case"strict":n.sameSite="strict";break;case"lax":n.sameSite="lax";break;case"none":n.sameSite="none";break;default:n.sameSite=void 0}break;default:n.extensions=n.extensions||[],n.extensions.push(e)}}return n},z.fromJSON=D,z.serializableProperties=Object.keys(F),z.sameSiteLevel={strict:3,lax:2,none:1},z.sameSiteCanonical={strict:"Strict",lax:"Lax"};class N{constructor(e,t={rejectPublicSuffixes:!0}){"boolean"==typeof t&&(t={rejectPublicSuffixes:t}),u.validate(u.isObject(t),t),this.rejectPublicSuffixes=t.rejectPublicSuffixes,this.enableLooseMode=!!t.looseMode,this.allowSpecialUseDomain="boolean"!=typeof t.allowSpecialUseDomain||t.allowSpecialUseDomain,this.store=e||new s,this.prefixSecurity=L(t.prefixSecurity),this._cloneSync=U("clone"),this._importCookiesSync=U("_importCookies"),this.getCookiesSync=U("getCookies"),this.getCookieStringSync=U("getCookieString"),this.getSetCookieStringsSync=U("getSetCookieStrings"),this.removeAllCookiesSync=U("removeAllCookies"),this.setCookieSync=U("setCookie"),this.serializeSync=U("serialize")}setCookie(e,t,i,n){let r;if(u.validate(u.isNonEmptyString(t),n,i),u.isFunction(t))return(n=t)(new Error("No URL was specified"));const a=O(t);if(u.isFunction(i)&&(n=i,i={}),u.validate(u.isFunction(n),n),!u.isNonEmptyString(e)&&!u.isObject(e)&&e instanceof String&&0==e.length)return n(null);const s=P(a.hostname),c=i.loose||this.enableLooseMode;let d=null;if(i.sameSiteContext&&(d=w(i.sameSiteContext),!d))return n(new Error(b));if("string"==typeof e||e instanceof String){if(!(e=z.parse(e,{loose:c})))return r=new Error("Cookie failed to parse"),n(i.ignoreError?null:r)}else if(!(e instanceof z))return r=new Error("First argument to setCookie must be a Cookie object or string"),n(i.ignoreError?null:r);const l=i.now||new Date;if(this.rejectPublicSuffixes&&e.domain&&null==o.getPublicSuffix(e.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:i.ignoreError})&&!T.test(e.domain))return r=new Error("Cookie has domain set to a public suffix"),n(i.ignoreError?null:r);if(e.domain){if(!I(s,e.cdomain(),!1))return r=new Error(`Cookie not in this host's domain. Cookie:${e.cdomain()} Request:${s}`),n(i.ignoreError?null:r);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=s;if(e.path&&"/"===e.path[0]||(e.path=function(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;const t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}(a.pathname),e.pathIsDefault=!0),!1===i.http&&e.httpOnly)return r=new Error("Cookie is HttpOnly and this isn't an HTTP API"),n(i.ignoreError?null:r);if("none"!==e.sameSite&&void 0!==e.sameSite&&d&&"none"===d)return r=new Error("Cookie is SameSite but this is a cross-origin request"),n(i.ignoreError?null:r);const h=this.prefixSecurity===_.SILENT;if(this.prefixSecurity!==_.DISABLED){let t,r=!1;if(function(e){return u.validate(u.isObject(e),e),!e.key.startsWith("__Secure-")||e.secure}(e)?function(e){return u.validate(u.isObject(e)),!e.key.startsWith("__Host-")||e.secure&&e.hostOnly&&null!=e.path&&"/"===e.path}(e)||(r=!0,t="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(r=!0,t="Cookie has __Secure prefix but Secure attribute is not set"),r)return n(i.ignoreError||h?null:new Error(t))}const p=this.store;p.updateCookie||(p.updateCookie=function(e,t,i){this.putCookie(t,i)}),p.findCookie(e.domain,e.path,e.key,(function(t,r){if(t)return n(t);const o=function(t){if(t)return n(t);n(null,e)};if(r){if(!1===i.http&&r.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),n(i.ignoreError?null:t);e.creation=r.creation,e.creationIndex=r.creationIndex,e.lastAccessed=l,p.updateCookie(r,e,o)}else e.creation=e.lastAccessed=l,p.putCookie(e,o)}))}getCookies(e,t,i){u.validate(u.isNonEmptyString(e),i,e);const n=O(e);u.isFunction(t)&&(i=t,t={}),u.validate(u.isObject(t),i,t),u.validate(u.isFunction(i),i);const r=P(n.hostname),o=n.pathname||"/";let a=t.secure;null!=a||!n.protocol||"https:"!=n.protocol&&"wss:"!=n.protocol||(a=!0);let s=0;if(t.sameSiteContext){const e=w(t.sameSiteContext);if(s=z.sameSiteLevel[e],!s)return i(new Error(b))}let d=t.http;null==d&&(d=!0);const l=t.now||Date.now(),h=!1!==t.expire,p=!!t.allPaths,m=this.store;function f(e){if(e.hostOnly){if(e.domain!=r)return!1}else if(!I(r,e.domain,!1))return!1;return!(!p&&!c(o,e.path))&&(!(e.secure&&!a)&&(!(e.httpOnly&&!d)&&(!(s&&z.sameSiteLevel[e.sameSite||"none"]>s)&&!(h&&e.expiryTime()<=l&&(m.removeCookie(e.domain,e.path,e.key,(()=>{})),1)))))}m.findCookies(r,p?null:o,this.allowSpecialUseDomain,((e,n)=>{if(e)return i(e);n=n.filter(f),!1!==t.sort&&(n=n.sort(A));const r=new Date;for(const e of n)e.lastAccessed=r;i(null,n)}))}getCookieString(...e){const t=e.pop();u.validate(u.isFunction(t),t),e.push((function(e,i){e?t(e):t(null,i.sort(A).map((e=>e.cookieString())).join("; "))})),this.getCookies.apply(this,e)}getSetCookieStrings(...e){const t=e.pop();u.validate(u.isFunction(t),t),e.push((function(e,i){e?t(e):t(null,i.map((e=>e.toString())))})),this.getCookies.apply(this,e)}serialize(e){u.validate(u.isFunction(e),e);let t=this.store.constructor.name;u.isObject(t)&&(t=null);const i={version:`tough-cookie@${d}`,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:L(this.prefixSecurity),cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return e(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies(((t,n)=>t?e(t):(i.cookies=n.map((e=>(delete(e=e instanceof z?e.toJSON():e).creationIndex,e))),e(null,i))))}toJSON(){return this.serializeSync()}_importCookies(e,t){let i=e.cookies;if(!i||!Array.isArray(i))return t(new Error("serialized jar has no cookies array"));i=i.slice();const n=e=>{if(e)return t(e);if(!i.length)return t(e,this);let r;try{r=D(i.shift())}catch(e){return t(e)}if(null===r)return n(null);this.store.putCookie(r,n)};n()}clone(e,t){1===arguments.length&&(t=e,e=null),this.serialize(((i,n)=>{if(i)return t(i);N.deserialize(n,e,t)}))}cloneSync(e){if(0===arguments.length)return this._cloneSync();if(!e.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(e)}removeAllCookies(e){u.validate(u.isFunction(e),e);const t=this.store;if("function"==typeof t.removeAllCookies&&t.removeAllCookies!==a.prototype.removeAllCookies)return t.removeAllCookies(e);t.getAllCookies(((i,n)=>{if(i)return e(i);if(0===n.length)return e(null);let r=0;const o=[];function a(t){if(t&&o.push(t),r++,r===n.length)return e(o.length?o[0]:null)}n.forEach((e=>{t.removeCookie(e.domain,e.path,e.key,a)}))}))}static deserialize(e,t,i){let n;if(3!==arguments.length&&(i=t,t=null),u.validate(u.isFunction(i),i),"string"==typeof e){if(n=R(e),n instanceof Error)return i(n)}else n=e;const r=new N(t,{rejectPublicSuffixes:n.rejectPublicSuffixes,looseMode:n.enableLooseMode,allowSpecialUseDomain:n.allowSpecialUseDomain,prefixSecurity:n.prefixSecurity});r._importCookies(n,(e=>{if(e)return i(e);i(null,r)}))}static deserializeSync(e,t){const i="string"==typeof e?JSON.parse(e):e,n=new N(t,{rejectPublicSuffixes:i.rejectPublicSuffixes,looseMode:i.enableLooseMode});if(!n.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return n._importCookiesSync(i),n}}function U(e){return function(...t){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let i,n;if(this[e](...t,((e,t)=>{i=e,n=t})),i)throw i;return n}}N.fromJSON=N.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach((e=>{N.prototype[e]=l(N.prototype[e])})),N.deserialize=l(N.deserialize),t.US=N,t.Vj=z,o.getPublicSuffix,i(6326).p,u.ParameterError},9968:function(e,t,i){"use strict";const{fromCallback:n}=i(3096),r=i(2363).y,o=i(6326).p,a=i(5433).U,{getCustomInspectSymbol:s,getUtilInspect:c}=i(7620);class u extends r{constructor(){super(),this.synchronous=!0,this.idx={};const e=s();e&&(this[e]=this.inspect)}inspect(){return`{ idx: ${c(d)(this.idx,!1,2)} }`}findCookie(e,t,i,n){return this.idx[e]&&this.idx[e][t]?n(null,this.idx[e][t][i]||null):n(null,void 0)}findCookies(e,t,i,n){const r=[];if("function"==typeof i&&(n=i,i=!0),!e)return n(null,[]);let s;s=t?function(e){Object.keys(e).forEach((i=>{if(a(t,i)){const t=e[i];for(const e in t)r.push(t[e])}}))}:function(e){for(const t in e){const i=e[t];for(const e in i)r.push(i[e])}};const c=o(e,i)||[e],u=this.idx;c.forEach((e=>{const t=u[e];t&&s(t)})),n(null,r)}putCookie(e,t){this.idx[e.domain]||(this.idx[e.domain]={}),this.idx[e.domain][e.path]||(this.idx[e.domain][e.path]={}),this.idx[e.domain][e.path][e.key]=e,t(null)}updateCookie(e,t,i){this.putCookie(t,i)}removeCookie(e,t,i,n){this.idx[e]&&this.idx[e][t]&&this.idx[e][t][i]&&delete this.idx[e][t][i],n(null)}removeCookies(e,t,i){return this.idx[e]&&(t?delete this.idx[e][t]:delete this.idx[e]),i(null)}removeAllCookies(e){return this.idx={},e(null)}getAllCookies(e){const t=[],i=this.idx;Object.keys(i).forEach((e=>{Object.keys(i[e]).forEach((n=>{Object.keys(i[e][n]).forEach((r=>{null!==r&&t.push(i[e][n][r])}))}))})),t.sort(((e,t)=>(e.creationIndex||0)-(t.creationIndex||0))),e(null,t)}}function d(e){const t=Object.keys(e);if(0===t.length)return"{}";let i="{\n";return Object.keys(e).forEach(((n,r)=>{i+=function(e,t){let i=`  '${e}': {\n`;return Object.keys(t).forEach(((e,n,r)=>{i+=function(e,t){let i=`    '${e}': {\n`;return Object.keys(t).forEach(((e,n,r)=>{const o=t[e];i+=`      ${e}: ${o.inspect()}`,n<r.length-1&&(i+=","),i+="\n"})),i+="    }",i}(e,t[e]),n<r.length-1&&(i+=","),i+="\n"})),i+="  }",i}(n,e[n]),r<t.length-1&&(i+=","),i+="\n"})),i+="}",i}["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach((e=>{u.prototype[e]=n(u.prototype[e])})),t.m=u},5433:function(e,t){"use strict";t.U=function(e,t){if(t===e)return!0;if(0===e.indexOf(t)){if("/"===t.substr(-1))return!0;if("/"===e.substr(t.length,1))return!0}return!1}},6326:function(e,t,i){"use strict";const n=i(8254);t.p=function(e,t){const i=n.getPublicSuffix(e,{allowSpecialUseDomain:t});if(!i)return null;if(i==e)return[e];"."==e.slice(-1)&&(e=e.slice(0,-1));const r=e.slice(0,-(i.length+1)).split(".").reverse();let o=i;const a=[o];for(;r.length;)o=`${r.shift()}.${o}`,a.push(o);return a}},8254:function(e,t,i){"use strict";const n=i(3682),r=["local","example","invalid","localhost","test"],o=["localhost","invalid"];t.getPublicSuffix=function(e,t={}){const i=e.split("."),a=i[i.length-1],s=!!t.allowSpecialUseDomain,c=!!t.ignoreError;if(s&&r.includes(a)){if(i.length>1)return`${i[i.length-2]}.${a}`;if(o.includes(a))return`${a}`}if(!c&&r.includes(a))throw new Error(`Cookie has domain set to the public suffix "${a}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.`);return n.get(e)}},2363:function(e,t){"use strict";t.y=class{constructor(){this.synchronous=!1}findCookie(e,t,i,n){throw new Error("findCookie is not implemented")}findCookies(e,t,i,n){throw new Error("findCookies is not implemented")}putCookie(e,t){throw new Error("putCookie is not implemented")}updateCookie(e,t,i){throw new Error("updateCookie is not implemented")}removeCookie(e,t,i,n){throw new Error("removeCookie is not implemented")}removeCookies(e,t,i){throw new Error("removeCookies is not implemented")}removeAllCookies(e){throw new Error("removeAllCookies is not implemented")}getAllCookies(e){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}},7620:function(e,t,i){function n(){try{return i(3339)}catch(e){return null}}function r(){return Symbol.for("nodejs.util.inspect.custom")}t.getUtilInspect=function(e,t={}){const i=(t.requireUtil||n)();return function(t,n,r){return i?i.inspect(t,n,r):e(t)}},t.getCustomInspectSymbol=function(e={}){return(e.lookupCustomInspectSymbol||r)()||function(e){const t=(e.requireUtil||n)();return t?t.inspect.custom:null}(e)}},1113:function(e,t){"use strict";function i(e){return"function"==typeof e}function n(e){return"string"==typeof e||e instanceof String}function r(e){return"[object Object]"===toString.call(e)}class o extends Error{constructor(...e){super(...e)}}t.ParameterError=o,t.isFunction=i,t.isNonEmptyString=function(e){return n(e)&&""!==e},t.isDate=function(e){return function(e,t){try{return e instanceof t}catch(e){return!1}}(e,Date)&&function(e){return"number"==typeof e&&e%1==0}(e.getTime())},t.isEmptyString=function(e){return""===e||e instanceof String&&""===e.toString()},t.isString=n,t.isObject=r,t.validate=function(e,t,n){if(i(t)||(n=t,t=null),r(n)||(n={Error:"Failed Check"}),!e){if(!t)throw new o(n);t(new o(n))}}},7646:function(e){e.exports="4.1.2"},3096:function(e,t){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise(((t,i)=>{arguments[arguments.length]=(e,n)=>{if(e)return i(e);t(n)},arguments.length++,e.apply(this,arguments)}));e.apply(this,arguments)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},4590:function(e,t,i){e.exports=i.p+"voxeet-worklet.js"},6850:function(e){e.exports={leaveURI:"//www.voxeet.com/web-thank-you",wsSessionURI:"wss://comms.sdk.dolby.io",ackTimeout:3e4,keepAlive:3e4,peerConnection:{config:{bundlePolicy:"max-bundle",iceServers:[{urls:"stun:stun.l.google.com:19302"}]},constraints:{mandatory:{},optional:[{DtlsSrtpKeyAgreement:!0}]}},media:{constraints:{audio:{autoGainControl:!1,googAutoGainControl:!1,echoCancellation:!0},video:{}},mobile:{constraints:{audio:{autoGainControl:!1,googAutoGainControl:!1,echoCancellation:!0},video:{}}}},audioSettings:{chromeCutOffVolume:.06,distanceModel:"inverse",refDistance:.3,maxDistance:15,rollOffFactor:4,gain:1},dialInTexts:{title:"Bad connection?",description:"It looks like you have a low quality IP connection. We'd suggest rejoining this conference from your phone  simply dial in using the Voxeet dial-in number and PIN below.\nTo find an alternative local number, verify your current location.",phone_label:"Your dial-in number:",pin_label:"Your PIN:",qr_label:"You can also scan the QR code with your phone to autodial."},offLine:!1,videoSettings:{desktop:[{range:{min:0,max:384},resolution:240,fps:20,dimensions:{width:426,height:240}},{range:{min:384,max:900},resolution:360,fps:25,dimensions:{width:640,height:360}},{range:{min:900,max:1/0},resolution:720,fps:25,dimensions:{width:1280,height:720}}],mobile:[{range:{min:0,max:384},resolution:240,fps:20,dimensions:{width:426,height:240}},{range:{min:384,max:900},resolution:360,fps:25,dimensions:{width:640,height:360}},{range:{min:900,max:1/0},resolution:480,fps:25,dimensions:{width:854,height:480}}]},pluginDefs:{voxeetPlugin:{name:"Voxeet Plugin",mimeType:"application/x-voxeetplugin",activeXName:"VoxeetInc.VoxeetPlugin",guid:"987ae2fb-3c9c-5787-bf68-b66d84219b95",version:"1.1.0.0",installURL:{win:"http://app.voxeet.com/plugins/VoxeetPluginV1.1.exe",mac:"http://app.voxeet.com/plugins/VoxeetPluginV1.1.dmg"}}}}},4846:function(e,t,i){"use strict";var n=i(7245),r=i(7375),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function l(e){return(e||"").toString().replace(o,"")}var h=[["#","hash"],["?","query"],function(e,t){return f(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function m(e){var t,i=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},n={},r=typeof(e=e||i);if("blob:"===e.protocol)n=new v(unescape(e.pathname),{});else if("string"===r)for(t in n=new v(e,{}),p)delete n[t];else if("object"===r){for(t in e)t in p||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=s.test(e.href))}return n}function f(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=l(e)).replace(a,""),t=t||{};var i,n=u.exec(e),r=n[1]?n[1].toLowerCase():"",o=!!n[2],s=!!n[3],c=0;return o?s?(i=n[2]+n[3]+n[4],c=n[2].length+n[3].length):(i=n[2]+n[4],c=n[2].length):s?(i=n[3]+n[4],c=n[3].length):i=n[4],"file:"===r?c>=2&&(i=i.slice(2)):f(r)?i=n[4]:r?o&&(i=i.slice(2)):c>=2&&f(t.protocol)&&(i=n[4]),{protocol:r,slashes:o||f(r),slashesCount:c,rest:i}}function v(e,t,i){if(e=(e=l(e)).replace(a,""),!(this instanceof v))return new v(e,t,i);var o,s,c,u,p,k,y=h.slice(),b=typeof t,w=this,_=0;for("object"!==b&&"string"!==b&&(i=t,t=null),i&&"function"!=typeof i&&(i=r.parse),o=!(s=g(e||"",t=m(t))).protocol&&!s.slashes,w.slashes=s.slashes||o&&t.slashes,w.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||d.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!f(w.protocol)))&&(y[3]=[/(.*)/,"pathname"]);_<y.length;_++)"function"!=typeof(u=y[_])?(c=u[0],k=u[1],c!=c?w[k]=e:"string"==typeof c?~(p="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof u[2]?(w[k]=e.slice(0,p),e=e.slice(p+u[2])):(w[k]=e.slice(p),e=e.slice(0,p))):(p=c.exec(e))&&(w[k]=p[1],e=e.slice(0,p.index)),w[k]=w[k]||o&&u[3]&&t[k]||"",u[4]&&(w[k]=w[k].toLowerCase())):e=u(e,w);i&&(w.query=i(w.query)),o&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var i=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=i.length,r=i[n-1],o=!1,a=0;n--;)"."===i[n]?i.splice(n,1):".."===i[n]?(i.splice(n,1),a++):a&&(0===n&&(o=!0),i.splice(n,1),a--);return o&&i.unshift(""),"."!==r&&".."!==r||i.push(""),i.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&f(w.protocol)&&(w.pathname="/"+w.pathname),n(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(p=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,p),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(p+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&f(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}v.prototype={set:function(e,t,i){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(i||r.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,c.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!i;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<h.length;u++){var d=h[u];d[4]&&(o[d[1]]=o[d[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&f(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=r.stringify);var t,i=this,n=i.host,o=i.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(i.protocol&&i.slashes||f(i.protocol)?"//":"");return i.username?(a+=i.username,i.password&&(a+=":"+i.password),a+="@"):i.password?(a+=":"+i.password,a+="@"):"file:"!==i.protocol&&f(i.protocol)&&!n&&"/"!==i.pathname&&(a+="@"),(":"===n[n.length-1]||c.test(i.hostname)&&!i.port)&&(n+=":"),a+=n+i.pathname,(t="object"==typeof i.query?e(i.query):i.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),i.hash&&(a+=i.hash),a}},v.extractProtocol=g,v.location=m,v.trimLeft=l,v.qs=r,e.exports=v},2382:function(e,t,i){"use strict";var n=i(3475);e.exports=function(e,t){var r=e&&e.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in t)hasOwnProperty.call(t,a)&&(o[a]=t[a]);var s=n.log,c=n.detectBrowser(r),u=i(629)||null,d=i(7435)||null,l=i(4449)||null,h=i(4477)||null,p=i(1594)||null,m={browserDetails:c,commonShim:p,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings};switch(c.browser){case"chrome":if(!u||!u.shimPeerConnection||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),m;s("adapter.js shimming chrome."),m.browserShim=u,p.shimCreateObjectURL(r),u.shimGetUserMedia(r),u.shimMediaStream(r),u.shimSourceObject(r),u.shimPeerConnection(r),u.shimOnTrack(r),u.shimAddTrackRemoveTrack(r),u.shimGetSendersWithDtmf(r),u.shimSenderReceiverGetStats(r),u.fixNegotiationNeeded(r),p.shimRTCIceCandidate(r),p.shimMaxMessageSize(r),p.shimSendThrowTypeError(r);break;case"firefox":if(!l||!l.shimPeerConnection||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),m;s("adapter.js shimming firefox."),m.browserShim=l,p.shimCreateObjectURL(r),l.shimGetUserMedia(r),l.shimSourceObject(r),l.shimPeerConnection(r),l.shimOnTrack(r),l.shimRemoveStream(r),l.shimSenderGetStats(r),l.shimReceiverGetStats(r),l.shimRTCDataChannel(r),p.shimRTCIceCandidate(r),p.shimMaxMessageSize(r),p.shimSendThrowTypeError(r);break;case"edge":if(!d||!d.shimPeerConnection||!o.shimEdge)return s("MS edge shim is not included in this adapter release."),m;s("adapter.js shimming edge."),m.browserShim=d,p.shimCreateObjectURL(r),d.shimGetUserMedia(r),d.shimPeerConnection(r),d.shimReplaceTrack(r),d.shimGetDisplayMedia(r),p.shimMaxMessageSize(r),p.shimSendThrowTypeError(r);break;case"safari":if(!h||!o.shimSafari)return s("Safari shim is not included in this adapter release."),m;s("adapter.js shimming safari."),m.browserShim=h,p.shimCreateObjectURL(r),h.shimRTCIceServerUrls(r),h.shimCreateOfferLegacy(r),h.shimCallbacksAPI(r),h.shimLocalStreamsAPI(r),h.shimRemoteStreamsAPI(r),h.shimTrackEventTransceiver(r),h.shimGetUserMedia(r),p.shimRTCIceCandidate(r),p.shimMaxMessageSize(r),p.shimSendThrowTypeError(r);break;default:s("Unsupported browser!")}return m}},629:function(e,t,i){"use strict";var n=i(3475),r=n.log;function o(e,t,i){t&&!i.has(t.id)&&(i.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?o(e,e.get(t[n]),i):n.endsWith("Ids")&&t[n].forEach((function(t){o(e,e.get(t),i)}))})))}function a(e,t,i){var n=i?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(i){i.type===n&&i.trackId===t.id&&o(e,i,r)}))})),r}e.exports={shimGetUserMedia:i(483),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var i=this;return i._ontrackpoly||(i._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var r;r=e.RTCPeerConnection.prototype.getReceivers?i.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],i.dispatchEvent(o)})),t.stream.getTracks().forEach((function(n){var r;r=e.RTCPeerConnection.prototype.getReceivers?i.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],i.dispatchEvent(o)}))},i.addEventListener("addstream",i._ontrackpoly)),t.apply(i,arguments)}}else n.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var r=this,o=i.apply(r,arguments);return o||(o=t(r,e),r._senders.push(o)),o};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;n.apply(t,arguments);var i=t._senders.indexOf(e);-1!==i&&t._senders.splice(i,1)}}var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var i=this;i._senders=i._senders||[],r.apply(i,[e]),e.getTracks().forEach((function(e){i._senders.push(t(i,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach((function(e){var i=t._senders.find((function(t){return t.track===e}));i&&t._senders.splice(t._senders.indexOf(i),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach((function(t){t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,i=t.apply(e,[]);return i.forEach((function(t){t._pc=e})),i});var i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),n.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var t=this;if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var i,n,r,a=arguments[0];return t.getSenders().forEach((function(e){e.track===a&&(i?r=!0:i=e)})),t.getReceivers().forEach((function(e){return e.track===a&&(n?r=!0:n=e),e.track===a})),r||i&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(t,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var i=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){i.src&&t.revokeObjectURL(i.src),i.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){i.src&&t.revokeObjectURL(i.src),i.src=t.createObjectURL(e)}))):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=t.getSenders();i.apply(this,arguments);var r=t.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(r)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(i){var n=t._shimmedLocalStreams[i].indexOf(e);-1!==n&&t._shimmedLocalStreams[i].splice(n,1),1===t._shimmedLocalStreams[i].length&&delete t._shimmedLocalStreams[i]})),r.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var t=n.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=i.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var i=this;if(i._streams=i._streams||{},i._reverseStreams=i._reverseStreams||{},t.getTracks().forEach((function(e){if(i.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!i._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());i._streams[t.id]=n,i._reverseStreams[n.id]=t,t=n}r.apply(i,[t])};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},o.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){var n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=n.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{};var a=n._streams[i.id];if(a)a.addTrack(t),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);n._streams[i.id]=s,n._reverseStreams[s.id]=i,n.addStream(s)}return n.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments,n=arguments.length&&"function"==typeof arguments[0];return n?i.apply(e,[function(i){var n=c(e,i);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):i.apply(e,arguments).then((function(t){return c(e,t)}))}}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=u(e,arguments[0]),a.apply(e,arguments)):a.apply(e,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,i=this;if("closed"===i.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==i)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");i._streams=i._streams||{},Object.keys(i._streams).forEach((function(n){i._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=i._streams[n])})),t&&(1===t.getTracks().length?i.removeStream(i._reverseStreams[t.id]):t.removeTrack(e.track),i.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(r.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:i})}function u(e,t){var i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(n.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:i})}},shimPeerConnection:function(e){var t=n.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,i){return r("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,i)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,n){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof arguments[0]))return i.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){i[t]=e.stat(t)})),t[i.id]=i})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){o[1](s(a(e)))};return i.apply(this,[c,arguments[0]])}return new Promise((function(e,t){i.apply(r,[function(t){e(s(a(t)))},t])})).then(t,n)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,n=new Promise((function(n,r){i.apply(t,[e[0],n,r])}));return e.length<2?n:n.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),t.version<52&&["createOffer","createAnswer"].forEach((function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise((function(n,r){i.apply(e,[n,r,t])}))}return i.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}}));var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},fixNegotiationNeeded:function(e){n.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},shimGetDisplayMedia:function(e,t){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&("function"==typeof t?(e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then((function(t){var n=i.video&&i.video.width,r=i.video&&i.video.height,o=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)}))},e.navigator.getDisplayMedia=function(t){return n.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},483:function(e,t,i){"use strict";var n=i(3475),r=n.log;e.exports=function(e){var t=n.detectBrowser(e),i=e&&e.navigator,o=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var n="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[r("min",i)]=n.ideal,t.optional.push(o),(o={})[r("max",i)]=n.ideal,t.optional.push(o)):(o[r("",i)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",i)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,n){if(t.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var a=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var c,u=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||u)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?c=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(c=["front"]),c))return i.mediaDevices.enumerateDevices().then((function(t){var i=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return c.some((function(t){return-1!==e.label.toLowerCase().indexOf(t)}))}));return!i&&t.length&&-1!==c.indexOf("back")&&(i=t[t.length-1]),i&&(e.video.deviceId=s.exact?{exact:i.deviceId}:{ideal:i.deviceId}),e.video=o(e.video),r("chrome: "+JSON.stringify(e)),n(e)}));e.video=o(e.video)}return r("chrome: "+JSON.stringify(e)),n(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};i.getUserMedia=function(e,t,n){a(e,(function(e){i.webkitGetUserMedia(e,t,(function(e){n&&n(s(e))}))}))};var c=function(e){return new Promise((function(t,n){i.getUserMedia(e,t,n)}))};if(i.mediaDevices||(i.mediaDevices={getUserMedia:c,enumerateDevices:function(){return new Promise((function(t){var i={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources((function(e){t(e.map((function(e){return{label:e.label,kind:i[e.kind],deviceId:e.id,groupId:""}})))}))}))},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),i.mediaDevices.getUserMedia){var u=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(e){return a(e,(function(e){return u(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(s(e))}))}))}}else i.mediaDevices.getUserMedia=function(e){return c(e)};void 0===i.mediaDevices.addEventListener&&(i.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),void 0===i.mediaDevices.removeEventListener&&(i.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},1594:function(e,t,i){"use strict";var n=i(2281),r=i(3475);e.exports={shimRTCIceCandidate:function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var i=new t(e),r=n.parseCandidate(e.candidate),o=Object.assign(i,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,r.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var i=t.createObjectURL.bind(t),n=t.revokeObjectURL.bind(t),o=new Map,a=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++a;return o.set(t,e),r.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return i(e)},t.revokeObjectURL=function(e){n(e),o.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,s.set.apply(this,[e])}});var c=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),c.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=r.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var i=function(e){var t=n.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=n.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var i=parseInt(t[1],10);return i!=i?-1:i},a=function(e){var i=65536;return"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},s=function(e,i){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var o=n.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==i&&(r=2147483637),r},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;if(e._sctp=null,i(arguments[0])){var t,n=o(arguments[0]),r=a(n),u=s(arguments[0],n);t=0===r&&0===u?Number.POSITIVE_INFINITY:0===r||0===u?Math.max(r,u):Math.min(r,u);var d={};Object.defineProperty(d,"maxMessageSize",{get:function(){return t}}),e._sctp=d}return c.apply(e,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=this,n=t.apply(e,arguments);return i(n,e),n},r.wrapPeerConnectionEvent(e,"datachannel",(function(e){return i(e.channel,e.target),e}))}function i(e,t){var i=e.send;e.send=function(){var n=arguments[0],r=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return i.apply(e,arguments)}}}}},7435:function(e,t,i){"use strict";var n=i(3475),r=i(7225),o=i(6294);e.exports={shimGetUserMedia:i(2673),shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var i=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){i.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=r(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){if("getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)){var i=e.navigator.getDisplayMedia;e.navigator.mediaDevices.getDisplayMedia=function(t){return i.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return n.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),i.call(e.navigator,t)}}}}},7225:function(e,t,i){"use strict";var n=i(3475);e.exports=function(e,t){var i=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&n.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"==typeof r;return o&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||i?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(i=!0,!0)})),delete e.url,e.urls=o?r[0]:r,!!r.length}}))}},2673:function(e){"use strict";e.exports=function(e){var t=e&&e.navigator,i=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},4449:function(e,t,i){"use strict";var n=i(3475);e.exports={shimGetUserMedia:i(2244),shimOnTrack:function(e){"object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)&&Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var i=new Event("track");i.track=t,i.receiver={track:t},i.transceiver={receiver:i.receiver},i.streams=[e.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var t=n.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(i,n){if(t.version<38&&i&&i.iceServers){for(var r=[],o=0;o<i.iceServers.length;o++){var a=i.iceServers[o];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var c={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(c.username=a.username,c.credential=a.credential),r.push(c)}else r.push(i.iceServers[o])}i.iceServers=r}return new e.mozRTCPeerConnection(i,n)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}}));var i=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,i,n){return o.apply(this,[e||null]).then((function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach((function(i){t.set(i,e[i]),t[i]=e[i]})),t}(e)),t.version<53&&!i)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,i){e.set(i,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(i,n)}}},shimSenderGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,i=t.apply(e,[]);return i.forEach((function(t){t._pc=e})),i});var i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,i=t.apply(e,[]);return i.forEach((function(t){t._pc=e})),i}),n.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;n.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(i){i.track&&-1!==e.getTracks().indexOf(i.track)&&t.removeTrack(i)}))})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,t){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)},e.navigator.getDisplayMedia=function(t){return n.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}},2244:function(e,t,i){"use strict";var n=i(3475),r=n.log;e.exports=function(e){var t=n.detectBrowser(e),i=e&&e.navigator,o=e&&e.MediaStreamTrack,a=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,n,o){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var n=e[i]="object"==typeof e[i]?e[i]:{ideal:e[i]};if(void 0===n.min&&void 0===n.max&&void 0===n.exact||t.push(i),void 0!==n.exact&&("number"==typeof n.exact?n.min=n.max=n.exact:e[i]=n.exact,delete n.exact),void 0!==n.ideal){e.advanced=e.advanced||[];var r={};"number"==typeof n.ideal?r[i]={min:n.ideal,max:n.ideal}:r[i]=n.ideal,e.advanced.push(r),delete n.ideal,Object.keys(n).length||delete e[i]}}})),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=s(e.audio)),e.video&&(e.video=s(e.video)),r("ff37: "+JSON.stringify(e))),i.mozGetUserMedia(e,n,(function(e){o(a(e))}))};if(i.mediaDevices||(i.mediaDevices={getUserMedia:function(e){return new Promise((function(t,i){s(e,t,i)}))},addEventListener:function(){},removeEventListener:function(){}}),i.mediaDevices.enumerateDevices=i.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},t.version<41){var c=i.mediaDevices.enumerateDevices.bind(i.mediaDevices);i.mediaDevices.enumerateDevices=function(){return c().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(t.version<49){var u=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(e){return u(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}}if(!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){var d=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},l=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),d(e.audio,"autoGainControl","mozAutoGainControl"),d(e.audio,"noiseSuppression","mozNoiseSuppression")),l(e)},o&&o.prototype.getSettings){var h=o.prototype.getSettings;o.prototype.getSettings=function(){var e=h.apply(this,arguments);return d(e,"mozAutoGainControl","autoGainControl"),d(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var p=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),d(e,"autoGainControl","mozAutoGainControl"),d(e,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[e])}}}i.getUserMedia=function(e,r,o){if(t.version<44)return s(e,r,o);n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(r,o)}}},4477:function(e,t,i){"use strict";var n=i(3475);e.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach((function(i){i.id===e&&(t=i)})),this._remoteStreams&&this._remoteStreams.forEach((function(i){i.id===e&&(t=i)})),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var i=this;e.getTracks().forEach((function(n){t.call(i,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,i){return i&&(this._localStreams?-1===this._localStreams.indexOf(i)&&this._localStreams.push(i):this._localStreams=[i]),t.call(this,e,i)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var i=this,n=e.getTracks();this.getSenders().forEach((function(e){-1!==n.indexOf(e.track)&&i.removeTrack(e)}))}})}},shimRemoteStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var i=new Event("addstream");i.stream=t,e.dispatchEvent(i)}}))}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r};var s=function(e,t,i){var n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,i){var n=o.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,i){var n=a.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){for(var r=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,r.push(a)):r.push(e.iceServers[o])}e.iceServers=r}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var i=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=i.getTransceivers().find((function(e){return e.sender.track&&"audio"===e.sender.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||i.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=i.getTransceivers().find((function(e){return e.sender.track&&"video"===e.sender.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection("sendonly"):"recvonly"===r.direction&&r.setDirection("inactive"):!0!==e.offerToReceiveVideo||r||i.addTransceiver("video")}return t.apply(i,arguments)}}}},3475:function(e){"use strict";var t=!0,i=!0;function n(e,t,i){var n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}e.exports={extractVersion:n,wrapPeerConnectionEvent:function(e,t,i){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);var o=function(e){var t=i(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=o,r.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[i])return o.apply(this,arguments);var n=this._eventMap[i];return delete this._eventMap[i],o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(t=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(t)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,i={browser:null,version:null};if(void 0===e||!e.navigator)return i.browser="Not a browser.",i;if(t.mozGetUserMedia)i.browser="firefox",i.version=n(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)i.browser="chrome",i.version=n(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))i.browser="edge",i.version=n(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=n(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return i}}},1227:function(e,t,i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))})),t.splice(r,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:function(e,t,i){e.exports=function(e){function t(e){let i,r,o,a=null;function s(...e){if(!s.enabled)return;const n=s,r=Number(new Date),o=r-(i||r);n.diff=o,n.prev=i,n.curr=r,i=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((i,r)=>{if("%%"===i)return"%";a++;const o=t.formatters[r];if("function"==typeof o){const t=e[a];i=o.call(n,t),e.splice(a,1),a--}return i})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==t.namespaces&&(r=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,i){const n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let i,n;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((i=>{t[i]=e[i]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},7824:function(e){var t=1e3,i=60*t,n=60*i,r=24*n;function o(e,t,i,n){var r=t>=1.5*i;return Math.round(e/i)+" "+n+(r?"s":"")}e.exports=function(e,a){a=a||{};var s,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(s=e,(c=Math.abs(s))>=r?o(s,c,r,"day"):c>=n?o(s,c,n,"hour"):c>=i?o(s,c,i,"minute"):c>=t?o(s,c,t,"second"):s+" ms"):function(e){var o=Math.abs(e);return o>=r?Math.round(e/r)+"d":o>=n?Math.round(e/n)+"h":o>=i?Math.round(e/i)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3339:function(){},2349:function(){},673:function(){},6946:function(){},2379:function(e){"use strict";e.exports=JSON.parse('["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","sth.ac.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","aroport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn",".cn",".cn",".cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","com.cv","edu.cv","int.cv","nome.cv","org.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","org.dz","net.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","com.fm","edu.fm","net.fm","org.fm","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","edu.gd","gov.gd","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir",".ir",".ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-sd-tirol.it","trentin-sudtirol.it","trentin-sdtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-sd-tirol.it","trentino-sudtirol.it","trentino-sdtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinosd-tirol.it","trentinosudtirol.it","trentinosdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentinsd-tirol.it","trentinsudtirol.it","trentinsdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","valle-aoste.it","vallee-d-aoste.it","valle-d-aoste.it","valleeaoste.it","valleaoste.it","valleedaoste.it","valledaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-sdtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-sdtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-sdtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forl.it","cesenaforli.it","cesenaforl.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forl-cesena.it","forlicesena.it","forlcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","sdtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunicaes.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunicaes.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","lns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum",".museum",".museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","krehamn.no","algard.no","lgrd.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","brnnysund.no","drobak.no","drbak.no","egersund.no","fetsund.no","floro.no","flor.no","fredrikstad.no","hokksund.no","honefoss.no","hnefoss.no","jessheim.no","jorpeland.no","jrpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langevg.no","leirvik.no","mjondalen.no","mjndalen.no","mo-i-rana.no","mosjoen.no","mosjen.no","nesoddtangen.no","orkanger.no","osoyro.no","osyro.no","raholt.no","rholt.no","sandnessjoen.no","sandnessjen.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stjrdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","fjord.no","agdenes.no","al.no","l.no","alesund.no","lesund.no","alstahaug.no","alta.no","lt.no","alaheadju.no","laheadju.no","alvdal.no","amli.no","mli.no","amot.no","mot.no","andebu.no","andoy.no","andy.no","andasuolo.no","ardal.no","rdal.no","aremark.no","arendal.no","s.no","aseral.no","seral.no","asker.no","askim.no","askvoll.no","askoy.no","asky.no","asnes.no","snes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-hland.no","austevoll.no","austrheim.no","averoy.no","avery.no","balestrand.no","ballangen.no","balat.no","blt.no","balsfjord.no","bahccavuotna.no","bhccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","bjddar.no","baidar.no","bidr.no","berg.no","bergen.no","berlevag.no","berlevg.no","bearalvahki.no","bearalvhki.no","bindal.no","birkenes.no","bjarkoy.no","bjarky.no","bjerkreim.no","bjugn.no","bodo.no","bod.no","badaddja.no","bdddj.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","brnny.no","bygland.no","bykle.no","barum.no","brum.no","bo.telemark.no","b.telemark.no","bo.nordland.no","b.nordland.no","bievat.no","bievt.no","bomlo.no","bmlo.no","batsfjord.no","btsfjord.no","bahcavuotna.no","bhcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyry.no","donna.no","dnna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","eveni.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finny.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","fl.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","frna.no","froya.no","frya.no","fusa.no","fyresdal.no","forde.no","frde.no","gamvik.no","gangaviika.no","ggaviika.no","gaular.no","gausdal.no","gildeskal.no","gildeskl.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gjvik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kranghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","hbmer.no","hapmir.no","hpmir.no","hammerfest.no","hammarfeasta.no","hmmrfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","koluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","hery.mre-og-romsdal.no","heroy.nordland.no","hery.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hobl.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holtlen.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","hgebostad.no","hoyanger.no","hyanger.no","hoylandet.no","hylandet.no","ha.no","h.no","ibestad.no","inderoy.no","indery.no","iveland.no","jevnaker.no","jondal.no","jolster.no","jlster.no","karasjok.no","karasjohka.no","krjohka.no","karlsoy.no","galsa.no","gls.no","karmoy.no","karmy.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","klbu.no","kongsberg.no","kongsvinger.no","kragero.no","krager.no","kristiansand.no","kristiansund.no","krodsherad.no","krdsherad.no","kvalsund.no","rahkkeravju.no","rhkkervju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvitsy.no","kvafjord.no","kvfjord.no","giehtavuoatna.no","kvanangen.no","kvnangen.no","navuotna.no","nvuotna.no","kafjord.no","kfjord.no","gaivuotna.no","givuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loabt.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","leagaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","linds.no","lom.no","loppa.no","lahppi.no","lhppi.no","lund.no","lunner.no","luroy.no","lury.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","lrdal.no","lodingen.no","ldingen.no","lorenskog.no","lrenskog.no","loten.no","lten.no","malvik.no","masoy.no","msy.no","muosat.no","muost.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","mely.no","meraker.no","merker.no","moareke.no","moreke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","mlselv.no","malatvuopmi.no","mlatvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","nmesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unjrga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenjrga.no","nordre-land.no","nordreisa.no","raisa.no","risa.no","nore-og-uvdal.no","notodden.no","naroy.no","nry.no","notteroy.no","nttery.no","odda.no","oksnes.no","ksnes.no","oppdal.no","oppegard.no","oppegrd.no","orkdal.no","orland.no","rland.no","orskog.no","rskog.no","orsta.no","rsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","ostery.no","ostre-toten.no","stre-toten.no","overhalla.no","ovre-eiker.no","vre-eiker.no","oyer.no","yer.no","oygarden.no","ygarden.no","oystre-slidre.no","ystre-slidre.no","porsanger.no","porsangu.no","porsgu.no","porsgrunn.no","radoy.no","rady.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennesy.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","risr.no","roan.no","rollag.no","rygge.no","ralingen.no","rlingen.no","rodoy.no","rdy.no","romskog.no","rmskog.no","roros.no","rros.no","rost.no","rst.no","royken.no","ryken.no","royrvik.no","ryrvik.no","rade.no","rde.no","salangen.no","siellak.no","saltdal.no","salat.no","slt.no","slat.no","samnanger.no","sande.more-og-romsdal.no","sande.mre-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sandy.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjervy.no","skierva.no","skierv.no","skjak.no","skjk.no","skodje.no","skanland.no","sknland.no","skanit.no","sknit.no","smola.no","smla.no","snillfjord.no","snasa.no","snsa.no","snoasa.no","snaase.no","snase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stjrdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","sgne.no","somna.no","smna.no","sondre-land.no","sndre-land.no","sor-aurdal.no","sr-aurdal.no","sor-fron.no","sr-fron.no","sor-odal.no","sr-odal.no","sor-varanger.no","sr-varanger.no","matta-varjjat.no","mtta-vrjjat.no","sorfold.no","srfold.no","sorreisa.no","srreisa.no","sorum.no","srum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tjme.no","tokke.no","tolga.no","torsken.no","tranoy.no","trany.no","tromso.no","troms.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","trna.no","trogstad.no","trgstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysvr.no","tonsberg.no","tnsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vads.no","cahcesuolo.no","hcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vard.no","varggat.no","vrggt.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","vegrshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestvgy.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","vry.no","vagan.no","vgan.no","voagat.no","vagsoy.no","vgsy.no","vaga.no","vg.no","valer.ostfold.no","vler.stfold.no","valer.hedmark.no","vler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","mori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw",".tw",".tw",".tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","xxx","ye","com.ye","edu.ye","gov.ye","net.ye","mil.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","cbs","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","etisalat","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","mutual","nab","nagoya","natura","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","611.to","graphox.us","*.devcdnaccesso.com","adobeaemcloud.com","*.dev.adobeaemcloud.com","hlx.live","adobeaemcloud.net","hlx.page","hlx3.page","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","awsglobalaccelerator.com","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","backplaneapp.io","balena-devices.com","rs.ba","*.banzai.cloud","app.banzaicloud.io","*.backyards.banzaicloud.io","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","*.beget.app","betainabox.com","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","shop.brendly.rs","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","mycd.eu","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","ae.org","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.net","hu.net","jp.net","jpn.com","mex.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","za.bz","za.com","ar.com","hu.com","kr.com","no.com","qc.com","uy.com","africa.com","gr.com","in.net","web.in","us.org","co.com","aus.basketball","nz.basketball","radio.am","radio.fm","c.la","certmgr.org","cx.ua","discourse.group","discourse.team","cleverapps.io","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","clickrising.net","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","*.cloudera.site","pages.dev","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cnpy.gdn","codeberg.page","co.nl","co.no","webhosting.be","hosting-cluster.nl","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","curv.dev","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","cyon.link","cyon.site","fnwk.site","folionetwork.site","platform0.app","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","*.dapps.earth","*.bzz.dapps.earth","builtwithdark.com","demo.datadetect.com","instance.datadetect.com","edgestack.me","ddns5.com","debian.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","*.rss.my.id","*.diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","bip.sh","bitbridge.net","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","ondigitalocean.app","*.digitaloceanspaces.com","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","eero.online","eero-stage.online","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","onred.one","staging.onred.one","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","onfabrica.com","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","conn.uk","copro.uk","hosp.uk","mydobiss.com","fh-muenster.io","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","fireweb.app","flap.id","onflashdrive.app","fldrv.com","fly.dev","edgeapp.net","shw.io","flynnhosting.net","forgeblocks.com","id.forgerock.io","framer.app","framercanvas.com","*.frusky.de","ravpage.co.il","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","wien.funkfeuer.at","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","campaign.gov.uk","service.gov.uk","api.gov.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","ghost.io","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","cloudapps.digital","london.cloudapps.digital","pymnt.uk","homeoffice.gov.uk","ro.im","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","*.r.appspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","*.gateway.dev","cloud.goog","translate.goog","*.usercontent.goog","cloudfunctions.net","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","goupile.fr","gov.nl","awsmppl.com","gnstigbestellen.de","gnstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","pages.it.hs-heilbronn.de","hepforge.org","herokuapp.com","herokussl.com","ravendb.cloud","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","homesklep.pl","secaas.hk","hoplix.shop","orx.biz","biz.gl","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","edu.scot","sch.so","hostyhosting.io","hkkinen.fi","*.moonscale.io","moonscale.net","iki.fi","ibxos.it","iliadboxos.it","impertrixcdn.com","impertrix.com","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","iopsys.se","ipifony.net","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","iobb.net","mel.cloudlets.com.au","cloud.interhostsolutions.be","users.scale.virtualcloud.com.br","mycloud.by","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","amscompute.com","clicketcloud.com","dopaas.com","hidora.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","kilatiron.com","paas.massivegrid.com","jed.wafaicloud.com","lon.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","cloud-fr1.unispace.io","jc.neen.it","cloud.jelastic.open.tim.it","jcloud.kz","upaas.kazteleport.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","faststacks.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","jelastic.tsukaeru.net","sdscloud.pl","unicloud.pl","mircloud.ru","jelastic.regruhosting.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","ktistory.com","kapsi.fi","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","oya.to","kuleuven.cloud","ezproxy.kuleuven.be","co.krd","edu.krd","krellian.net","webthings.io","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkyard.cloud","linkyard-cloud.ch","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","*.user.localcert.dev","localzone.xyz","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","servers.run","lohmus.me","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","cn.vu","mazeplay.com","mcpe.me","mcdir.me","mcdir.ru","mcpre.ru","vps.mcdir.ru","mediatech.by","mediatech.dev","hra.health","miniserver.com","memset.net","messerli.app","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","azurestaticapps.net","1.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","csx.cc","mintere.site","forte.id","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","customer.mythic-beasts.com","caracal.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","pony.club","of.fashion","in.london","of.london","from.marketing","with.marketing","for.men","repair.men","and.mom","for.mom","for.one","under.one","for.sale","that.win","from.work","to.work","cloud.nospamproxy.com","netlify.app","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","pcloud.host","nyc.mn","static.observableusercontent.com","cya.gg","omg.lol","cloudycluster.net","omniwe.site","service.one","nid.io","opensocial.site","opencraft.hosting","orsites.com","operaunite.com","tech.orange","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.webpaas.ovh.net","*.hosting.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","pagexl.com","*.paywhirl.com","bar0.net","bar1.net","bar2.net","rdv.to","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","perspecta.cloud","lk3.ru","on-web.fr","bc.platform.sh","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pdns.page","plesk.page","pleskns.com","dyn53.io","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qoto.io","qualifioapp.com","qbuser.com","cloudsite.builders","instances.spawn.cc","instantcloud.cn","ras.ru","qa2.com","qcx.io","*.sys.qcx.io","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","g.vbrplsbx.io","*.on-k3s.io","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","id.repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","wellbeingzone.co.uk","adimo.co.uk","itcouldbewor.se","git-pages.rit.edu","rocky.page",".",".",".",".",".",".",".",".",".",".","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","sandcats.io","logoip.de","logoip.com","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","senseering.net","minisite.ms","magnet.page","biz.ua","co.ua","pp.ua","shiftcrypto.dev","shiftcrypto.io","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","small-web.org","vp4.me","try-snowplow.com","srht.site","stackhero-network.com","musician.io","novecore.site","static.land","dev.static.land","sites.static.land","storebase.store","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","playstation-cloud.com","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","supabase.co","supabase.in","supabase.net","su.paba.se","*.s5y.io","*.sensiosite.cloud","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","vpnplus.to","direct.quickconnect.to","tabitorder.co.il","taifun-dns.de","beta.tailscale.net","ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.dev.thingdust.io","reservd.disrec.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","bloxcms.com","townnews-staging.com","tbits.me","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","site.transip.me","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","typedream.app","pro.typeform.com","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","name.pm","sch.tf","biz.wf","sch.wf","org.yt","virtualuser.de","virtual-user.de","upli.io","urown.cloud","dnsupdate.info","lib.de.us","2038.io","vercel.app","vercel.dev","now.sh","router.management","v-info.info","voorloper.cloud","neko.am","nyaa.am","be.ax","cat.ax","es.ax","eu.ax","gg.ax","mc.ax","us.ax","xy.ax","nl.ci","xx.gl","app.gp","blog.gt","de.gt","to.gt","be.gy","cc.hn","blog.kg","io.kg","jp.kg","tv.kg","uk.kg","us.kg","de.ls","at.md","de.md","jp.md","to.md","indie.porn","vxl.sh","ch.tc","me.tc","we.tc","nyan.to","at.vg","blog.vu","dev.vu","me.vu","v.ua","*.vultrobjects.com","wafflecell.com","*.webhare.dev","reserve-online.net","reserve-online.com","bookonline.app","hotelwithflight.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","pages.wiardweb.com","wmflabs.org","toolforge.org","wmcloud.org","panel.gg","daemon.panel.gg","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","wixsite.com","editorx.io","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","ynh.fr","nohost.me","noho.st","za.net","za.org","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"]')}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=e,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.u=function(e){if(348===e)return"voxeet-dvwc-worker.js"},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="",i.b=document.baseURI||self.location.href;var n={};return function(){"use strict";i.d(n,{default:function(){return Qu}});var e={};i.r(e),i.d(e,{VideoPresentationPause:function(){return y},VideoPresentationPlay:function(){return k},VideoPresentationSeek:function(){return b},VideoPresentationStarted:function(){return g},VideoPresentationStopped:function(){return v}});var t={};i.r(t),i.d(t,{FileConversionProgress:function(){return C},FileConverted:function(){return x},FilePresentationStarted:function(){return _},FilePresentationStopped:function(){return S},FilePresentationUpdated:function(){return j}});var r={};i.r(r),i.d(r,{ActiveSpeakerChange:function(){return W},BandwidthRestrictionChanged:function(){return K},ConferenceDestroyed:function(){return V},ConferenceEnded:function(){return z},ConferenceGlobalError:function(){return L},ConferenceJoined:function(){return P},ConferenceLeaving:function(){return F},ConferenceLeft:function(){return R},ConferenceStats:function(){return I},ConferenceVideoFilterUpdate:function(){return q},DvcsMetric:function(){return B},OfferCreated:function(){return D},OwnParticipantSwitched:function(){return U},ParticipantAdded:function(){return A},ParticipantKicked:function(){return Y},ParticipantSwitched:function(){return N},ParticipantUpdated:function(){return O},StreamAdded:function(){return X},StreamRemoved:function(){return $},StreamUpdated:function(){return J},UpdateToken:function(){return H},VideoForwardedChanged:function(){return G}});var o={};i.r(o),i.d(o,{RecordingStatusUpdated:function(){return Z}});var a={};i.r(a),i.d(a,{ConferenceMessageReceived:function(){return Q}});var s={};i.r(s),i.d(s,{ActiveParticipants:function(){return he},ConferenceCreatedNotification:function(){return se},ConferenceEndedNotification:function(){return ce},ConferenceStatusNotification:function(){return ue},InvitationReceived:function(){return ae},ParticipantJoinedNotification:function(){return de},ParticipantLeftNotification:function(){return le}});var c={};i.r(c),i.d(c,{SessionClosed:function(){return pe},SessionOpened:function(){return pe}});var u={};i.r(u),i.d(u,{LocalVideoStarted:function(){return me},LocalVideoStopped:function(){return fe}});var d={};i.r(d),i.d(d,{AudioUpdated:function(){return ge}});var l,h=i(2699),p=i.n(h);class m{constructor(e){this.type=e}}class f extends m{constructor(e,t,i){super(e),this.conferenceId=t,this.userId=i}}class g extends f{constructor(e){super(ke.VideoPresentationStarted,e.conferenceId,e.userId),this.url=e.url,this.timestamp=e.timestamp}static fromData(e){return new g(Object.assign({},e))}}class v extends f{constructor(e){super(ke.VideoPresentationStopped,e.conferenceId,e.userId)}static fromData(e){return new v(Object.assign({},e))}}class k extends f{constructor(e){super(ke.VideoPresentationPlay,e.conferenceId,e.userId),this.timestamp=e.timestamp}static fromData(e){return new k(Object.assign({},e))}}class y extends f{constructor(e){super(ke.VideoPresentationPause,e.conferenceId,e.userId),this.timestamp=e.timestamp}static fromData(e){return new y(Object.assign({},e))}}class b extends f{constructor(e){super(ke.VideoPresentationSeek,e.conferenceId,e.userId),this.timestamp=e.timestamp}static fromData(e){return new b(Object.assign({},e))}}class w{constructor(e){this.position=0,this.id=e}}class _ extends m{constructor(e){super(ke.FilePresentationStarted),this.file=e}static fromData(e){const t=new w(e.fileId);return t.imageCount=e.imageCount,t.position=e.position,t.ownerId=e.userId,new _(t)}}class S extends m{constructor(e){super(ke.FilePresentationStopped),this.file=e}static fromData(e){const t=new w(e.fileId);return t.ownerId=e.userId,new S(t)}}class j extends m{constructor(e){super(ke.FilePresentationUpdated),this.file=e}static fromData(e){const t=new w(e.fileId);return t.ownerId=e.userId,t.position=e.position,new j(t)}}class T{constructor(e,t,i,n,r){this.userId=e,this.fileId=t,this.currentStep=i,this.stepCount=n,this.progress=r}}class C extends m{constructor(e){super(ke.FileConversionProgress),this.fileConversion=e}static fromData(e){const t=new T(e.userId,e.fileId,e.currentStep,e.stepCount,e.progress);return new C(t)}}class E{constructor(e,t){this.id=e,this.imageCount=t}}class x extends m{constructor(){super(ke.FileConverted),this.files=[]}static fromData(e){const t=new x;return t.error=e.error||"",e.files&&e.files.forEach((e=>{const i=new E(e.fileId,e.nbImageConverted);i.name=e.filename,i.size=e.filesize,i.ownerId=e.owner,t.files.push(i)})),t}}class M{constructor(){}static fromJoinData(e){const t=new M;return t.currentLanguage=e.currentLanguage,t.dolbyVoice="true"===e.dolbyVoice,t.liveRecording=e.liveRecording,t.mode=e.mode,t.multiSession=e.multiSession,t.rtcpMode=e.rtcpMode,t.stats=e.stats,t.ttl=e.ttl,t.videoCodec=e.videoCodec,t.spatialAudioStyle=e.spatialAudioStyle,t}}class P extends m{constructor(){super(ke.ConferenceJoined)}static fromData(e){const t=new P;return t.conferenceId=e&&e.conferenceId?e.conferenceId:null,t.recordingStatus=e.recordingStatus,t.recordingParticipant=e.recordingUser,t.recordingStartTimestamp=e.startRecordTimestamp,t.parameters=M.fromJoinData(e.metadata),t}}class I extends m{constructor(){super(ke.ConferenceStats)}static fromData(e){const t=new I;return t.stats=e.participantStats,t}}class R extends m{constructor(){super(ke.ConferenceLeft)}static fromData(e){const t=new R;return t.stateDump=e,t}}class D extends m{constructor(){super(ke.OfferCreated)}withMaster(e){return this.master=e,this}withUserId(e){return this.userId=e,this}withConferenceId(e){return this.conferenceId=e,this}withDescription(e){return this.description=e,this}withCandidates(e){return this.candidates=e,this}withState(e){return this.state=e,this}static fromData(e){return(new D).withMaster(e.master).withUserId(e.user_id).withConferenceId(e.conference_id).withDescription(e.description).withCandidates(e.candidates).withState(e.state)}}class A extends m{constructor(){super(ke.ParticipantAdded)}static fromData(e){const t=new A;return t.userId=e.user_id,t.externalId=e.externalId,t.name=e.name,t.avatarUrl=e.avatarUrl,t.status=e.status,t.metadata=e.metadata,t.participantType=e.participantType,t.audio=e.audio||!1,t.audioReceivingStopped=e.audioReceivingStopped||!1,t}}class O extends m{constructor(){super(ke.ParticipantUpdated)}static fromData(e){const t=new O;return t.userId=e.user_id,t.status=e.status,t.participantType=e.participantType,t.audio=e.audio,t.audioReceivingStopped=e.audioReceivingStopped,t.name=e.name,t.avatarUrl=e.avatarUrl,t.externalId=e.externalId,t}}class F extends m{constructor(){super(ke.ConferenceLeaving)}}class z extends m{constructor(){super(ke.ConferenceEnded)}}class L extends m{constructor(e){super(ke.ConferenceGlobalError),this.error=e}static fromData(e){return new L(e)}}class N extends m{constructor(){super(ke.ParticipantSwitched)}static fromData(e){const t=new N;return t.userId=e.user_id,t}}class U extends m{constructor(){super(ke.OwnParticipantSwitched)}}class V extends m{constructor(){super(ke.ConferenceDestroyed)}static fromData(e){const t=new V;return t.conferenceId=e.conferenceId,t.conferenceAlias=e.conferenceAlias,t}}class B extends m{constructor(){super(ke.DvcsMetric)}static fromData(e){const t=new B;return t.name=e.name,t.userId=e.userId,t.value=e.value,t}}class W extends m{constructor(){super(ke.ActiveSpeakerChange),this.speakers=[],this.conferenceId=""}static fromData(e){const t=new W;return t.speakers=e.activeSpeakers,t.conferenceId=e.conferenceId,t}}class G extends m{constructor(){super(ke.VideoForwardedChanged),this.videoForwardedId=[],this.conferenceId=""}static fromData(e){const t=new G;return t.videoForwardedId=e.videoForwardedId,t.conferenceId=e.conferenceId,t}}class H extends m{constructor(){super(ke.UpdateToken)}static fromData(e){const t=new H;return t.conferenceId=e.conferenceId,t.userId=e.userId,t.conferenceAccessToken=e.content.access_token,t}}class Y extends m{constructor(){super(ke.ParticipantKicked)}static fromData(e){const t=new Y;return t.userId=e.userId,t.status=e.status,t.participantType=e.participantType,t.audio=e.audio,t.audioReceivingStopped=e.audioReceivingStopped,t}}class q extends m{constructor(){super(ke.ConferenceVideoFilterUpdate)}static fromData(e){const t=new q;return t.filter=e.filter,t.filterOptions=e.filterOptions?e.filterOptions:{},t}}class X extends m{constructor(){super(ke.StreamAdded)}static fromData(e){const t=new X;return t.peerId=null==e?void 0:e.peerId,t.stream=null==e?void 0:e.stream,t}}class $ extends m{constructor(){super(ke.StreamRemoved)}static fromData(e){const t=new $;return t.peerId=null==e?void 0:e.peerId,t.stream=null==e?void 0:e.stream,t}}class J extends m{constructor(){super(ke.StreamUpdated)}static fromData(e){const t=new J;return t.peerId=null==e?void 0:e.peerId,t.stream=null==e?void 0:e.stream,t}}class K extends m{constructor(){super(ke.BandwidthRestrictionChanged)}static fromData(e){const t=new K;return t.bandwidth=null==e?void 0:e.bandwidth,t}}class Z extends m{constructor(){super(ke.RecordingStatusUpdated)}static fromData(e){const t=new Z;return t.participantId=e.user_id,t.status=e.recording_status,t.startTimestamp=e.start_record_timestamp,t}static fromJoinEvent(e){const t=new Z;return t.participantId=e.recordingParticipant,t.status=e.recordingStatus,t.startTimestamp=e.recordingStartTimestamp,t}}class Q extends m{constructor(){super(ke.ConferenceMessageReceived)}static fromData(e){const t=new Q;return t.message=e.message,t.conferenceId=e.conference_id,t.participantId=e.user_id,t}}class ee{}!function(e){e.USER="user",e.SPEAKER="speaker",e.LISTENER="listener",e.DOLBYVOICE="dolbyVoice",e.PSTN="pstn",e.MIXER="mixer",e.NONE="none",e.ROBOT="robot"}(l||(l={}));const te=e=>{switch(e){case"USER":default:return l.USER;case"SPEAKER":return l.SPEAKER;case"LISTENER":return l.LISTENER;case"MIXER":return l.MIXER;case"NONE":return l.NONE;case"ROBOT":return l.ROBOT;case"DOLBYVOICE":return l.DOLBYVOICE}};var ie;!function(e){e.RESERVED="Reserved",e.INACTIVE="Inactive",e.DECLINE="Decline",e.CONNECTING="Connecting",e.CONNECTED="Connected",e.LEFT="Left",e.WARNING="Warning",e.ERROR="Error",e.KICKED="Kicked"}(ie||(ie={}));const ne=e=>{switch(e){case"RESERVED":return ie.RESERVED;case"INACTIVE":return ie.INACTIVE;case"DECLINE":return ie.DECLINE;case"CONNECTING":default:return ie.CONNECTING;case"ON_AIR":case"CONNECTED":return ie.CONNECTED;case"LEFT":return ie.LEFT;case"WARNING":return ie.WARNING;case"ERROR":return ie.ERROR;case"KICKED":return ie.KICKED}};var re;!function(e){e.Status="status"}(re||(re={}));class oe extends h.EventEmitter{constructor(e,t="CONNECTING",i="USER"){super(),this.info=new ee,this.streams=new Array,this.audioQuality=-1,this.audioTransmitting=!1,this._audioReceivingStopped=!1,this.id=e,this.status=ne(t),this.type=te(i)}init(e){this.updateStatus(e.status),this.info=new ee,this.info.name=e.name,this.info.externalId=e.externalId,this.info.avatarUrl=e.avatarUrl,this.audioTransmitting=e.audio,this._audioReceivingStopped=e.audioReceivingStopped,this.metadata=e.metadata,this.level=0,this.active=!1,this.type=te(e.participantType)}update(e){this.updateStatus(e.status),this.updateType(e.participantType),this.updateAudioTransmitting(e.audio||!1),this.updateAudioReceivingStopped(e.audioReceivingStopped||!1),this.updateName(e.name),this.updateAvatarUrl(e.avatarUrl),this.updateExternalId(e.externalId)}updateAudioTransmitting(e){this.audioTransmitting=e||!1}updateAudioReceivingStopped(e){this._audioReceivingStopped=e||!1}get audioReceivingFrom(){return this.audioTransmitting&&!this._audioReceivingStopped}get audio(){return this.audioTransmitting}updateType(e){this.type=te(e)}updateStatus(e){const t=this.status;this.status=ne(e),t!==this.status&&this.emit(re.Status)}updateName(e){this.info.name=e}updateAvatarUrl(e){this.info.avatarUrl=e}updateExternalId(e){this.info.externalId=e}}class ae extends m{constructor(){super(ke.InvitationReceived)}static fromData(e){const t=new ae;return t.conferenceId=e.conferenceId,t.conferenceAlias=e.confAlias,t.conferenceToken=e.confToken,t.participant=new oe(e.inviter.userId,"ON_AIR"),t.participant.info.name=e.inviter.nickName,t.participant.info.externalId=e.inviter.externalId,t.participant.info.avatarUrl=e.inviter.externalAvatarUrl,t}}class se extends m{constructor(){super(ke.ConferenceCreatedNotification)}static fromData(e){const t=new se;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t}}class ce extends m{constructor(){super(ke.ConferenceEndedNotification)}static fromData(e){const t=new ce;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t}}class ue extends m{constructor(){super(ke.ConferenceStatusNotification),this.participants=new Array}static fromData(e){const t=new ue;return t.conferenceId=e.confId,t.conferenceAlias=e.confAlias,t.live=e.live,e.participants.forEach((e=>{const i=new oe(e.userId,e.status);i.info.name=e.externalName,i.info.externalId=e.externalId,t.participants.push(i)})),t}}class de extends m{constructor(){super(ke.ParticipantJoinedNotification)}static fromData(e){const t=new de;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t.participant=new oe(e.participant.userId,"ON_AIR"),t.participant.info.externalId=e.participant.externalId,t.participant.info.name=e.participant.externalName,t}}class le extends m{constructor(){super(ke.ParticipantLeftNotification)}static fromData(e){const t=new le;return t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t.participant=new oe(e.participant.userId,"LEFT"),t.participant.info.externalId=e.participant.externalId,t.participant.info.name=e.participant.externalName,t}}class he extends m{constructor(){super(ke.ActiveParticipants),this.participants=[],this.participantCount=0}static fromData(e){const t=new he;return t.participants=e.participants.map((e=>{const t=new oe(e.userId,e.participantStatus,e.participantType);return t.updateName(e.externalName),t.updateExternalId(e.externalId),t})),t.conferenceId=e.conference.confId,t.conferenceAlias=e.conference.confAlias,t.participantCount=e.participantCount===e.participants.length?e.participantCount:e.participants.length,t}}class pe extends m{constructor(){super(ke.SessionOpened)}static fromData(){return new pe}}class me extends m{constructor(){super(ke.LocalVideoStarted)}static fromData(e){const t=new me;return t.track=null==e?void 0:e.track,t}}class fe extends m{constructor(){super(ke.LocalVideoStopped)}static fromData(e){const t=new fe;return t.track=null==e?void 0:e.track,t}}class ge extends Event{constructor(e,t,i){super(ke.AudioStopped),this.participant=e,this.previousAudioTransmitting=t,this.audioTransmitting=i}}const ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),t),e),o),a),s),c),u),d),ke={};Object.keys(ve).forEach((e=>ke[e]=e));var ye=i(1227),be=i.n(ye);const we=be()("vxt:events");class _e extends h.EventEmitter{constructor(){super()}register(e,t){t.map((t=>{e.__proto__["on"+t]?this.on(t,e.__proto__["on"+t].bind(e)):e["on"+t]?this.on(t,e["on"+t].bind(e)):this.on(t,(i=>e.emit(t.toString(),i)))}))}send(e){!e&&we("Received undefined event"),e&&we("EventBus: "+e.type),e&&this.emit(e.type,e)}}const Se=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),o),t),e),a),s),c);const je=new _e;je.setMaxListeners(15);var Te=je;class Ce extends Error{constructor(e,t){super(t),this.message=t,this.name=e}}class Ee extends Error{constructor(e,t,i,n){super(t),this.message=t,this.name=e,this.peerId=i,this.underlyingError=n}}class xe extends Error{constructor(e){super(e.message),this.message=e.message,this.name=e.name}}class Me extends Error{constructor(e){super(e),this.message=e,this.name="MediaError"}}class Pe extends Error{constructor(e,t){super(t),this.message=t,this.name=e}}class Ie extends Error{constructor(e,t){super(t),this.message=t,this.name=e}}class Re extends Error{constructor(e){super("ServerError"),this.name="ServerError",this.data=e.response?e.response.data:{},this.status=e.response?e.response.status:"",this.statusText=e.response?e.response.statusText:"",this.code=e.response?e.response.data.error_code:"",this.reason=e.response?e.response.data.error_reason:"",this.description=e.response?e.response.data.error_description:"",this.message=this.description}}class De extends Error{constructor(e){super(),this.name="WebSocketError",this.message=e}}class Ae extends Error{constructor(e="Your client does not support this functionality."){super(),this.name="UnsupportedError",this.message=e}}class Oe extends Error{constructor(e){super(),this.name="VideoForwardingError",this.message=e}}class Fe extends Error{constructor(e){super(),this.name="SpatialAudioError",this.message=e}}class ze extends Error{constructor(e){super(e),this.name="VideoServiceError",this.message=e}}class Le extends Error{constructor(e){super(),this.name="ParameterError",this.message=e}}class Ne extends Error{constructor(e){super(),this.message=e,this.name="SessionError"}}class Ue extends Error{constructor(e,t){super(),this.message=t,this.name=e}}const Ve=e=>new Ee("NotFoundError","Unable to find peer.",e),Be=()=>new Ce("InsufficientPermissionsError","Insufficient permissions for this operation"),We=e=>new Ee("PeerConnectionFailedError","Peer connection has failed to connect.",e),Ge=()=>new Ce("UninitializedError","Conference is not initialized."),He=()=>new Ne("Refresh token is null or undefined, please check your callback."),Ye=(e,t)=>new Ee("DataChannelError","Data channel connection failed. Reason: "+t,e);class qe extends h.EventEmitter{constructor(e){super(),this._sdk=e}}class Xe extends qe{constructor(e){super(e),Te.register(this,[ke.ConferenceJoined,ke.ConferenceLeft])}onConferenceJoined(e){this._conferenceId=e.conferenceId}onConferenceLeft(e){this._conferenceId=null}checkConference(){if(!this._conferenceId)throw Ge()}}function $e(e){return function(t){let i=function(...i){let n=function(){return new t(...i)};n.prototype=t.prototype;let r=new n;return Te.register(r,e),r};return i.prototype=t.prototype,i}}var Je=i(9644),Ke=i.n(Je),Ze=i(9640),Qe=i.n(Ze);class et extends(p()){constructor(){super();try{this._isAvailable=DolbyVoice.prototype.hasOwnProperty("setTransparentMode")}catch(e){this._isAvailable=!1}}isAvailable(){return this._isAvailable}}var tt=et,it=i(7160),nt=i.n(it),rt=i(2382),ot=i.n(rt);const at="00000000-0000-0000-0000-000000000000",st=it.getParser(window.navigator.userAgent),ct="undefined"!=typeof global&&!global.window,ut=st.is("electron");ct?(global.Buffer=i(2349).Buffer,global.WebSocket=i(6946),global.window=global.window||{},global.navigator=global.window||{},"undefined"==typeof btoa&&(global.btoa=function(e){return new Buffer(e).toString("base64")}),"undefined"==typeof atob&&(global.atob=function(e){return new Buffer(e,"base64").toString()})):ot()(window,{shimChrome:!1,shimFirefox:!1,shimEdge:!0,shimSafari:!1});const dt=new tt;var lt=window.RTCIceCandidate||window.webkitRTCIceCandidate||window.mozRTCIceCandidate,ht=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection,pt=window.RTCSessionDescription||window.webkitRTCSessionDescription||window.mozRTCSessionDescription,mt=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;const ft=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;navigator.getUserMedia=(e={})=>new Promise(((t,i)=>{ft.call(window.navigator,e,(e=>{t(e)}),(e=>{i(e)}))})),!navigator.mediaDevices||st.msedge||navigator.mediaDevices.getDisplayMedia&&!ut?st.is("edge")&&(navigator.mediaDevices.getDisplayMedia=navigator.getDisplayMedia.bind(navigator)):navigator.mediaDevices.getDisplayMedia=e=>{return t=void 0,i=void 0,r=function*(){let t={},i=e&&e.sourceId;return window.getScreenSourceId&&(i=yield window.getScreenSourceId()),i&&(st.is("electron")||st.is("chrome")?t={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxWidth:1920,maxHeight:1080}}}:st.is("firefox")&&(t={video:{mediaSource:e.sourceId,maxWidth:1920,maxHeight:1080}})),navigator.mediaDevices.getUserMedia(t)},new((n=void 0)||(n=Promise))((function(e,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(a,s)}c((r=r.apply(t,i||[])).next())}));var t,i,n,r};var gt=st.isBrowser("ie",!0),vt=function(e,t){if(gt)e&&"VIDEO"===e.nodeName&&(e.videoRenderer&&VideoRenderer.unhandle(e),VideoRenderer.handle(e)),e.srcObject=t;else if(void 0!==(null==e?void 0:e.srcObject))if(st.is("safari")){const i=e.srcObject&&e.srcObject.getAudioTracks(),n=t&&t.getAudioTracks();e&&e instanceof HTMLVideoElement?requestAnimationFrame((()=>{e.srcObject=t})):(!i||!n||i.length!==n.length||i.length>0&&n.length>0&&i[0].id!==n[0].id)&&(e.srcObject=t)}else e.srcObject=t;else void 0!==(null==e?void 0:e.mozSrcObject)?e.mozSrcObject=t:void 0!==(null==e?void 0:e.src)?e.src=null===t?"":URL.createObjectURL(t):Qe().error("Error attaching stream to element.");return e};navigator.attachMediaStream=vt;var kt=i(5595);class yt{constructor(e,t,i,n,r,o,a,s,c,u){this.getHost=a,this.map=s,this.accessToken=null,this.conferenceToken=null,this.getToken=t,this.setToken=i,this.getCurrentConferenceToken=o,this.getUserToken=n,this.getRefreshTokenCb=r,this.hashId=e,this.isTokenExpired=c,this.getLeavingCallback=u,ct&&(this.cookie=null,this.cookiejar=new kt.US,Ke().interceptors.request.use((e=>(this.cookiejar.getCookies(e.url,((t,i)=>{e.headers.cookie=i.join("; ")})),e))),Ke().interceptors.response.use((e=>(e.headers["set-cookie"]instanceof Array&&e.headers["set-cookie"].forEach((t=>{const i=kt.Vj.parse(t);"vxtk"===i.key&&(this.cookiejar.setCookie(i,e.config.url,(function(e,t){})),this.cookie=i.value)})),e)))),Ke().interceptors.response.use((e=>e),(e=>{const{response:{status:t}}=e;return 401===t?(this.getLeavingCallback(),Promise.reject(e)):Promise.reject(e)})),this.inject()}handleRequest(e,t,i){return n=this,r=void 0,a=function*(){const n=i&&i.data?i.data:{},r=i&&i.queryParams?i.queryParams:{};let o=i&&i.headers?i.headers:{},a=this.getHost()+this.templateUri(e,i)+this.appendQueryParams(r);this.isTokenExpired()&&(yield this.getRefreshTokenCb()),this.accessToken=this.getToken(),this.jwtUserToken=this.getUserToken?this.getUserToken():null,this.conferenceToken=this.getCurrentConferenceToken?this.getCurrentConferenceToken():null,o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),{"Content-Type":"application/json","Voxeet-Id":this.hashId}),this.accessToken&&{Authorization:`Bearer ${this.accessToken}`}),this.jwtUserToken&&{"X-Token":this.jwtUserToken}),this.conferenceToken&&{"X-conf-access-token":this.conferenceToken});const s={method:t,headers:o,withCredentials:!0};return i&&i.keepAlive?(s.keepalive=!0,s.body=JSON.stringify(n),fetch(a,s)):(s.data=n,s.url=a,Ke()(s).then((e=>e)).catch((e=>{throw e.response&&114===e.response.data.error_code?Be():new Re(e)})))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}c((a=a.apply(n,r||[])).next())}));var n,r,o,a}appendQueryParams(e){let t=[];for(let i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.length>0?"?"+t.join("&"):""}templateUri(e,t){return e.replace(/\{([^\{\}]+)\}/g,((i,n)=>(t[n]||Qe().debug("Failed to find parameter :",n,"for uri: ",e),t[n])))}inject(){this.getCookie=function(){return this.cookie};for(let e in this.map)this[e]=function(t){return this.handleRequest(this.map[e].uri,this.map[e].method,t)}}}class bt{static inject(e,t,i,n,r,o,a,s,c=!1,u,d){const l=bt.generateId(40);for(let h in s)c?(e[h]=new yt(l,t,i,n,r,o,a,s[h],u,d),e.getHashId=function(){return l}):(e.prototype[h]=new yt(l,t,i,n,r,o,a,s[h],u,d),e.prototype.getHashId=function(){return l});return e.prototype.getHashId=function(){return l},e}static byteToHex(e){return("0"+e.toString(16)).slice(-2)}static generateId(e){return Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)}}var wt=bt;class _t{static getToken(){return _t.accessToken}static setToken(e){_t.accessToken=e}static setAccessTokenExpiration(e){_t.accessTokenExpiration=e}static getJwtToken(){return _t.jwtToken}static getTokenCallback(){return _t.tokenCallback}static getHost(){return _t.host}static getAccessTokenExpiration(){return _t.accessTokenExpiration}static getLeavingCallback(){return _t.leavingCallback}static isTokenExpired(){return _t.accessTokenExpiration-(new Date).getTime()/1e3<0}static setRegion(e){e&&2===e.length&&"devssl"!==this.flavor?(_t.host="staging"===this.flavor?`https://${e}.comms.sdk.staging.dolbyio.com`:`https://${e}.comms.sdk.dolby.io`,_t.wsHost="staging"===this.flavor?`wss://${e}.comms.sdk.staging.dolbyio.com`:`wss://${e}.comms.sdk.dolby.io`):(_t.host="https://comms.sdk.dolby.io",_t.wsHost="wss://comms.sdk.dolby.io")}static getCurrentConferenceToken(){return _t.currentConferenceToken}static setCurrentConferenceToken(e){_t.currentConferenceToken=_t.conferenceTokens.get(e)}static getConferenceToken(e){return _t.conferenceTokens.get(e)}static setConferenceTokens(e,t){_t.conferenceTokens=_t.conferenceTokens.set(e,t)}static clearConferenceTokens(){_t.conferenceTokens.clear()}}_t.conferenceTokens=new Map,_t.host="https://comms.sdk.dolby.io",_t.wsHost="wss://comms.sdk.dolby.io",_t.flavor="production",wt.inject(_t,_t.getToken,_t.setToken,_t.getJwtToken,_t.getTokenCallback,_t.getCurrentConferenceToken,_t.getHost,{version:"2.0",init:{register:{method:"POST",uri:"/v1/oauth2/token"},refresh:{method:"POST",uri:"/v1/oauth2/refresh"},invalidate:{method:"POST",uri:"/v1/oauth2/invalidate"},identify:{method:"POST",uri:"/v2/users/identify"},logout:{method:"POST",uri:"/v1/users/logout"}},conferences:{updatePermissions:{method:"POST",uri:"/v1/conferences/{conferenceId}/permissions"},kick:{method:"POST",uri:"/v1/conferences/{conferenceId}/kick/{peerId}"},invite:{method:"POST",uri:"/v1/conferences/{conferenceId}/invite"},answer:{method:"POST",uri:"/v1/conferences/{conferenceId}/answer/{peerId}"},candidates:{method:"POST",uri:"/v1/conferences/{conferenceId}/candidates/{peerId}"},broadcast:{method:"POST",uri:"/v1/conferences/{conferenceId}/send"},create:{method:"POST",uri:"/v1/conferences/create"},getDemo:{method:"GET",uri:"/v1/conferences/demo"},joinRoom:{method:"POST",uri:"/v1/conferences/{conferenceId}/join"},leave:{method:"POST",uri:"/v1/conferences/{conferenceId}/leave"},videoForwarding:{method:"POST",uri:"/v1/conferences/{conferenceId}/videoforwarding"},stopVideo:{method:"GET",uri:"/v1/conferences/{conferenceId}/video/{peerId}/stop"},startVideo:{method:"GET",uri:"/v1/conferences/{conferenceId}/video/{peerId}/start"},stopMedia:{method:"POST",uri:"/v1/conferences/{conferenceId}/media/{peerId}/stop"},startMedia:{method:"POST",uri:"/v1/conferences/{conferenceId}/media/{peerId}/start"},subscribe:{method:"GET",uri:"/v1/conferences/{conferenceId}/subscribe"},unsubscribe:{method:"DELETE",uri:"/v1/conferences/{conferenceId}/subscribe"},status:{method:"POST",uri:"/v1/conferences/{conferenceId}/status"},postRenegociate:{method:"POST",uri:"/v1/conferences/{conferenceId}/renegociate"},renegociate:{method:"GET",uri:"/v1/conferences/{conferenceId}/renegociate"},startRecording:{method:"POST",uri:"/v1/conferences/{conferenceId}/recording/start"},stopRecording:{method:"GET",uri:"/v1/conferences/{conferenceId}/recording/stop"},replay:{method:"POST",uri:"/v1/conferences/{conferenceId}/replay"},reserve:{method:"POST",uri:"/v1/conferences/{conferenceId}/reserve"},setMode:{method:"POST",uri:"/v1/conferences/{conferenceId}/mode"},mix:{method:"POST",uri:"/v1/conferences/{conferenceId}/mix"},download:{method:"GET",uri:"/v1/conferences/{conferenceId}/download"},mixUrl:{method:"GET",uri:"/v1/conferences/{conferenceId}/url"},wait:{method:"GET",uri:"/v1/conferences/{conferenceId}/wait"},getStats:{method:"GET",uri:"/v1/conferences/{conferenceId}/stats"},simulcast:{method:"POST",uri:"/v1/conferences/{conferenceId}/simulcast"},error:{method:"POST",uri:"/v1/conferences/{conferenceId}/error"},audioProcessing:{method:"POST",uri:"/v1/conferences/{conferenceId}/audio/{peerId}/processing"},audioPosition:{method:"POST",uri:"/v1/conferences/{conferenceId}/audio/{peerId}/update"}},screen:{start:{method:"GET",uri:"/v1/conferences/{conferenceId}/sharing/start"},stop:{method:"GET",uri:"/v1/conferences/{conferenceId}/sharing/stop"}},fileshare:{start:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/start"},update:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/update"},stop:{method:"POST",uri:"/v1/conferences/{conferenceId}/filepresentation/stop"}},externallive:{start:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/live/start"},stop:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/live/stop"}},hls:{start:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/hls/start"},stop:{method:"POST",uri:"/v1/conferences/mix/{conferenceId}/hls/stop"}},videoshare:{start:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/start"},stop:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/stop"},play:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/play"},pause:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/pause"},seek:{method:"POST",uri:"/v1/conferences/{conferenceId}/videopresentation/seek"}},tyw:{speaker:{method:"GET",uri:"/v1/conferences/{conferenceId}/speaker"},setMetadata:{method:"POST",uri:"/v1/conferences/{conferenceId}/metadata"}},subscription:{post:{method:"POST",uri:"/v1/subscriptions"},delete:{method:"DELETE",uri:"/v1/subscriptions"}}},!0,_t.isTokenExpired,_t.getLeavingCallback);var St=_t;class jt{constructor(e,t,i){this.ownerId=e,this.url=t,this.timestamp=i}}var Tt,Ct,Et,xt,Mt,Pt=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},It=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Rt=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.PLAYING="playing",e.PAUSED="paused",e.STOPPED="stopped"}(xt||(xt={})),function(e){e.Started="started",e.Stopped="stopped",e.Played="played",e.Pause="paused",e.Seek="sought"}(Mt||(Mt={}));let Dt=class extends Xe{constructor(e,t){super(e),Tt.set(this,void 0),Ct.set(this,void 0),Et.set(this,void 0),It(this,Et,t),this.clear()}clear(){It(this,Tt,null),It(this,Ct,xt.STOPPED)}start(e){return St.videoshare.start({conferenceId:this._conferenceId,data:{url:e}}).then((e=>{}))}stop(){return St.videoshare.stop({conferenceId:this._conferenceId})}play(){return St.videoshare.play({conferenceId:this._conferenceId})}pause(e){return St.videoshare.pause({conferenceId:this._conferenceId,data:{timestamp:e}})}seek(e){return St.videoshare.seek({conferenceId:this._conferenceId,data:{timestamp:e}})}onVideoPresentationStarted(e){It(this,Tt,new jt(e.userId,e.url,e.timestamp)),Rt(this,Tt).owner=Rt(this,Et).participants.get(e.userId),It(this,Ct,xt.PLAYING),this.emit(Mt.Started,Rt(this,Tt))}onVideoPresentationStopped(e){this.clear(),this.emit(Mt.Stopped)}onVideoPresentationPlay(e){It(this,Ct,xt.PLAYING),Rt(this,Tt).timestamp=e.timestamp,this.emit(Mt.Played,Rt(this,Tt))}onVideoPresentationPause(e){It(this,Ct,xt.PAUSED),Rt(this,Tt).timestamp=e.timestamp,this.emit(Mt.Pause,Rt(this,Tt))}onVideoPresentationSeek(e){Rt(this,Tt).timestamp=e.timestamp,this.emit(Mt.Seek,Rt(this,Tt))}get current(){return Rt(this,Tt)}get state(){return Rt(this,Ct)}};Tt=new WeakMap,Ct=new WeakMap,Et=new WeakMap,Pt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Dt.prototype,"start",null),Pt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Dt.prototype,"stop",null),Pt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Dt.prototype,"play",null),Pt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Dt.prototype,"pause",null),Pt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Dt.prototype,"seek",null),Dt=Pt([$e([ke.VideoPresentationStarted,ke.VideoPresentationStopped,ke.VideoPresentationPlay,ke.VideoPresentationPause,ke.VideoPresentationSeek])],Dt);class At{static getHost(){return At.host}static setRegion(e){e&&2===e.length&&"devssl"!==this.flavor?At.host="staging"===this.flavor?`https://${e}.comms.sdk.staging.dolbyio.com`:`https://${e}.comms.sdk.dolby.io`:At.host="https://comms.sdk.dolby.io"}}At.host="https://comms.sdk.dolby.io",At.flavor="production",At.endpoints={file:{convert:{method:"POST",uri:"/v1/files/convert"},urlConvert:{method:"POST",uri:"/v1/files/urlConvert"},getImage:{method:"GET",uri:"/v1/files/{fileId}/converted/{page}"},getThumbnail:{method:"GET",uri:"/v1/files/{fileId}/converted/{page}/thumbnail"}}},wt.inject(At,St.getToken,St.setToken,St.getJwtToken,St.getTokenCallback,(()=>{}),At.getHost,At.endpoints,!0,St.isTokenExpired,St.getLeavingCallback);var Ot,Ft,zt,Lt=At,Nt=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Ut=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Vt=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Bt=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Converted="converted",e.ConversionProgress="conversionProgress",e.Started="started",e.Updated="updated",e.Stopped="stopped"}(zt||(zt={}));let Wt=class extends Xe{constructor(e,t){super(e),Ot.set(this,void 0),Ft.set(this,null),Vt(this,Ot,t)}convert(e){if(e.size>262144e3)throw new Error("File size exceeds 250 MB, the maximum file size.");let t=new FormData;return t.append("file",e),Lt.file.convert({data:t})}convertUrl(e,t){return Lt.file.urlConvert({data:{filename:e,url:t}})}start(e){return St.fileshare.start({conferenceId:this._conferenceId,data:{fileId:e.id,imageCount:e.imageCount}}).then((e=>e.data))}update(e){return Ut(this,void 0,void 0,(function*(){return this.checkPresentation(),(yield St.fileshare.update({conferenceId:this._conferenceId,data:{fileId:Bt(this,Ft).id,position:e}})).data}))}stop(){return Ut(this,void 0,void 0,(function*(){return this.checkPresentation(),(yield St.fileshare.stop({conferenceId:this._conferenceId,data:{fileId:Bt(this,Ft).id}})).data}))}image(e,t){let i=t;return i||(this.checkPresentation(),i=Bt(this,Ft).id),Promise.resolve(`${Lt.host}/v1/files/${i}/converted/${e}?token=${St.jwtToken}&hashId=${St.getHashId()}`)}thumbnail(e,t){let i=t;return i||(this.checkPresentation(),i=Bt(this,Ft).id),Promise.resolve(`${Lt.host}/v1/files/${i}/converted/${e}/thumbnail/?token=${St.jwtToken}&hashId=${St.getHashId()}`)}checkPresentation(){if(!Bt(this,Ft))throw new Error("File Presentation not stated")}onFileConverted(e){this.emit(zt.Converted,e.files[0])}onFileConversionProgress(e){this.emit(zt.ConversionProgress,e.fileConversion)}onFilePresentationStarted(e){Vt(this,Ft,e.file),Bt(this,Ft).owner=Bt(this,Ot).participants.get(e.file.ownerId),this.emit(zt.Started,Bt(this,Ft))}onFilePresentationUpdated(e){Bt(this,Ft).position=e.file.position,this.emit(zt.Updated,Bt(this,Ft))}onFilePresentationStopped(e){const t=Bt(this,Ft);Vt(this,Ft,null),this.emit(zt.Stopped,t)}get current(){return Bt(this,Ft)}};Ot=new WeakMap,Ft=new WeakMap,Nt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Wt.prototype,"start",null),Nt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Wt.prototype,"update",null),Nt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Wt.prototype,"stop",null),Wt=Nt([$e([ke.FileConversionProgress,ke.FileConverted,ke.FilePresentationStarted,ke.FilePresentationStopped,ke.FilePresentationUpdated])],Wt);var Gt=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};class Ht extends Xe{constructor(e){super(e)}start({uri:e="",hls:t=!1}){return t?St.hls.start({conferenceId:this._conferenceId}):St.externallive.start({conferenceId:this._conferenceId,data:{uri:e}})}stop({hls:e=!1}={}){return e?St.hls.stop({conferenceId:this._conferenceId}):St.externallive.stop({conferenceId:this._conferenceId})}}Gt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Ht.prototype,"start",null),Gt([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Ht.prototype,"stop",null);class Yt extends qe{constructor(e){super(e)}hasElectron(){return dt.isAvailable()}}var qt,Xt,$t,Jt=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Camera="Camera",e.ScreenShare="ScreenShare",e.Custom="Custom",e.CustomVideo="CustomVideo"}(Xt||(Xt={})),function(e){e[e.Camera=0]="Camera",e[e.ScreenShare=1]="ScreenShare",e[e.Custom=2]="Custom"}($t||($t={}));class Kt extends MediaStream{constructor(e){super(e),this.type=Xt.Camera,qt.set(this,[]),Jt(this,qt).push(new Zt)}addTrack(e){e instanceof MediaStreamTrack?super.addTrack(e):Jt(this,qt).push(e)}removeTrack(e){e instanceof MediaStreamTrack?super.removeTrack(e):Jt(this,qt).shift()}getAudioTracks(){return Jt(this,qt)}}qt=new WeakMap;class Zt{constructor(){this.id="fakeAudioTrack",this.kind="audio",this.enabled=!0}applyConstraints(e){return Promise.resolve()}clone(){return this}getCapabilities(){return null}getConstraints(){return null}getSettings(){return null}stop(){}addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}}var Qt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};class ei extends h.EventEmitter{constructor(){super()}addPeer({peerId:e,description:t,candidates:i,isMaster:n,state:r="default",wasmEnabled:o}){return Qt(this,void 0,void 0,(function*(){const{peer:a,isNew:s}=yield this.createPeerConnection(e,r,n);yield this.updateMasterStream(e,r,n),yield this.setRemoteDescription(e,this.getSsrc(t.sdp),t.type,t.sdp),s&&!ct&&a&&a.isMaster&&(yield this.addMasterStream(a)),yield Promise.all(i.map((t=>Qt(this,void 0,void 0,(function*(){nt().msedge||(yield this.setPeerCandidate(e,t.mid,t.mline_index,t.sdp))}))))),yield this.createAnswer(e,r,t.oid,o)}))}setRemoteSdp(e,t,i,n){return Qt(this,void 0,void 0,(function*(){return yield this.setRemoteDescription(e,this.getSsrc(t.sdp),t.type,t.sdp,n)}))}removePeer(e){this.closePeerConnection(e).catch((e=>console.warn("Peer connection close error",e.message))),this.removePeerConnection(e)}getSsrc(e){var t=/a=ssrc\:(.*?)\s/gm.exec(e);return Qe().trace("VoxeetRTC.getSsrc",t),t&&null!=t[1]?t[1]:"0"}checkStream(e){let t=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(e.id);return t[1]==$t.Camera?e.type=Xt.Camera:t[1]==$t.ScreenShare?e.type=Xt.ScreenShare:t[1]>=$t.Custom?(e.label=t[2],e.type=Xt.Custom):e.type=Xt.Camera,t[3]}updateMasterStream(e,t,i){return Promise.resolve()}sessionCreatedEvent(e,t,i,n,r,o,a){Qe().trace("VoxeetRTC.onSessionCreated",e,t,i,a),this.emit("sessionCreated",e,t,i,n,r,o,a)}addStreamEvent(e,t){Qe().trace("VoxeetRTC.addStream",e,t),this.emit("addStream",e,t)}updateStreamEvent(e,t){Qe().trace("VoxeetRTC.updateStream",e,t),this.emit("updateStream",e,t)}removeStreamEvent(e){Qe().trace("VoxeetRTC.removeStream",e),this.emit("removeStream",e)}addScreenStreamEvent(e,t){Qe().trace("VoxeetRTC.addScreenStream",e,t),this.emit("addScreenStream",e,t)}removeScreenStreamEvent(e,t){Qe().trace("VoxeetRTC.removeScreenStream"),this.emit("removeScreenStream",e,t)}endedScreenStreamEvent(){this.emit("endedScreenStream")}updateScreenStreamEvent(e,t){this.emit("updateScreenStream",e,t)}iceCandidatesGatheringCompleteEvent(e,t){this.emit("iceCandidatesGatheringComplete",e,t)}connectionStatusEvent(e){this.emit("connectionStatus",e)}initializeCallstats(e,t){return Promise.resolve()}init({constraints:e,processCb:t,listenOnly:i,ownerId:n,options:r}){Qe().error("abstract implementation init")}release(){return Qt(this,void 0,void 0,(function*(){Qe().error("abstract implementation release")}))}createPeerConnection(e,t,i){Qe().error("abstract implementation createPeerConnection")}closePeerConnection(e){Qe().error("abstract implementation closePeerConnection")}removePeerConnection(e){Qe().error("abstract implementation removePeerConnection")}createAnswer(e,t="default",i,n){Qe().error("abstract implementation createAnswer")}setRemoteDescription(e,t,i,n,r){Qe().error("abstract implementation setRemoteDescription")}setPeerCandidate(e,t,i,n){Qe().error("abstract implementation setPeerCandidate")}toggleMute(e){Qe().error("abstract implementation")}toggleOwnMute(){Qe().error("abstract implementation")}mutePeer(e,t){Qe().error("abstract implementation")}getLevel(e,t){Qe().error("abstract implementation")}isSpeaking(e,t){Qe().error("abstract implementation")}setPeerPosition(e,t,i){Qe().error("abstract implementation setPeerPosition")}getPeerPosition(e){Qe().error("abstract implementation getPeerPosition")}setGain(e,t){Qe().error("abstract implementation")}startVideoForPeer(e,t){Qe().error("abstract implementation")}stopVideoForPeer(e){Qe().error("abstract implementation")}startScreenShare(e,t){Qe().error("abstract implementation")}stopScreenShare(){Qe().error("abstract implementation")}changeRecordingDevice(){Qe().error("abstract implementation")}selectAudioInput(e){Qe().error("abstract implementation")}selectVideoInput(e){Qe().error("abstract implementation")}selectAudioOutput(e){Qe().error("abstract implementation")}getInboundRtpStats(){return Qe().warn("Abstract getInboundRtpStats"),Promise.resolve()}configureStateDump(e=60){return Qt(this,void 0,void 0,(function*(){return Promise.resolve()}))}getStateDumpConfiguration(){return Qt(this,void 0,void 0,(function*(){return Promise.resolve(0)}))}createStateDump(e){return Qt(this,void 0,void 0,(function*(){return Promise.resolve()}))}setTransparentMode(e){return Qt(this,void 0,void 0,(function*(){Qe().error("abstract implementation setTransparentMode")}))}setComfortNoiseLevel(e){return Qt(this,void 0,void 0,(function*(){Qe().error("abstract implementation setComfortNoiseLevel")}))}getComfortNoiseLevel(){return Qt(this,void 0,void 0,(function*(){Qe().error("abstract implementation getComfortNoiseLevel")}))}}var ti=ei,ii=i(673),ni=i.n(ii);class ri extends ti{constructor(){super(),this.engine=null,this.ownerId=null,this.peers=[],this.isMuted=!1,this.mutedPeer=[],this.speechThreshold=.05,this.ssMsid="none"}enumerateAudioDevices(e){return"input"===e?Promise.resolve(this.engine.enumerateAudioDevices()):Promise.resolve(this.engine.enumerateAudioOutputDevices())}static enumerateAudioDevices(e){return Promise.resolve([])}static enumerateVideoDevices(){return Promise.resolve(MediaEngine.enumerateVideoDevices())}init({constraints:e,processCb:t,listenOnly:i,ownerId:n,mixing:r}){return new Promise(((e,t)=>{try{this.ownerId=n,-1===r.uri.search("rtmp://")&&(r.uri=ni().join("out/",r.uri)),this.engine=new MediaEngine,r.enabled?this.engine.initMixer(r.uri):this.engine.init(),this.engine.on("sessionCreated",this.onSessionCreated.bind(this)),this.engine.on("sessionError",this.onSessionError.bind(this)),this.engine.on("streamAdded",this.onStreamAdded.bind(this)),this.engine.on("streamUpdated",this.onStreamUpdated.bind(this)),this.engine.on("streamRemoved",this.onStreamRemoved.bind(this)),this.engine.on("screenStreamAdded",this.onScreenStreamAdded.bind(this)),this.engine.on("screenStreamRemoved",this.onScreenStreamRemoved.bind(this)),e()}catch(e){t(e)}}))}release(){this.engine&&(this.engine.release(),this.engine=null)}onSessionCreated(e,t,i){console.log("--- session created",e,t),super.sessionCreatedEvent(e,{type:t,sdp:i},null,this.ssMsid,"default")}onSessionError(e,t){console.log("--- session error",e,t)}onStreamAdded(e,t){console.log("--- stream added",e,t),this.addStreamEvent(e,t)}onStreamUpdated(e,t){console.log("--- stream updated, peerId, stream"),this.updateStreamEvent(e,t)}onStreamRemoved(e,t){console.log("--- stream removed",e),this.removeStreamEvent(e)}onScreenStreamAdded(e,t){console.log("--- screen stream added",e),this.ssMsid=t.label(),this.addScreenStreamEvent(e,t)}onScreenStreamRemoved(e,t){console.log("--- screen stream removed",e),this.ssMsid="none",this.removeScreenStreamEvent()}attachMediaStream(e,t,i){return new Promise(((n,r)=>{try{this.engine.attachMediaStream(e,t,i),n()}catch(e){r(e)}}))}createPeerConnection(e,t,i){return new Promise(((t,n)=>{try{this.engine.createPeerConnection(e,i),t({peer:{},isNew:!1})}catch(e){n(e)}}))}closePeerConnection(e){return new Promise(((t,i)=>{try{this.engine.closePeerConnection(e),t()}catch(e){i(e)}}))}removePeerConnection(e){}setRemoteDescription(e,t,i,n,r){return new Promise(((r,o)=>{try{this.engine.setRemoteDescription(e,t,i,n),r()}catch(e){o(e)}}))}setPeerCandidate(e,t,i,n){return new Promise(((r,o)=>{try{this.engine.setPeerCandidate(e,t,i,n),r()}catch(e){o(e)}}))}createAnswer(e){return new Promise(((t,i)=>{try{const i=this.engine.createAnswer(e);this.engine.setLocalDescription(e,"answer",i),t()}catch(e){i(e)}}))}startVideoForPeer(e,t){return new Promise(((e,i)=>{try{console.log(t),this.engine.startVideo(),e()}catch(e){i(e)}}))}stopVideoForPeer(e){return new Promise(((e,t)=>{try{this.engine.stopVideo(),e()}catch(e){t(e)}}))}selectAudioInput(e){return new Promise(((t,i)=>{try{this.engine.selectAudioDevice(e),t()}catch(e){i(e)}}))}selectAudioOutput(e){return new Promise(((t,i)=>{try{this.engine.selectAudioOutputDevice(e),t()}catch(e){i(e)}}))}selectVideoInput(e){return new Promise(((t,i)=>{try{this.engine.selectVideoDevice(e),t()}catch(e){i(e)}}))}getLevel(e,t){try{t(parseFloat(this.engine.getLevel(e)))}catch(e){console.error(e)}}isSpeaking(e,t){this.getLevel(e,(e=>{e>this.speechThreshold?t(!0):t(!1)}))}setPeerPosition(e,t,i){return new Promise(((n,r)=>{try{let r=90-180*Math.atan2(i,t)/Math.PI;const o=Math.sqrt(Math.pow(t,2)+Math.pow(i,2));r/=90,console.log(e,t,i,o,r),NaN!==o&&NaN!==r&&this.engine.setPeerPosition(e,r,o),n()}catch(e){r(e)}}))}getPeerPosition(){return{x:0,y:0}}toggleMute(e){let t=!1;try{e==this.ownerId?(this.isMuted=!this.isMuted,t=this.isMuted,this.engine.setMute(this.isMuted)):(this.mutedPeer.find((t=>t===e))?(this.mutedPeer=this.mutedPeer.filter((t=>t!==e)),t=!1):(this.mutedPeer.push(e),t=!0),this.engine.setParticipantMute(e,t))}catch(e){console.error(e)}return t}enable3DAudio(e){return new Promise(((t,i)=>{try{this.engine.enable3DAudio(e),t()}catch(e){console.error(e),i(e)}}))}hasScreenShare(){return!1}startScreenShare(e,t){return new Promise(((e,t)=>{try{this.engine.startScreenshare(),e()}catch(e){console.error(e),t()}}))}stopScreenShare(){try{this.engine.stopScreenshare()}catch(e){console.error(e)}}}var oi=i(6850),ai=i.n(oi);i(1344);const si=it.getParser(window.navigator.userAgent);function ci(e){let t=e||!1;const i=si.getPlatform();return t&&(i&&"mobile"===i.type||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&(!si.is("chrome")||!si.is("Microsoft Edge")))&&(t=!1),t}function ui(){const e=si.getPlatform();return e&&"mobile"===e.type||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1}const di=({predefinedConstraints:e={audio:!0,video:!1},mixingEnabled:t=!1}={})=>{if(t)return{audio:!1,video:!1};const i=ui()?ai().media.mobile.constraints:ai().media.constraints;return Object.assign(Object.assign({},i),{audio:void 0===e.audio?Object.assign({},i.audio):e.audio&&Object.assign(Object.assign({},i.audio),e.audio),video:void 0===e.video?Object.assign({},i.video):e.video&&Object.assign(Object.assign({},i.video),e.video)})};var li=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};const hi=3e4,pi=(e,t,i)=>{const n=t+2*i+20;let r=93.2-(n<160?n/4:n-120)/10;return r-=2.5*e,r=Math.max(0,r),100*(1+.035*r+7e-6*r*(r-60)*(100-r))/100},mi=e=>Math.pow(10,2.069924867*Math.pow(Math.log10(e),.6250223771)),fi=(e,t,i=!0)=>{let n=0;if(e){const r=e.filter((e=>"inbound-rtp"===e.type&&"video"===e.kind)),o=t.filter((e=>"inbound-rtp"===e.type&&"video"===e.kind)),a=i?e=>"track"===e.type:e=>"track"===e.type&&"video"===e.kind,s=t.filter(a);if(r.length>0&&o.length>0&&s.length>0){parseInt(o[0].packetsLost),parseInt(o[0].packetsReceived),parseInt(r[0].packetsLost),parseInt(r[0].packetsReceived);const e=(parseInt(o[0].packetsLost),parseInt(r[0].packetsLost),parseInt(o[0].timestamp)-parseInt(r[0].timestamp));let t=8*(parseInt(o[0].bytesReceived)-parseInt(r[0].bytesReceived))/(e/1e3);const i=mi(parseInt(s[0].frameHeight)*parseInt(s[0].frameWidth));t>3e4&&(t=Math.min(t,i),n=Math.log(t/hi)/Math.log(i/hi)*4+1)}}return n},gi=(e,t,i)=>{let n=0;if(e){const r=e.filter((e=>"outbound-rtp"===e.type&&"video"===e.kind)),o=t.filter((e=>"outbound-rtp"===e.type&&"video"===e.kind));if(r.length>0&&o.length>0&&i.length>0){const e=parseInt(o[0].timestamp)-parseInt(r[0].timestamp);let t=8*(parseInt(o[0].bytesSent)-parseInt(r[0].bytesSent))/(e/1e3);const a=mi(parseInt(i[0].getSettings().height)*parseInt(i[0].getSettings().width));t>3e4&&(t=Math.min(t,a),n=Math.log(t/hi)/Math.log(a/hi)*4+1)}}return n};var vi,ki,yi=class{constructor(e,t,i=!1,n=!0,r){this.stream=t,this.processCb=r,this.isLocal=i,this.audio3D=n,this.connected=!1,this.level=0,this.context=e,this.dbrange=36,this.dblimit=0,this.x=0,this.y=.5,this.savedGain=1}connect(){this.source=this.context.createMediaStreamSource(this.stream),this.analyserNode=this.context.createAnalyser(),this.analyserNode.smoothingTimeConstants=1,this.analyserNode.fftSize=256,this.stereoPanner=this.context.createPanner(),this.stereoPanner.channelCount=1,this.stereoPanner.setOrientation(0,0,0),this.stereoPanner.setPosition(this.x,0,-this.y),nt().firefox&&nt().windows?this.stereoPanner.panningModel="equalpower":this.stereoPanner.panningModel="HRTF",this.stereoPanner.distanceModel=oi.audioSettings.distanceModel,this.stereoPanner.refDistance=oi.audioSettings.refDistance,this.stereoPanner.maxDistance=oi.audioSettings.maxDistance,this.stereoPanner.rolloffFactor=oi.audioSettings.rollOffFactor,this.gainNode=this.context.createGain(),this.gainNode.gain.value=oi.audioSettings.gain,this.data=new Uint8Array(this.analyserNode.fftSize),this.isLocal&&this.processCb?(this.scriptProcessorNode=this.context.createScriptProcessor(8192,2,2),this.source.connect(this.scriptProcessorNode),this.scriptProcessorNode.connect(this.analyserNode),this.scriptProcessorNode.onaudioprocess=this.processCb):this.source.connect(this.analyserNode),!this.isLocal&&this.audio3D&&(this.analyserNode.connect(this.stereoPanner),this.stereoPanner.connect(this.gainNode),this.gainNode.connect(this.context.destination)),this.connected=!0}disconnect(){this.stereoPanner.disconnect(),this.analyserNode.disconnect(),this.gainNode.disconnect()}update(){if(this.connected){this.analyserNode.getByteTimeDomainData(this.data);let e=this.calculateRms(this.data),t=this.toDb(e);this.level=this.db2vu(t)}else this.level=0}calculateRms(e){let t=0;return e.forEach((e=>{let i=e-127;t+=i*i})),Math.sqrt(t/e.length)}toDb(e){return 20*Math.log10(e)}db2vu(e){if(e===-1/0||e<this.dblimit)return 0;let t=e/this.dbrange,i=Math.PI/2+Math.PI/2*t,n=1-Math.sin(i);return n>1?1:n}mute(e){let t=this.savedGain;e&&0!==this.gainNode.gain.value&&(this.savedGain=this.gainNode.gain.value,t=0),this.gainNode.gain.value=t}toggleMute(){return this.gainNode.gain.value>0?(this.savedGain=this.gainNode.gain.value,this.gainNode.gain.value=0):this.gainNode.gain.value=this.savedGain,this.gainNode.gain.value<=0}setGain(e){this.gainNode.gain.value=e}setPosition(e,t){isFinite(e)&&isFinite(t)?(this.x=e,this.y=Math.max(oi.audioSettings.refDistance,Math.min(1,t)),this.stereoPanner.setPosition(this.x,0,this.y)):Qe().debug("setPosition received non finite position")}getLevel(){return this.level}setLevel(e){this.level=e}},bi=new class{constructor(){this.level="debug",Qe().setLevel("debug")}trace(...e){Qe().trace(...e)}info(...e){Qe().info(...e)}debug(...e){Qe().debug(...e)}warn(...e){Qe().warn(...e)}error(...e){Qe().error(...e)}setLevel(e){this.level=e,Qe().setLevel(e)}setConferenceId(e){}setUserContext(e){}},wi=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},_i=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Si{constructor(e,t){vi.set(this,0),ki.set(this,null),wi(this,vi,e),wi(this,ki,t)}get timestamp(){return _i(this,vi)}get data(){return _i(this,ki)}}vi=new WeakMap,ki=new WeakMap;var ji=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};const Ti=be()("vxt:rtc"),Ci=nt().getParser(window.navigator.userAgent);var Ei=class extends ti{constructor(e){super(),this.mediaManager=e,this.conferenceId=null,this.connection=null,this.peers=[],this.localMediaStream=null,this.sharingStream=null,this.sharingPeerConnection=null,this.audioTrack=null,this.speechThreshold=.2,this.constraints=null,this.processCb=null,this.listenOnly=!1,this.lastStats=[],this.recentlySeenRTT=0,this.audioTags=new class{constructor(e,t){this.audio3D=t,this.rtc=e,this.sinkId=null,this.playAudioPromise=null}playAudioTag(e){document.getElementById("audio-"+e).play()}createAudioTag(e,t){return li(this,void 0,void 0,(function*(){if(t&&t.getAudioTracks().length>0){var i=document.createElement("audio");return i.setAttribute("id","audio-"+e),i.setAttribute("class","vxt-audio"),this.sinkId&&(yield i.setSinkId(this.sinkId)),document.body.appendChild(i),vt(i,t),this.playAudioPromise=i.play(),this.playAudioPromise}return Promise.resolve(!0)}))}updateAudioTag(e,t){return li(this,void 0,void 0,(function*(){if(t&&t.getAudioTracks().length>0){var i=document.getElementById("audio-"+e);return i?(this.playAudioPromise&&(yield this.playAudioPromise),vt(i,t),i.play()):this.createAudioTag(e,t)}return Promise.resolve(!0)}))}removeAudioTag(e){var t=document.getElementById("audio-"+e);t&&t.parentNode.removeChild(t)}setAudioTagVolume(e,t,i){var n=document.getElementById("audio-"+e);if(n&&nt().chrome&&this.audio3D){let e=oi.audioSettings.chromeCutOffVolume;const r=Math.sqrt(Math.pow(t,2)+Math.pow(i,2)),o=4;e*=Math.exp(-o*r),(e<.001||!isFinite(e))&&(e=.001),n.volume=e}}isMuted(e){var t=document.getElementById("audio-"+e);return!!t&&0===t.volume}muteAudioTag(e,t){var i=document.getElementById("audio-"+e);if(i)if(t)i.volume=0;else if(this.audio3D){let t=this.rtc.getPeerPosition(e);this.setAudioTagVolume(e,t.x,t.y)}else i.volume=1}toggleMute(e){const t=this.isMuted(e);return this.muteAudioTag(e,!t),!t}setSinkId(e){return li(this,void 0,void 0,(function*(){this.sinkId=e,yield this.updateSinks()}))}updateSinks(){return li(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".vxt-audio");for(const t of e)try{yield t.setSinkId(this.sinkId)}catch(e){console.error(e)}}))}}(this,this.audio3D),this.blockedPeers=[],this.currentConstraints=null,this.bandwidth=null,this.audioTransceiver=null,this.videoTransceiver=null,this.screenTransceiver=null,this.remoteScreenStream=null,this.userMediaPromise=Promise.resolve(),this.rtpStatsCache=new Si(0,null),this.rtpStatsForTelemetryCache=new Si(0,null),this.isLeavingConference=!1}autoplayBlockedEvent(){Ti("autoplayBlockedEvent"),this.emit("autoplayBlocked")}playBlockedAudio(){return ji(this,void 0,void 0,(function*(){this.blockedPeers.forEach((e=>{this.peers.filter((t=>t.peerId===e&&!t.isMaster)).map((()=>{this.audioTags&&this.audioTags.playAudioTag(e)}))})),yield this.audioContext.resume(),this.blockedPeers=[]}))}createAudioTag(e,t){return ji(this,void 0,void 0,(function*(){try{yield this.audioTags.createAudioTag(e,t),yield this.resetAudioContext()}catch(t){0===this.blockedPeers.length&&this.autoplayBlockedEvent(),this.blockedPeers.push(e)}}))}initAudioOutputSelection(){if(!this.mediaManager.isOutputSelectorValid&&(Ci.is("chrome")||Ci.is("Microsoft Edge")||Ci.is("electron"))&&(this.mediaManager.selectAudioOutputDevice=this.selectAudioOutput.bind(this),Ci.is("windows"))){const e=this.mediaManager.audioOutputDevices.find((e=>"communications"===e.deviceId));e&&(this.selectAudioOutput(e),this.mediaManager.selectedAudioOutputDevice=e)}}addStreamEvent(e,t){Ti("addStreamEvent",e,t),this.localMediaStream&&this.localMediaStream.id===t.id&&(t.type=Xt.Camera),this.initAudioOutputSelection(),this.emit("addStream",e,t)}updateStreamEvent(e,t){Ti("updateStreamEvent",e,t);let i=this.peers.find((t=>t.peerId===e));i&&!i.closed&&(this.localMediaStream&&this.localMediaStream.id===t.id&&(t.type=Xt.Camera),this.emit("updateStream",e,t))}removeStreamEvent(e,t){Ti("removeStreamEvent",e);let i=this.peers.find((t=>t.peerId===e));i&&!i.isMaster&&this.audioTags.removeAudioTag(e),i&&!i.closed&&(this.localMediaStream&&this.localMediaStream.id===t.id&&(t.type=Xt.Camera),i.stream=null,this.emit("removeStream",e,t))}getDefaultAudioConstraints(){let e=di();return Ci.is("windows")&&this.mediaManager.audioInputDevices.find((e=>"communications"===e.deviceId))&&(e.audio.deviceId={exact:"communications"}),e.audio}updateSelectedInputAudioDevice(){return ji(this,void 0,void 0,(function*(){const e=yield this.mediaManager.getConnectedAudioInputDevices();if(!e||0===e.length)return;let t=null;if(this.localMediaStream){const e=this.localMediaStream.getAudioTracks();t=e.length>0&&e[0]}if(t){const i=t.getSettings(),n=e.find((e=>e.deviceId===i.deviceId));n&&(this.mediaManager.selectedAudioInputDevice=n)}else{let t=null;Ci.is("windows")&&(t=e.find((e=>"communications"===e.deviceId))),t||(t=e.find((e=>"default"===e.deviceId))),this.mediaManager.selectedAudioInputDevice=t||e[0]}}))}getUserMediaWithChecks(e){return ji(this,void 0,void 0,(function*(){const t=yield navigator.mediaDevices.getUserMedia(e),i=t.getAudioTracks();return i[0]&&(e=>{const t=e.getSettings();return!(!t||!("echoCancellation"in t))&&!!e.getConstraints()&&((e,t,i)=>!(t in e)||("object"!=typeof e[t]?e[t]:"exact"in e[t]?e[t].exact:"ideal"in e[t]&&e[t].ideal))(e.getConstraints(),"echoCancellation")&&!e.getSettings().echoCancellation})(i[0])&&this.emit("error",new xe({name:"EchoCancellationError",message:"Echo Cancellation is disabled."})),t}))}init({constraints:e,processCb:t,listenOnly:i,ownerId:n,options:r}){return ji(this,void 0,void 0,(function*(){if(this.constraints=Object.assign({},e),this.constraints.video=!1,this.processCb=t,this.options=r,this.listenOnly=i,this.mediaManager.selectAudioInputDevice=this.selectAudioInput.bind(this),yield this.initAudioContext(),!i&&(this.constraints.audio||this.constraints.video))try{Ci.is("windows")&&this.constraints.audio&&!this.constraints.audio.deviceId&&this.mediaManager.audioInputDevices.find((e=>"communications"===e.deviceId))&&(this.constraints.audio.deviceId={exact:"communications"}),this.localMediaStream=yield this.getUserMediaWithChecks(this.constraints),this.audioTrack=this.localMediaStream.getAudioTracks()[0]}catch(e){throw new xe(e)}yield this.updateSelectedInputAudioDevice()}))}release(){return ji(this,void 0,void 0,(function*(){this.peers.map((e=>{this.closePeerConnection(e.peerId)})),this.peers=[],this.audioTrack&&this.audioTrack.stop(),this.localMediaStream&&this.localMediaStream.getAudioTracks().forEach((e=>e.stop())),this.sharingStream&&this.stopScreenShare(),this.audioContext&&this.audioContext.close(),this.mediaManager.initSelectAudioDevice(),this.mediaManager.getComfortNoiseLevel=void 0,this.mediaManager.setComfortNoiseLevel=void 0}))}initAudioContext(){var e;return ji(this,void 0,void 0,(function*(){Ci.isBrowser("ie",!0)||(this.audioContext=new mt(null===(e=this.options)||void 0===e?void 0:e.audioContextOptions),this.audioContext.resume(),this.audioContext.onstatechange=()=>{"suspended"===this.audioContext.state&&this.emit("autoplayBlocked")})}))}resetAudioContext(){return ji(this,void 0,void 0,(function*(){this.audioContext&&"running"===this.audioContext.state&&(yield this.audioContext.close()),this.audioContext=null,yield this.initAudioContext(),this.peers.filter((e=>e.process)).forEach((e=>{var t;e.process.disconnect(),this.audioContext&&(null===(t=this.localMediaStream)||void 0===t?void 0:t.getAudioTracks().length)>0&&(e.process=new yi(this.audioContext,this.localMediaStream,!0,this.audio3D,this.processCb),e.process.connect())}))}))}isPeerConnectionStable(){const e=this.peers.filter((e=>e.connection));return e.length>0&&"stable"===e[0].connection.signalingState}ensurePeer(e){var{peerId:t,isMaster:i}=e,n=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,["peerId","isMaster"]);let r=this.peers.find((e=>e.peerId===t));return r||(r=Object.assign({peerId:t,connection:null,stream:null,process:null,isMaster:i},n),this.peers.push(r)),r}createPeerConnection(e,t,i){return ji(this,void 0,void 0,(function*(){let n=!1,r=this.ensurePeer({peerId:e,isMaster:i}),{connection:o}=r;return o&&"close"===t&&(o.close(),o=null),o||(n=!0,ai().peerConnection.config.sdpSemantics="unified-plan",o=new ht(ai().peerConnection.config,ai().peerConnection.constraints),o.candidates=[],r.connection=o,yield this.addConnectionListeners(r),yield this.addTrackListeners(e,r,{x:0,y:.2},o),o.onicecandidate=t=>{t.candidate?o.candidates.push({sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex,sdp:t.candidate.candidate}):this.iceCandidatesGatheringCompleteEvent(e,o.candidates)}),Ti("createPeerConnection",this.peers),{peer:r,isNew:n}}))}addMasterStream(e){return ji(this,void 0,void 0,(function*(){if(Ti("addMasterStream",e),this.localMediaStream){const t=!e.stream;yield this.addStream(this.localMediaStream,e.connection),e.stream=this.localMediaStream,this.audioContext&&this.localMediaStream.getAudioTracks().length>0&&(e.process=new yi(this.audioContext,this.localMediaStream,!0,this.audio3D,this.processCb),e.process.connect()),t?this.addStreamEvent(e.peerId,this.localMediaStream):this.updateStreamEvent(e.peerId,this.localMediaStream)}}))}addConnectionListeners({peerId:e,connection:t}){return ji(this,void 0,void 0,(function*(){t.oniceconnectionstatechange=t=>{this.connectionStatusEvent({peerId:e,connectionStatus:t.target.iceConnectionState,signalingState:t.target.signalingState})},t.onsignalingstatechange=t=>{this.connectionStatusEvent({peerId:e,connectionStatus:t.target.iceConnectionState,signalingState:t.target.signalingState})}}))}updateMasterStream(e,t,i){if(i){if("active"===t&&this.constraints.audio)return this.startAudioForPeer(e);if("inactive"===t)return this.stopAudioForPeer(e)}return Promise.resolve()}closePeerConnection(e){Ti("closePeerConnection",e);const t=this.peers.find((t=>t.peerId===e));return t&&this._closePeerConnectionForPeer(t),Promise.resolve()}removePeerConnection(e){var t=-1,i=[];return this.peers.filter((t=>t.peerId===e)).map((e=>{t=this.peers.indexOf(e)})),-1!==t&&(i=this.peers.splice(t,1)),i}hasScreenShare(){return null!==this.sharingStream}createAnswer(e,t="default",i,n){var r,o,a,s;return ji(this,void 0,void 0,(function*(){Ti("createAnswer",e,i);const c=this.peers.find((t=>t.peerId===e)),u=void 0!==n?n:{enabled:!1};if(!c)throw Ve(e);let d=this.sharingStream?this.sharingStream.id:"none";try{const n=yield c.connection.createAnswer();(null===(r=this.options)||void 0===r?void 0:r.preferSendMono)&&(null===(o=this.options)||void 0===o?void 0:o.preferRecvMono)||(n.sdp=((e="",t=!1,i=!1)=>t||i?e.split("\n").map((e=>(e.includes("fmtp:111 minptime=10")&&(t&&!e.includes("sprop-stereo=1")&&(e=e.replace("fmtp:111 minptime=10","fmtp:111 minptime=10;sprop-stereo=1")),i&&!e.includes(";stereo=1")&&(e=e.replace("fmtp:111 minptime=10","fmtp:111 minptime=10;stereo=1"))),e))).join("\n"):e)(n.sdp,!(null===(a=this.options)||void 0===a?void 0:a.preferSendMono),!(null===(s=this.options)||void 0===s?void 0:s.preferRecvMono))),Ti("Answer",n.sdp),yield c.connection.setLocalDescription(n),this.sessionCreatedEvent(e,c.connection.localDescription,null,d,t,i,u)}catch(e){throw bi.error("webrtc","VoxeetRTCNative.createAnswer",e),((e,t)=>new Ee("CreateAnswerError",e.message,t,e))(e,c.peerId)}}))}createOffer(e){bi.trace("createOffer, peerId");var t=this.peers.find((t=>t.peerId===e));return t?t.connection.createOffer().then((e=>t.connection.setLocalDescription(e))).then((()=>{Ti("Offer",t.connection.localDescription)})).catch((e=>{throw e})):Promise.reject(new Ve(e))}setRemoteDescription(e,t,i,n,r){return ji(this,void 0,void 0,(function*(){Ti("setRemoteDescription"),Ti("Offer",n),this.bandwidth=(e=>{const t=nt().getParser(window.navigator.userAgent),i=t.is("firefox")?"TIAS":"AS",n=e.split("\n").map((e=>e.trim())).find((e=>0===e.indexOf(`b=${i}:`)));if(!n)return;const r=new RegExp(":(.*)");return t.is("firefox")?parseInt(n.match(r)[1])/1e3:parseInt(n.match(r)[1])})(n),this.emit("onBandwidthRestrictionChanged",this.bandwidth),yield Promise.all(this.peers.filter((t=>t.peerId===e)).map((t=>ji(this,void 0,void 0,(function*(){try{yield t.connection.setRemoteDescription(new pt({type:i,sdp:n}))}catch(i){throw bi.error("webrtc","VoxeetRTC.setRemoteDescription error: ",e,i),((e,t)=>new Ee("RemoteDescriptionError",e.message,t,e))(i,t.peerId)}}))))),Ci.isBrowser("safari",!0)&&(yield Promise.all(this.peers.filter((t=>t.peerId===e)).map((e=>ji(this,void 0,void 0,(function*(){if(this.remoteScreenStream){let t=n.split("\n").map((e=>e.trim())),i="";t.forEach((function(t){0===t.indexOf("a=mid:")&&(i=t),0===t.indexOf("a=inactive")&&0===i.indexOf("a=mid:screenshare")&&(this.removeScreenStreamEvent(e.peerId,this.remoteScreenStream),this.remoteScreenStream=null)}),this)}}))))))}))}setPeerCandidate(e,t,i,n){return ji(this,void 0,void 0,(function*(){yield Promise.all(this.peers.filter((t=>t.peerId===e)).map((e=>ji(this,void 0,void 0,(function*(){yield e.connection.addIceCandidate(new lt({candidate:n,sdpMLineIndex:i,sdpMid:t}))})))))}))}setPeerPosition(e,t,i){}mutePeer(e,t){this.peers.filter((t=>t.peerId===e)).map((i=>{i.isMaster?this.audioTrack&&(this.audioTrack.enabled=!t):(i.process&&i.process.mute(t),this.audioTags.muteAudioTag(e,t))}))}toggleMute(e){var t=!1;return this.peers.filter((t=>t.peerId===e)).map((i=>{if(i.isMaster)t=this.toggleOwnMute();else{i.process&&(t=i.process.toggleMute());const n=this.audioTags.toggleMute(e);this.audio3D||(t=n)}})),t}isOwnMuted(){return!this.audioTrack||!this.audioTrack.enabled}toggleOwnMute(){return this.audioTrack.enabled=!this.audioTrack.enabled,!this.audioTrack.enabled}setGain(e,t){this.peers.filter((t=>t.peerId===e)).map((e=>{e.process&&e.process.setGain(t)}))}getPeerPosition(e){var t=this.peers.find((t=>t.peerId===e));return t&&t.process&&this.audio3D?{x:t.process.x,y:t.process.y}:{x:0,y:.5}}getLevel(e,t){var i=this.peers.find((t=>t.peerId===e));return i?this._getProcessLevel(i).then((e=>{t(e)})):t(0)}isSpeaking(e,t){this.getLevel(e,(e=>{e>this.speechThreshold?t(!0):t(!1)}))}callWithoutConcurrency(e,...t){return ji(this,void 0,void 0,(function*(){let i=null;if(this.userMediaPromise=this.userMediaPromise.then((()=>e.call(this,...t))).catch((e=>{i=e})),yield this.userMediaPromise,i)throw i}))}stopAudioForPeer(e){return ji(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.stopAudioForPeerInternal,e)}))}startAudioForPeer(e){return ji(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.startAudioForPeerInternal,e)}))}stopVideoForPeer(e){return ji(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.stopVideoForPeerInternal,e)}))}startVideoForPeer(e,t){return ji(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.startVideoForPeerInternal,e,t)}))}selectAudioInput(e){return ji(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.selectAudioInputInternal,e)}))}selectAudioOutput(e){return ji(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.selectAudioOutputInternal,e)}))}stopVideoForPeerInternal(e){return ji(this,void 0,void 0,(function*(){for(const i of this.peers.filter((t=>t.peerId===e)))if(i.stream&&i.isMaster){if(!this.localMediaStream||0===this.localMediaStream.getVideoTracks().length)return;var t=this.localMediaStream.getVideoTracks()[0];this.localMediaStream.removeTrack(t),yield this.removeTrack(t,i.connection,this.localMediaStream),this.localMediaStream.getTracks().length?this.updateStreamEvent(e,this.localMediaStream):(this.removeStreamEvent(e,this.localMediaStream),this.localMediaStream=null)}}))}startVideoForPeerInternal(e,t){return ji(this,void 0,void 0,(function*(){for(const i of this.peers.filter((t=>t.peerId===e)))if(i.isMaster){if(this.localMediaStream&&this.localMediaStream.getVideoTracks().length>0)return;try{this.localMediaStream?(this.localMediaStream.addTrack(t),yield this.addTrack(t,i.connection,this.localMediaStream,"video"),this.updateStreamEvent(e,this.localMediaStream)):(this.localMediaStream=new MediaStream([t]),this.localMediaStream.type=Xt.Camera,i.stream=this.localMediaStream,yield this.addStream(this.localMediaStream,i.connection),this.addStreamEvent(e,this.localMediaStream))}catch(e){throw new xe(e)}}}))}stopAudioForPeerInternal(e){return ji(this,void 0,void 0,(function*(){for(const t of this.peers.filter((t=>t.peerId===e)))if(t.stream&&t.isMaster){if(!this.localMediaStream||0===this.localMediaStream.getAudioTracks().length)throw new Me("Already stopped");let i=this.audioTrack;i.stop(),i.enabled=!1,yield this.removeTrack(i,t.connection,this.localMediaStream),this.localMediaStream.removeTrack(i),this.audioContext&&t.process&&t.process.disconnect(),this.localMediaStream.getTracks().length?this.updateStreamEvent(e,this.localMediaStream):(this.removeStreamEvent(e,this.localMediaStream),this.localMediaStream=null)}}))}startAudioForPeerInternal(e){return ji(this,void 0,void 0,(function*(){for(const t of this.peers.filter((t=>t.peerId===e)))if(t.isMaster){if(this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0)throw new Me("Already started");let i=JSON.parse(JSON.stringify(this.constraints));i.video=!1,i.audio&&"object"==typeof i.audio||(i.audio=this.getDefaultAudioConstraints());try{const n=yield this.getUserMediaWithChecks(i);this.audioTrack=n.getAudioTracks()[0],this.localMediaStream?(this.localMediaStream.addTrack(this.audioTrack),yield this.addTrack(this.audioTrack,t.connection,this.localMediaStream,"audio"),this.updateStreamEvent(e,this.localMediaStream)):(this.localMediaStream=n,this.localMediaStream.type=Xt.Camera,t.stream=n,yield this.addStream(this.localMediaStream,t.connection),this.addStreamEvent(e,this.localMediaStream)),yield this.updateSelectedInputAudioDevice(),this.audioContext&&(t.process=new yi(this.audioContext,this.localMediaStream,!0,this.audio3D),t.process.connect())}catch(e){throw new xe(e)}}}))}selectAudioInputInternal(e){return ji(this,void 0,void 0,(function*(){for(const t of this.peers.filter((e=>!0===e.isMaster))){if("object"!=typeof this.constraints.audio&&(this.constraints.audio=this.getDefaultAudioConstraints()),this.constraints.audio.deviceId={exact:e.deviceId},!this.localMediaStream||0===this.localMediaStream.getAudioTracks().length)return;const i=Object.assign(Object.assign({},this.constraints),{video:!1}),n=this.audioTrack.enabled;this.audioTrack.enabled=!1,this.audioTrack.stop();try{let r=yield this.getUserMediaWithChecks(i);this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]);const o=r.getAudioTracks()[0],a=o.getSettings();if(a.deviceId!==e.deviceId||a.groupId&&a.groupId!==e.groupId){const t=(yield this.mediaManager.getConnectedAudioInputDevices()).find((t=>e.groupId===t.groupId&&t.deviceId!==a.deviceId));t&&(o.stop(),i.audio.deviceId=t.deviceId,r=yield this.getUserMediaWithChecks(i))}if(Ci.is("safari")){const t=o.clone();if(this.audioTrack=t,this.audioTrack.enabled=n,!r.active||"live"!==this.audioTrack.readyState)throw new Me("Failed to start input audio track");t.onended=()=>ji(this,void 0,void 0,(function*(){Ti("Failed to start device, restarting...",e),yield this.selectAudioInput(e)})),setTimeout((()=>{t.onended=null}),45e3),o.stop()}else this.audioTrack=o;this.localMediaStream.addTrack(this.audioTrack),yield this.replaceTrack(this.audioTrack,t.connection,this.localMediaStream),this.audioContext&&t.process&&(t.process.disconnect(),t.process=new yi(this.audioContext,this.localMediaStream,!0),this.audio3D,t.process.connect()),this.updateStreamEvent(t.peerId,t.stream)}catch(e){throw e}}}))}selectAudioOutputInternal(e){return ji(this,void 0,void 0,(function*(){const t=e.deviceId;if(t&&this.audioTags)for(const e of this.peers.filter((e=>!0===e.isMaster)))return yield this.audioTags.setSinkId(t),yield this.resetAudioContext(),Promise.resolve();return Promise.reject(new Error("Unavailable"))}))}startScreenShare(e,t){return ji(this,void 0,void 0,(function*(){return this.sharingStream?Promise.reject(new Error("Unable to start more than one screen share at a time.")):(this.sharingStream=yield navigator.mediaDevices.getDisplayMedia({video:!0,sourceId:e}),this.sharingStream.type=Xt.ScreenShare,Promise.resolve(this.sharingStream))}))}releaseScreenShare(){this.sharingStream&&this.sharingStream.getVideoTracks().length>0&&(this.sharingStream.getVideoTracks()[0].onended=null,this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream=null)}addMasterScreenStream(e){return ji(this,void 0,void 0,(function*(){const t=this.peers.find((e=>e.isMaster));t&&e&&(yield this.addScreenStream(e,t.connection),this.sharingStream.getVideoTracks()[0].onended=e=>{this.endedScreenStreamEvent()},this.addScreenStreamEvent(t.peerId,this.sharingStream))}))}changeScreenShare(e){return ji(this,void 0,void 0,(function*(){if(this.sharingStream){this.sharingStream.getVideoTracks()[0].onended=null,yield Promise.all(this.peers.filter((e=>e.isMaster)).map((e=>ji(this,void 0,void 0,(function*(){yield this.removeScreenStream(this.sharingStream,e.connection)}))))),this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream=null;try{const t=yield navigator.mediaDevices.getDisplayMedia({video:!0,sourceId:e});return this.sharingStream!==t&&(this.sharingStream=t,yield Promise.all(this.peers.filter((e=>e.isMaster)).map((e=>ji(this,void 0,void 0,(function*(){this.sharingStream&&(yield this.addScreenStream(this.sharingStream,e.connection),this.sharingStream.getVideoTracks()[0].onended=e=>{this.endedScreenStreamEvent()},this.updateScreenStreamEvent(e.peerId,this.sharingStream))})))))),this.sharingStream}catch(e){throw new xe(e)}}}))}stopScreenShare(){return ji(this,void 0,void 0,(function*(){this.sharingStream&&(this.sharingStream.getVideoTracks()[0].onended=null,yield Promise.all(this.peers.filter((e=>e.isMaster)).map((e=>ji(this,void 0,void 0,(function*(){yield this.removeScreenStream(this.sharingStream,e.connection)}))))),yield Promise.all(this.peers.filter((e=>e.isMaster)).map((e=>ji(this,void 0,void 0,(function*(){this.removeScreenStreamEvent(e.peerId,this.sharingStream),this.sharingStream.getVideoTracks()[0].stop(),this.sharingStream=null}))))))}))}changeRecordingDevice(){getUserMedia(constraints,(e=>{}))}_getRtcForTrack(e,t){return Ci.is("chrome")?e.getStats().then((e=>[...e.values()].filter((e=>"track"===e.type&&e.trackIdentifier===t.id)))).then((e=>e[0].audioLevel)):e.getStats(t).then((e=>e.ssrc&&e.ssrc.audioInputLevel?e.ssrc.audioInputLevel:e.ssrc.audioOutputLevel))}_getRtcLevel(e,t){return e.stream?this._getRtcForTrack(e.connection,e.stream.getAudioTracks()[0]).then((e=>(20*Math.log10(e)+70)/80)).catch((e=>0)):Promise.resolve(0)}_getProcessLevel(e){var t=0;return e.process&&(e.process.update(),t=e.process.getLevel()),Promise.resolve(t)}_getStats(e,t){return e.getStats(t)}getInboundRtpStats(){return new Promise(((e,t)=>{let i={bytesReceived:0,packetsReceived:0};this.peers.filter((e=>!e.isMaster)).map((t=>{t.connection.getStats().then((t=>{t.forEach((e=>{"inbound-rtp"===e.type&&(i.bytesReceived+=e.bytesReceived,i.packetsReceived+=e.packetsReceived)})),e(i)}))}))}))}getRTCPeerConnections(){return this.peers.filter((e=>e.connection)).map((e=>e.connection))}getRtpStats(){return ji(this,void 0,void 0,(function*(){const e=(new Date).getTime();return this.rtpStatsCache.timestamp+500<e&&(this.rtpStatsCache=new Si(e,yield this.getLocalRtpStats())),this.rtpStatsCache.data}))}getLocalRtpStats(){return ji(this,void 0,void 0,(function*(){const e=this.peers.find((e=>e.isMaster)),t=yield this.getRtpStatsForTelemetry(),i=null==t?void 0:t.metrics;if(e){const t=i.get(e.peerId).filter((e=>"candidate-pair"===e.type));for(const[n,r]of i){let o=0,a=0;if(n===e.peerId){const e=r.filter((e=>("remote-inbound-rtp"===e.type||"inbound-rtp"===e.type)&&"audio"===e.kind)),i=r.filter((e=>"outbound-rtp"===e.type&&"audio"===e.kind));let s=[];if(this.lastStats[n]&&(s=this.lastStats[n].filter((e=>"outbound-rtp"===e.type&&"audio"===e.kind))),e.length>0&&i.length>0&&s.length>0&&i[0].bytesSent>s[0].bytesSent){let n=t[0].currentRoundTripTime?t[0].currentRoundTripTime:e[0].roundTripTime;n=n||this.recentlySeenRTT,this.recentlySeenRTT=n;const r=parseFloat(e[0].packetsLost)/parseFloat(i[0].packetsSent);o=pi(parseFloat(100*r),1e3*parseFloat(n),1e3*parseFloat(e[0].jitter))}if(this.localMediaStream){let e=this.localMediaStream.getVideoTracks();a=gi(this.lastStats[n],r,e)}}else{const e=r.filter((e=>"inbound-rtp"===e.type&&"audio"===e.kind));if(e.length>0&&t.length>0){const i=parseFloat(e[0].packetsLost)/parseFloat(e[0].packetsReceived);o=pi(parseFloat(100*i),1e3*parseFloat(t[0].currentRoundTripTime),1e3*parseFloat(e[0].jitter))}const i=this.peers.findIndex((e=>e.peerId===at))>-1;a=fi(this.lastStats[n],r,i)}this.lastStats[n]=[...r],i.set(n,[...r,{id:"Scores",audio:o,video:a}])}}return i}))}getRemoteScreenStreamInfo(){let e=null,t=null,i=null;return this.remoteScreenStream&&(e=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(this.remoteScreenStream.id)[3],t=this.remoteScreenStream.id,i=this.remoteScreenStream.getVideoTracks().map((e=>e.id))),[e,t,i]}getRemoteStats(e,t){let i=new Map,n=e.getReceivers(),r=new Map(n.map((e=>[e.track.id,e.getSynchronizationSources().map((e=>e.source))])));const[o,a,s]=this.getRemoteScreenStreamInfo();return this.peers.forEach((({stream:e,peerId:n,isMaster:c})=>{if(!e)return;if(c)return;const u=((e,t)=>{const i=[...e.getAudioTracks(),...e.getVideoTracks()];return t&&i.push(...t.getVideoTracks()),i})(e,o===n?this.remoteScreenStream:null);let d=u.flatMap((i=>{if(!((e,t,i)=>e.find((e=>"inbound-rtp"===e.type&&t.get(i).includes(e.ssrc))))(t,r,i.id))return[];const n=((e,t)=>{let i=null;return e.some((e=>"track"===e.type))?(i=e.find((e=>"track"===e.type&&e.trackIdentifier===t.id)),i.kind=t.kind):i={type:"track",id:t.id,kind:t.kind,trackIdentifier:t.id},i})(t,i),o=((e,t,i)=>{const n=e.find((e=>"inbound-rtp"===e.type&&t.get(i.trackIdentifier).includes(e.ssrc)));return n.trackId=i.id,n})(t,r,n),c=((e,t,i,n,r)=>e.some((e=>"stream"===e.type))?e.find((e=>"stream"===e.type&&e.trackIds.includes(i.id))):n&&n.includes(i.trackIdentifier)?{type:"stream",id:r,streamIdentifier:r,trackIds:[i.id]}:{type:"stream",id:t.id,streamIdentifier:t.id,trackIds:[i.id]})(t,e,n,s,a);return[o,n,c]}));i.set(n,d)})),i}getLocalScreenShareInfo(){return ji(this,void 0,void 0,(function*(){if(null==this.screenTransceiver||null==this.screenTransceiver.sender||null==this.screenTransceiver.sender.track)return[null,null];let e=[...(yield this.screenTransceiver.sender.getStats()).values()].filter((e=>"outbound-rtp"===e.type));return e[0]?[e[0].ssrc,this.screenTransceiver.sender.track.id]:[null,null]}))}addContentTypeToScreenShareOutboundRtpStats(e,t,i){t&&i&&e.filter((e=>"outbound-rtp"===e.type)).forEach((e=>{e.ssrc===t&&(e.hasOwnProperty("contentType")||(e.contentType="screenshare"),e.hasOwnProperty("trackId")||(e.trackId=i))}))}getRtpStatsForTelemetry(){return ji(this,void 0,void 0,(function*(){const e=(new Date).getTime();return this.rtpStatsForTelemetryCache.timestamp+500<e&&(this.rtpStatsForTelemetryCache=new Si(e,yield this.getLocalRtpStatsForTelemetry())),Object.assign({},this.rtpStatsForTelemetryCache.data)}))}getLocalRtpStatsForTelemetry(){return ji(this,void 0,void 0,(function*(){const e=this.peers.find((e=>e.isMaster)),t={metrics:new Map};if(e){let i=yield e.connection.getStats(null);i=[...i.values()];const[n,r]=yield this.getLocalScreenShareInfo(),o=[];i.filter((e=>"media-source"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type&&e.localId||"candidate-pair"===e.type||"inbound-rtp"===e.type||"track"===e.type&&!1===e.remoteSource)).forEach((e=>{o.push(e)})),o.forEach((e=>{!e.hasOwnProperty("kind")&&e.hasOwnProperty("mediaType")&&(e.kind=e.mediaType)})),this.addContentTypeToScreenShareOutboundRtpStats(o,n,r),t.metrics.set(e.peerId,o),t.metrics=new Map([...t.metrics,...this.getRemoteStats(e.connection,i)])}return t}))}_closePeerConnectionForPeer(e){if(e.process&&e.process.disconnect(),e&&e.stream&&(this.removeStreamEvent(e.peerId,e.stream),e.stream=null),e.connection&&"closed"!==e.connection.signalingState){if(this.screenTransceiver&&"inactive"!==this.screenTransceiver.currentDirection){const t=new MediaStream;t.type=Xt.ScreenShare,this.removeScreenStreamEvent(e.peerId,t),this.screenTransceiver.sender.track&&this.screenTransceiver.sender.track.stop()}e.connection.close()}e&&(e.close=!0)}onRemoveTrack(e,t){if(Ti("stream onRemoveTrack",t),-1!==t.currentTarget.id.search("screen_"))this.removeScreenStream(e,t.target);else{if(!t.target.getTracks().length)return void this.removeStreamEvent(e,t.target);this.updateStreamEvent(e,t.target)}}onScreenRemoveTrack(e,t){this.remoteScreenStream=null,Ti("stream onScreenRemoveTrack",t),t.target.type=Xt.ScreenShare,this.removeScreenStreamEvent(e,t.target)}addStream(e,t,i=$t.Camera){return ji(this,void 0,void 0,(function*(){let n,r;if(Ti("addStream",t.getTransceivers(),t.getSenders()),i==$t.Camera?(this.audioTransceiver=t.getTransceivers().find((e=>"audio"===e.mid)),this.videoTransceiver=t.getTransceivers().find((e=>"video"===e.mid)),n=this.audioTransceiver,r=this.videoTransceiver):(n=t.getTransceivers().find((e=>e.mid===`audio${i}`)),r=t.getTransceivers().find((e=>e.mid===`video${i}`))),n&&e.getAudioTracks().length>0&&!this.wasm&&this.addTrack(e.getAudioTracks()[0],t,null),r&&(e.getVideoTracks().length>0&&this.addTrack(e.getVideoTracks()[0],t,null),this.options&&this.options.simulcast))try{const e=r.sender.getParameters();e.encodings[0]&&(e.encodings[0].scaleResolutionDownBy=4,e.encodings[0].maxBitrate=2e5,e.encodings[0].maxFramerate=20),e.encodings[1]&&(e.encodings[1].scaleResolutionDownBy=2,e.encodings[1].maxBitrate=7e5,e.encodings[1].maxFramerate=25),e.encodings[2]&&(e.encodings[2].scaleResolutionDownBy=1,e.encodings[2].maxBitrate=24e5,e.encodings[2].maxFramerate=25),yield r.sender.setParameters(e)}catch(e){console.error("Simulcast can't be activated"),Ti("simulcast error",e)}}))}setDirection(e,t){e.setDirection?e.setDirection(t):e.direction=t}addScreenStream(e,t){return ji(this,void 0,void 0,(function*(){this.screenTransceiver=t.getTransceivers().find((e=>"screenshare"===e.mid)),Ti("AddScreenStream",this.screenTransceiver,e),this.screenTransceiver&&(this.setDirection(this.screenTransceiver,"sendonly"),yield this.screenTransceiver.sender.replaceTrack(e.getVideoTracks()[0]))}))}removeScreenStream(e,t){return ji(this,void 0,void 0,(function*(){this.screenTransceiver&&(this.setDirection(this.screenTransceiver,"recvonly"),yield this.screenTransceiver.sender.replaceTrack(null))}))}addTrack(e,t,i){return ji(this,void 0,void 0,(function*(){yield Promise.all(t.getTransceivers().map((t=>ji(this,void 0,void 0,(function*(){t.mid===e.kind&&(this.setDirection(t,"audio"===t.mid?"sendrecv":"sendonly"),yield t.sender.replaceTrack(e))})))))}))}removeTrack(e,t,i){return ji(this,void 0,void 0,(function*(){yield Promise.all(t.getTransceivers().map((t=>ji(this,void 0,void 0,(function*(){t.mid===e.kind&&(this.setDirection(t,"audio"===t.mid?"recvonly":"inactive"),yield t.sender.replaceTrack(null))})))))}))}replaceTrack(e,t,i){return ji(this,void 0,void 0,(function*(){yield Promise.all(t.getTransceivers().map((t=>ji(this,void 0,void 0,(function*(){t.mid===e.kind&&(yield t.sender.replaceTrack(e))})))))}))}},xi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};nt().getParser(window.navigator.userAgent);const Mi=be()("vxt:rtc:uplan");class Pi extends Ei{constructor(e){super(e),this.mediaManager.getComfortNoiseLevel=()=>Promise.reject(new Error("not supported")),this.mediaManager.setComfortNoiseLevel=e=>Promise.reject(new Error("not supported"))}onAddTrack(e,t,i){if(Mi("stream onAddTrack",i),i.track&&"audio"===i.track.kind){const n=this.getPeerPosition(e);this.audioContext&&(t.process&&t.process.disconnect(),t.process=new yi(this.audioContext,i.target,!1,this.audio3D),t.process.connect()),this.setPeerPosition(e,n.x,n.y)}this.updateStreamEvent(e,i.target)}addStreamEvent(e,t){super.addStreamEvent(e,t),this.peers.findIndex((e=>e.peerId===at))>-1?this.peers.filter((t=>t.peerId===e&&!t.isMaster&&t.peerId===at)).forEach((()=>xi(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.createAudioTag,e,t)})))):this.peers.filter((t=>t.peerId===e&&!t.isMaster)).forEach((()=>xi(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(this.createAudioTag,e,t)}))))}updateStreamEvent(e,t){super.updateStreamEvent(e,t),this.peers.findIndex((e=>e.peerId===at))>-1?this.peers.filter((t=>t.peerId===e&&!t.isMaster&&t.peerId===at)).forEach((()=>xi(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(((e,t)=>xi(this,void 0,void 0,(function*(){try{yield this.audioTags.updateAudioTag(e,t)}catch(t){this.autoplayBlockedEvent(e)}}))),e,t)})))):this.peers.filter((t=>t.peerId===e&&!t.isMaster)).forEach((()=>xi(this,void 0,void 0,(function*(){yield this.callWithoutConcurrency(((e,t)=>xi(this,void 0,void 0,(function*(){try{yield this.audioTags.updateAudioTag(e,t)}catch(t){this.autoplayBlockedEvent(e)}}))),e,t)}))))}addTrackListeners(e,t,i,n){return xi(this,void 0,void 0,(function*(){n.ontrack=e=>{let t=e.streams[0];if(t){let i=this.checkStream(t);const n=this.ensurePeer({peerId:i,isMaster:!1});n.closed=!1,-1===e.streams[0].id.search("screen_")?(e.streams[0].getAudioTracks().length>0&&(this.audioContext&&(n.process=new yi(this.audioContext,e.streams[0],!1,this.audio3D),n.process.connect()),e.streams[0].getAudioTracks()[0].enabled=!0),e.streams[0].onremovetrack=e=>this.onRemoveTrack(i,e),n.stream?this.updateStreamEvent(i,e.streams[0]):this.addStreamEvent(i,e.streams[0]),n.stream=e.streams[0]):(e.streams[0].onremovetrack=e=>this.onScreenRemoveTrack(i,e),this.remoteScreenStream=e.streams[0],this.remoteScreenStream.type=Xt.ScreenShare,setTimeout((()=>{n.sharedScreen&&!0===n.sharedScreen?this.updateScreenStreamEvent(i,e.streams[0]):(this.addScreenStreamEvent(i,e.streams[0]),n.sharedScreen=!0)}),1))}},n.onremovestream=e=>{if(Mi("onremovestream",e),-1!==e.stream.id.search("screen_")){const t=e.stream;if(!t)return;let i=this.checkStream(t),n=this.peers.find((e=>e.peerId===i));n&&n.hasOwnProperty("sharedScreen")&&delete n.sharedScreen}}}))}}nt().getParser(window.navigator.userAgent);var Ii=class{static create(e){return ct?new ri:new Pi(e)}static sdpSemantics(){return"unified-plan"}static sdpVersion(){return"SDP_V6"}static createDvwcOptions(e,t){const i=nt().getParser(window.navigator.userAgent);return"desktop"===i.getPlatformType(!0)&&(i.isBrowser("chrome",!0)||i.isBrowser("microsoft edge",!0))&&e&&t&&t.enabled?"boolean"==typeof e?t:Object.assign(t,e):null}},Ri=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};be()("vxt:rtc:electron");class Di{constructor(e){this.audioContext=e,this.oscillator=null,this.fakeAudioSendStream=null}release(){this.stopFakeAudioSendStreamTrack()}addMasterStream(e,t,i){return Ri(this,void 0,void 0,(function*(){t||(yield this.addFakeAudioSendStreamTrack(e.connection,t,i))}))}addStream(e,t,i){return Ri(this,void 0,void 0,(function*(){e.getAudioTracks().length||(yield this.addFakeAudioSendStreamTrack(t,e,i))}))}addTrack(e,t,i,n){return Ri(this,void 0,void 0,(function*(){yield this.removeFakeAudioSendStreamTrack(e,t,i,n)}))}removeTrack(e,t,i){return Ri(this,void 0,void 0,(function*(){yield this.addFakeAudioSendStreamTrack(e,t,i)}))}addFakeAudioSendStreamTrack(e,t,i){return Ri(this,void 0,void 0,(function*(){e.dvc().setListenerMode(!0),yield i(this.startFakeAudioSendStreamTrack(),e,t)}))}removeFakeAudioSendStreamTrack(e,t,i,n){return Ri(this,void 0,void 0,(function*(){yield n(e,t,i),this.stopFakeAudioSendStreamTrack(),t.dvc().setListenerMode(!1),e.enabled=!1,e.enabled=!0}))}startFakeAudioSendStreamTrack(){return this.fakeAudioSendStream||(this.oscillator=this.audioContext.createOscillator(),this.fakeAudioSendStream=this.audioContext.createMediaStreamDestination(),this.oscillator.connect(this.fakeAudioSendStream),this.oscillator.start()),this.fakeAudioSendStream.stream.getAudioTracks()[0]}stopFakeAudioSendStreamTrack(){this.fakeAudioSendStream&&(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null,this.fakeAudioSendStream=null)}}class Ai extends Pi{constructor(e){super(e),this.engine=null,this.dvcConference=null,this.dvc=null,this.dvc2FakeAudioTrackHelper=null}db2vu(e){if(e===-1/0||e<-100)return 0;if(e>=0)return 1;let t=e/100,i=Math.PI/2+Math.PI/2*t,n=1-Math.cos(i);return n>1?1:n}addPeer({peerId:e,description:t,candidates:i,isMaster:n,state:r="default"}){const o=Object.create(null,{addPeer:{get:()=>super.addPeer}});return Ri(this,void 0,void 0,(function*(){yield o.addPeer.call(this,{peerId:e,description:t,candidates:i,isMaster:n,state:r});const a=this.peers.find((t=>t.peerId===e));a&&a.isMaster&&(this.dvcConference=a.connection.dvc(),this.dvcConference.setConferenceDisconnectedErrorCallback(this.conferenceDisconnectedErrorCallback.bind(this)),this.dvc=new DolbyVoice,this.dvc.setFatalErrorCallback(this.fatalErrorCallback.bind(this)),this.mediaManager.getComfortNoiseLevel=this.getComfortNoiseLevel.bind(this),this.mediaManager.setComfortNoiseLevel=this.setComfortNoiseLevel.bind(this))}))}configureStateDump(e=60){return Ri(this,void 0,void 0,(function*(){if(!this.dvc)throw Ge();return Ai.throwIfNotSupported(this.dvc,"setAudioLoggingLength"),this.dvc.setAudioLoggingLength(e)}))}getStateDumpConfiguration(){return Ri(this,void 0,void 0,(function*(){if(!this.dvc)throw Ge();return Ai.throwIfNotSupported(this.dvc,"getAudioLoggingLength"),this.dvc.getAudioLoggingLength()}))}createStateDump(e){return Ri(this,void 0,void 0,(function*(){if(!this.dvcConference)throw Ge();Ai.throwIfNotSupported(this.dvcConference,"createStateDump");const t=yield this.createStateDumpBuffer(e);return{type:"zip",content:new Blob([t])}}))}createStateDumpBuffer(e){return Ri(this,void 0,void 0,(function*(){if(!e)return this.dvcConference.createStateDump();const t=yield this.getStateDumpConfiguration();0!=t&&(yield this.configureStateDump(0));const i=yield this.dvcConference.createStateDump();return 0!=t&&(yield this.configureStateDump(t)),i}))}getLevel(e,t){const i=this.peers.find((t=>t.peerId===e));i&&i.isMaster?t(0):i&&!i.isMaster?this.dvcConference.getTalkingLevels().then((i=>{const n=i.find((t=>t.clientId.split("@")[0]===e));t(n.talkingLevel)})).catch((e=>t(0))):t(0)}setRemoteDescription(e,t,i,n,r){const o=Object.create(null,{setRemoteDescription:{get:()=>super.setRemoteDescription}});return Ri(this,void 0,void 0,(function*(){yield o.setRemoteDescription.call(this,e,t,i,n,r),((e,t,i)=>{const n=(e=>e.split("m=").slice(1).map((e=>"m="+e)))(e),r=n.find((e=>((e,t)=>{const i=(e=>{const t=/^a=mid:(.*)$/m.exec(e);return!t||t.length<2?null:t[1]})(e);return!!i&&"audio"===i})(e)));return!!r&&RegExp("^a=rtpmap:.*DVC-2.*$","m").test(r)})(n)&&!this.dvc2FakeAudioTrackHelper&&(this.dvc2FakeAudioTrackHelper=new Di(this.audioContext))}))}addMasterStream(e){const t=Object.create(null,{addMasterStream:{get:()=>super.addMasterStream},addTrack:{get:()=>super.addTrack}});return Ri(this,void 0,void 0,(function*(){if(yield t.addMasterStream.call(this,e),this.dvc2FakeAudioTrackHelper)return this.dvc2FakeAudioTrackHelper.addMasterStream(e,this.localMediaStream,((e,i,n)=>Ri(this,void 0,void 0,(function*(){return t.addTrack.call(this,e,i,n)}))))}))}addStream(e,t){const i=Object.create(null,{addStream:{get:()=>super.addStream},addTrack:{get:()=>super.addTrack}});return Ri(this,void 0,void 0,(function*(){if(yield i.addStream.call(this,e,t),this.dvc2FakeAudioTrackHelper)return this.dvc2FakeAudioTrackHelper.addStream(e,t,((e,t,n)=>Ri(this,void 0,void 0,(function*(){return i.addTrack.call(this,e,t,n)}))))}))}addTrack(e,t,i){const n=Object.create(null,{addTrack:{get:()=>super.addTrack}});return Ri(this,void 0,void 0,(function*(){if(this.dvc2FakeAudioTrackHelper&&"audio"===e.kind)return this.dvc2FakeAudioTrackHelper.addTrack(e,t,i,((e,t,i)=>Ri(this,void 0,void 0,(function*(){return n.addTrack.call(this,e,t,i)}))));yield n.addTrack.call(this,e,t,i)}))}removeTrack(e,t,i){const n=Object.create(null,{replaceTrack:{get:()=>super.replaceTrack},removeTrack:{get:()=>super.removeTrack}});return Ri(this,void 0,void 0,(function*(){if(this.dvc2FakeAudioTrackHelper&&"audio"===e.kind)return this.dvc2FakeAudioTrackHelper.removeTrack(t,i,((e,t,i)=>Ri(this,void 0,void 0,(function*(){return n.replaceTrack.call(this,e,t,i)}))));yield n.removeTrack.call(this,e,t,i)}))}release(){super.release(),this.dvcConference&&this.dvcConference.setConferenceDisconnectedErrorCallback(null),this.dvc=null,this.dvcConference=null,this.dvc2FakeAudioTrackHelper&&this.dvc2FakeAudioTrackHelper.release()}setTransparentMode(e){this.dvc.setTransparentMode(e)}setComfortNoiseLevel(e){return this.dvc.setComfortNoise(e)}getComfortNoiseLevel(){return this.dvc.getComfortNoise()}conferenceDisconnectedErrorCallback(e){this.emit("error",new Ue("ConferenceDisconnectedError",e))}fatalErrorCallback(){this.dvc=null,this.dvcConference=null,this.emit("error",new Ue("FatalError","DolbyVoice process has crashed, please reload your app."))}addFakePeer(e){this.ensurePeer({peerId:e,isMaster:!1})}static throwIfNotSupported(e,t){if(!(t in e))throw new Ae(`'${t}' is unsupported by ${e.constructor.name} object. Please try the latest NDS version.`)}}function Oi(e,t){if(!t)return e;const{customPath:i}=t;return i?i():e}var Fi=i(4590),zi=i.n(Fi);const Li=function(){let e;return"undefined"!=typeof document&&(e=function(){let e,t;if(e=document.currentScript,e)t=e.src.split("?")[0];else{const e=document.getElementsByTagName("script");if(!e||0===e.length)return;if(e[e.length-1].src.includes(voxeet-sdk.js))t=e[e.length-1].src.split("?")[0];else{const i=Array.from(e).find((e=>e.src.includes(voxeet-sdk.js)));i&&(t=i.src.split("?")[0])}}return t.split("/").slice(0,-1).join("/")+"/"}()),e||"//"}();function Ni(e,t="11fc636bfdc0d4042cecd4a8604fb8fe"){return Li+e+"?"+t}var Ui=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};let Vi=!1;class Bi{constructor(e,t,i,n){this.audioPort=e,this.audioContext=t,this.enableInput=i.enableInput,this.config=i,this.reportCallback=n,Vi||(this.workletModuleLoaded=this.fetchWorkletScript())}fetchWorkletScript(){const e=Ni(zi());return fetch(e).then((e=>e.text())).then((e=>{const t=new Blob([e],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(t);return this.audioContext.audioWorklet.addModule(i).finally((()=>URL.revokeObjectURL(i)))})).then(Vi=!0)}createWorklet(){this.audioNode=new window.AudioWorkletNode(this.audioContext,"dvwc-worklet",{outputChannelCount:[2],processorOptions:Object.assign({namespaces:localStorage.getItem("debug")},this.config)})}createAudioNode(){return Ui(this,void 0,void 0,(function*(){if(!this.audioNode){if(yield this.workletModuleLoaded,this.audioNode)return;try{this.createWorklet()}catch(e){yield this.fetchWorkletScript(),this.createWorklet()}this.audioNode.port.onmessage=e=>this.reportCallback(e.data);const e={audioPort:this.audioPort};this.audioNode.port.postMessage(e,[this.audioPort])}}))}freeAudioResources(){this.audioNode.port.postMessage({action:"stop"}),this.audioNode&&this.audioNode.disconnect(),this.audioNode=null}}class Wi{constructor(e){const t=URL.createObjectURL(new Blob([`importScripts(${JSON.stringify(e.toString())});`],{type:"application/javascript"}));this.worker=new Worker(t),URL.revokeObjectURL(t)}getWorker(){return this.worker}}var Gi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};const Hi=be()("vxt:rtc:dolbyvoice"),Yi=nt().getParser(window.navigator.userAgent),qi=e=>new Ce("DolbyVoiceError",e);class Xi{constructor(){this.micClipping=Xi.Severity.unknown,this.networkDownlink=Xi.Severity.unknown,this.networkUplink=Xi.Severity.unknown,this.noiseLevel=Xi.Severity.unknown}update(e){for(let t in e)e.hasOwnProperty(t)&&(this[t]=Xi.Severity[e[t]])}}Xi.Severity=Object.freeze({green:0,amber:1,red:2,unknown:3});class $i{constructor(e){this.worker=e,this.requests={}}request(e,t,i){return Gi(this,void 0,void 0,(function*(){return this.requests[e]||(this.requests[e]=[]),new Promise(((n,r)=>{this.requests[e].push({resolve:n,reject:r}),i?this.worker.postMessage({type:e+"-request",data:t},i):this.worker.postMessage({type:e+"-request",data:t})}))}))}handleResponse(e,t){if(this.requests[e]){const i=this.requests[e].shift();i&&(t.error?i.reject(qi(t.error)):i.resolve(t.result))}}}var Ji,Ki,Zi,Qi,en=class extends Ei{constructor(e){super(e),this.worker=null,this.workerAsyncCall=null,this.audioChannel=null,this.initResolve=null,this.initReject=null,this.audio=null,this.dvcAudioMuted=!1,this.ragAlarms=new Xi,this.haveSession=!1,this.debugDvwc=be()("vxt:rtc:dvwc"),this.workerLoadResolve=null,this.workerLoadReject=null,this.pendingLevelCallbacks=null,this.cachedLevels=null,this.cachedAudioMode=null,this.cachedComfortNoiseLevel=null,this.stopSessionResolve=null,this.stopSessionReject=null,this.onConnectionStatus=null}stopSession(){return Gi(this,void 0,void 0,(function*(){if(this.haveSession){let e=new Promise(((e,t)=>{this.stopSessionReject=t,this.stopSessionResolve=e}));return this.worker.postMessage({type:"leave"}),e}}))}resolveStopSession(){this.haveSession=!1,this.stopSessionResolve?(this.stopSessionResolve(),this.stopSessionResolve=null,this.stopSessionReject=null):this.handleUnexpectedLeave()}rejectStopSession(e){this.haveSession=!1,this.stopSessionReject?(this.stopSessionReject(qi(e)),this.stopSessionResolve=null,this.stopSessionReject=null):this.onSessionStopped()}release(){const e=Object.create(null,{release:{get:()=>super.release}});return Gi(this,void 0,void 0,(function*(){yield this.stopSession(),yield this.onSessionStopped(),yield e.release.call(this)}))}onSessionStopped(){return Gi(this,void 0,void 0,(function*(){this.audio&&(this.audio.stopInputAudio(),this.audio.stopOutputAudio(),this.audio=null),this.worker&&(yield this.workerAsyncCall.request("release"),this.worker.terminate()),this.stopDataFlow()}))}handleUnexpectedLeave(){return Gi(this,void 0,void 0,(function*(){let e=yield this.createStateDump(!0);this.emit("sessionEnded",e),this.release()}))}addPeer({peerId:e,description:t,candidates:i,wasmDescription:n,wasmCandidates:r,isMaster:o,state:a="default"}){const s=Object.create(null,{addPeer:{get:()=>super.addPeer}});return Gi(this,void 0,void 0,(function*(){const c={enabled:!0};try{!n&&(null==t?void 0:t.oid)&&-1!==(null==t?void 0:t.oid.search("WASM"))&&(n=t,r=i,t=null,i=null),t&&(yield s.addPeer.call(this,{peerId:e,description:t,candidates:i,isMaster:o,state:a,wasmEnabled:c})),n&&(yield this.addPeerWasm({peerId:e,description:n,candidates:r,isMaster:o,state:a}))}catch(t){throw bi.error("webrtc","VoxeetRTCDolbyVoice.addPeer error: ",e,t),t}}))}addPeerWasm({peerId:e,description:t,candidates:i,isMaster:n,state:r}){return Gi(this,void 0,void 0,(function*(){yield this.createPeerConnectionWasm(e,n,r),yield this.setRemoteDescriptionWasm(e,this.getSsrc(t.sdp),t.type,t.sdp),i&&(yield Promise.all(i.map((t=>Gi(this,void 0,void 0,(function*(){Yi.msedge||(yield this.setPeerCandidateWasm(e,t.mid,t.mline_index,t.sdp))})))))),yield this.createAnswerWasm(e,r,t.oid)}))}ensurePeer({peerId:e,isMaster:t}){return super.ensurePeer({peerId:e,isMaster:t,closed:!1})}createPeerConnectionWasm(e,t,i){return Gi(this,void 0,void 0,(function*(){let n=this.ensurePeer({peerId:e,isMaster:t}),r=n.audioConnection;if(r&&"close"===i){if(Hi("Reconnecting data channel"),this.dataChannel){let e=this.dataChannel;e.onopen=()=>{},e.onclose=()=>{},e.onerror=e=>{},e.onmessage=e=>{},e.close(),this.dataChannel=null}r&&(r.close(),r=null,n.audioConnection=null)}if(!r){let t=ai().peerConnection.config;t.sdpSemantics="unified-plan",delete t.bundlePolicy,r=new ht(t,ai().peerConnection.constraints),r.candidates=new Array,r.onicecandidate=t=>{t.candidate?r.candidates.push({sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex,sdp:t.candidate.candidate}):this.iceCandidatesGatheringCompleteEvent(e,r.candidates)},Hi("createPeerConnection",e," for Data Channel"),n.audioConnection=r,this.dataChannel?Hi("createPeerConnection","Failed to create datachannel for peer ",e," for Data Channel"):(this.dataChannel=n.audioConnection.createDataChannel("DVC",{maxRetransmits:0,negotiated:!1,ordered:!1,id:0}),this.dataChannel.binaryType="arraybuffer",this.addDataChannelListeners(this.dataChannel,e),this.addConnectionListeners(n))}}))}setPeerCandidateWasm(e,t,i,n){return Gi(this,void 0,void 0,(function*(){yield Promise.all(this.peers.filter((t=>t.peerId===e)).map((e=>Gi(this,void 0,void 0,(function*(){yield e.audioConnection.addIceCandidate(new lt({candidate:n,sdpMLineIndex:i,sdpMid:t}))})))))}))}setRemoteDescriptionWasm(e,t,i,n,r){return Gi(this,void 0,void 0,(function*(){Hi("setRemoteDescriptionWasm"),Hi("Offer",n),yield Promise.all(this.peers.filter((t=>t.peerId===e)).map((t=>Gi(this,void 0,void 0,(function*(){try{yield t.audioConnection.setRemoteDescription(new pt({type:i,sdp:n}))}catch(i){throw bi.error("webrtc","VoxeetRTCDolbyVoice.setRemoteDescriptionWasm error: ",e,i),RemoteDescriptionError(i,t.peerId)}})))))}))}createAnswer(e,t="default",i){const n=Object.create(null,{createAnswer:{get:()=>super.createAnswer}});return Gi(this,void 0,void 0,(function*(){n.createAnswer.call(this,e,t,i,{enabled:!0,audio:!(this.listenOnly||!this.constraints.audio)})}))}createAnswerWasm(e,t="default",i){return Gi(this,void 0,void 0,(function*(){Hi("createAnswerWasm",e,i);const n=this.peers.find((t=>t.peerId===e));if(!n)throw Ve(e);try{const r=yield n.audioConnection.createAnswer();Hi("Answer",r.sdp),yield n.audioConnection.setLocalDescription(r);const o={enabled:!0,audio:!(this.listenOnly||!this.constraints.audio)};this.sessionCreatedEvent(e,n.audioConnection.localDescription,null,"none",t,i,o)}catch(e){throw bi.error("webrtc","VoxeetRTCDolbyVoice.createAnswerWasm",e),CreateAnswerError(e,n.peerId)}}))}addMasterStream(e){return Gi(this,void 0,void 0,(function*(){if(Hi("addMasterStream",e),this.localMediaStream){const t=!e.stream;yield this.addStream(this.localMediaStream,e.connection),e.stream=this.localMediaStream,t?this.addStreamEvent(e.peerId,this.localMediaStream):this.updateStreamEvent(e.peerId,this.localMediaStream)}}))}addTrackListeners(e,t,i,n){return Gi(this,void 0,void 0,(function*(){n.ontrack=e=>{let t=e.streams[0];if(t){let i=this.checkStream(t),n=this.ensurePeer({peerId:i,isMaster:!1});n.closed=!1,-1===e.streams[0].id.search("screen_")?(e.streams[0].onremovetrack=e=>this.onRemoveTrack(i,e),n.stream?this.updateStreamEvent(i,e.streams[0]):this.addStreamEvent(i,e.streams[0]),n.stream=e.streams[0]):(e.streams[0].onremovetrack=e=>this.onScreenRemoveTrack(i,e),Yi.isBrowser("safari",!0)&&(this.remoteScreenStream=e.streams[0],this.remoteScreenStream.type=Xt.ScreenShare),setTimeout((()=>{this.addScreenStreamEvent(i,e.streams[0])}),1))}},n.onremovestream=e=>{Hi("onremovestream",e),e.stream.id.search("screen_")}}))}_startInputAudio(e){return this.worker.postMessage({type:"start-input-audio",inputAudioConfig:e}),this.audio.startInputAudio(this.localMediaStream)}getLocalAudioTweaks(){const e=localStorage.getItem("audioTweaks");if(!e)return null;try{return JSON.parse(e)}catch(e){return Hi("Incorrect audioTweaks override format - ignoring"),null}}_createInputAudioConfig(e){let t="inputAudioConfig"in this.wasm?this.wasm.inputAudioConfig:{typingNoiseSuppression:!0};return(null==e?void 0:e.hasOwnProperty("refBulkGainDb"))&&(t.refBulkGainDb=e.refBulkGainDb),t}getDefaultAudioConstraints(){let e=super.getDefaultAudioConstraints();return e.autoGainControl=!1,e.googAutoGainControl=!1,e.echoCancellation=!1,e.noiseSuppression=!1,e}initDvwcAudio(e){return Gi(this,void 0,void 0,(function*(){const t=new MessageChannel,i=this.getLocalAudioTweaks(),n=Object.assign(Object.assign(Object.assign({},{outputQueueMs:30,crossFadeMs:10,rampMs:50}),i),this.options.audioTweaks),r=1.5*this.audioContext.baseLatency;n.outputQueueMs<r&&(n.outputQueueMs=r),n.hasOwnProperty("enableOutputChange")?this.enableOutputChange=n.enableOutputChange:this.enableOutputChange=!0,this.audio=new class{constructor(e,t,i){if(this.audioContext=t,!this.audioContext.audioWorklet)throw new Pe("NotSupportedError","This operation is not supported on this browser");this.impl=new Bi(e,this.audioContext,i,(e=>this.collectAudioReport(e))),this.audioReport=this.initialAudioReport(),this.enableOutputChange=i.enableOutputChange}get audioNode(){return this.impl.audioNode||null}createAudioNode(){return this.impl.createAudioNode()}startInputAudio(e){return Ui(this,void 0,void 0,(function*(){try{let t=this.mediaStreamSource=this.audioContext.createMediaStreamSource(e);yield this.createAudioNode(),t.connect(this.audioNode),bi.info("webrtc","DvcAudio.startInputAudio","Input started")}catch(e){throw bi.error("webrtc","DvcAudio.startInputAudio",e),e}}))}freeInputAudioResources(){this.mediaStreamSource&&this.mediaStreamSource.disconnect(),this.mediaStreamSource=null}freeAudioResources(){this.impl.freeAudioResources(),this.audioContext=null}stopInputAudio(){try{this.freeInputAudioResources(),bi.info("webrtc","DvcAudio.stopInputAudio","Input destroyed")}catch(e){bi.error("webrtc","DvcAudio.stopInputAudio",e)}}startOutputAudio(){return Ui(this,void 0,void 0,(function*(){try{yield this.createAudioNode();let e=this.enableOutputChange?this.audioContext.createMediaStreamDestination():this.audioContext.destination;return this.audioNode.connect(e),bi.info("webrtc","DvcAudio.startOutputAudio","Output started"),e.stream}catch(e){throw bi.error("webrtc","DvcAudio.startOutputAudio",e),e}}))}stopOutputAudio(){try{this.freeAudioResources(),bi.info("webrtc","DvcAudio.stopOutputAudio","Output destroyed")}catch(e){bi.error("webrtc","DvcAudio.stopOutputAudio",e)}}initialAudioReport(){return{outputBuffer:{overrun:{have:!1,times:0,longestTicks:0},underrun:{have:!1,times:0,longestTicks:0}}}}collectAudioReport(e){if("output-buffer-condition"===e.type){let t;switch(e.condition){case"overrun":case"underrun":t=this.audioReport.outputBuffer.overrun;break;default:return}switch(e.event){case"start":t.have=!0;break;case"end":t.have=!1,t.times++,e.count>t.longestTicks&&(t.longestTicks=e.count);break;default:return}}}createAudioReport(){const e=Object.assign({},this.audioReport),t=this.audioReport.outputBuffer;return t.overrun.times=0,t.overrun.longestTicks=0,t.underrun.times=0,t.underrun.longestTicks=0,e}}(t.port1,this.audioContext,{enableInput:Boolean(this.localMediaStream),outputQueueMs:n.outputQueueMs,crossFadeMs:n.crossFadeMs,rampMs:n.rampMs,enableOutputChange:this.enableOutputChange});const o={debug:this.debugDvwc.enabled||!1,namespaces:localStorage.getItem("debug"),audioPort:t.port2,sampleRate:this.audio.audioContext.sampleRate,outputAudioConfig:"outputAudioConfig"in this.wasm?this.wasm.outputAudioConfig:{},urlPrefix:Li};yield this.workerAsyncCall.request(e,o,[t.port2]);const a=this._createInputAudioConfig(n);!this.listenOnly&&this.constraints.audio&&this.localMediaStream&&this.localMediaStream.getAudioTracks()[0]&&(yield this._startInputAudio(a),this.cachedAudioMode&&(yield this.setCaptureMode(this.cachedAudioMode)));const s=yield this.audio.startOutputAudio();this.cachedComfortNoiseLevel&&(yield this.setComfortNoiseLevel(this.cachedComfortNoiseLevel)),this.enableOutputChange&&(yield this.createAudioElement(s))}))}init({constraints:e,processCb:t,listenOnly:i,ownerId:n,options:r,dvwc:o}){const a=Object.create(null,{init:{get:()=>super.init}});return Gi(this,void 0,void 0,(function*(){const s=Object.assign(Object.assign({},e),{audio:!!e.audio&&Object.assign(Object.assign({},e.audio),{autoGainControl:!1,googAutoGainControl:!1,echoCancellation:!1,noiseSuppression:!1})});r.audioContextOptions={sampleRate:32e3},yield a.init.call(this,{constraints:s,processCb:t,listenOnly:i,ownerId:n,options:r}),yield this.initDvwc(o),this.mediaManager.getComfortNoiseLevel=this.getComfortNoiseLevel.bind(this),this.mediaManager.setComfortNoiseLevel=this.setComfortNoiseLevel.bind(this)}))}initDvwc(e){return Gi(this,void 0,void 0,(function*(){if(e&&!this.worker)try{const t=new Promise(((e,t)=>{this.workerLoadResolve=e,this.workerLoadReject=t}));this.wasm=e;const n=new Oi(new URL(i.p+i.u(348),i.b),{name:"worker",customPath:()=>new URL(Ni("voxeet-dvwc-worker.js"))}),r=new Wi(n);this.worker=r.getWorker(),this.workerAsyncCall=new $i(this.worker),this.worker.onmessage=e=>this.onWorkerMessage(e.data),this.worker.onerror=()=>{this.workerLoadReject({message:"Unable to load DVWC worker file"})},yield t,yield this.initDvwcAudio("init"),this.ensurePeer({peerId:at,isMaster:null})}catch(e){throw Hi(`Dvwc init failed: reason ${e}`),yield this.release(),e}}))}handleDvwcLog(e){this.debugDvwc(`Log: ${e.timestamp.toISOString()} ${e.level.padStart(10," ")} ${e.component} ${e.msgId} ${e.message}\n`)}onWorkerMessage(e){switch(e.type){case"worker-loaded":this.workerLoadResolve&&this.workerLoadResolve();break;case"packet":this.sendPacket(e.packet);break;case"session-stopped":this.resolveStopSession();break;case"session-stop-rejected":this.rejectStopSession(e.reason);break;case"log":this.handleDvwcLog(e.entry);break;case"alarms":this.onAlarms(e.alarms);break;case"input-level":this.onAudioLevel(e.level);break;case"talkers":this.onTalkers(e.levels);break;case"status":this.onConnectionStatus(e.status);break;case"output-buffer-condition":this.onAudioReport(e);break;case"callback-gap-detected":this.onCallbackGapDetected();break;case"no-op":break;default:const t=e.type.match(/(.*)-response/);t&&this.workerAsyncCall.handleResponse(t[1],e)}}restartAudio(){return Gi(this,void 0,void 0,(function*(){return this.callWithoutConcurrency((()=>Gi(this,void 0,void 0,(function*(){yield this.restartAudioInternal()}))))}))}restartAudioInternal(){return Gi(this,void 0,void 0,(function*(){yield this.workerAsyncCall.request("release");let e=!1;if(this.audioTrack&&(e=this.audioTrack.enabled,this.audioTrack.stop()),this.localMediaStream&&this.localMediaStream.getAudioTracks().forEach((e=>e.stop())),this.audio&&(this.audio.stopInputAudio(),this.audio.stopOutputAudio(),this.audio=null),!this.listenOnly&&this.constraints.audio&&this.localMediaStream&&this.localMediaStream.getAudioTracks()[0]){const t=yield this.getUserMediaWithChecks(Object.assign(Object.assign({},this.constraints),{video:!1}));this.localMediaStream.removeTrack(this.localMediaStream.getAudioTracks()[0]),this.audioTrack=t.getAudioTracks()[0],this.audioTrack.enabled=e,this.localMediaStream.addTrack(this.audioTrack)}yield this.initDvwcAudio("reconnect-audio")}))}onCallbackGapDetected(){return Gi(this,void 0,void 0,(function*(){this.isLeavingConference||(yield this.restartAudio())}))}onDeviceChanged(){return Gi(this,void 0,void 0,(function*(){yield this.restartAudio()}))}createAudioElement(e){return Gi(this,void 0,void 0,(function*(){e&&e.getAudioTracks().length>0&&(this.audioElement||(this.audioElement=new Audio),vt(this.audioElement,e),yield this.audioElement.play())}))}addDataChannelListeners(e,t){e.onopen=()=>this.startDataFlow(e),e.onclose=()=>this.stopDataFlow(),e.onerror=e=>{e.error&&e.error.message&&"Protocol Violation"==e.error.message?(bi.error("webrtc","VoxeetRTCDolbyVoice.dataChannel.onerror reconnecting datachannel ",e.error),this.emit("reconnect",Ye(t,e.error?e.error.message:void 0))):(bi.error("webrtc","VoxeetRTCDolbyVoice.dataChannel.onerror",e.error),this.emit("error",Ye(t,e.error?e.error.message:void 0)),this.handleUnexpectedLeave())}}addConnectionListeners({peerId:e,connection:t}){this.onConnectionStatus=t=>{t.startsWith("FAILED")&&this.emit("error",(e=>new Ee("MediaServerConnectionError","Connnection to media server has failed",e))(e))},t.oniceconnectionstatechange=t=>{this.connectionStatusEvent({peerId:e,connectionStatus:t.target.iceConnectionState,signalingState:t.target.signalingState})},t.onsignalingstatechange=t=>{this.connectionStatusEvent({peerId:e,connectionStatus:t.target.iceConnectionState,signalingState:t.target.signalingState})}}startDataFlow(e){if(!this.haveSession){const e={type:"join"};"object"==typeof this.wasm&&"sessionConfig"in this.wasm?e.sessionConfig=this.wasm.sessionConfig:e.sessionConfig={};const t=this.getLocalAudioTweaks();e.sessionConfig.networkProbingConfig=(null==t?void 0:t.hasOwnProperty("networkProbingConfig"))?t.networkProbingConfig:{gapLength:0,burstLength:20},this.worker.postMessage(e),this.haveSession=!0}e.onmessage=this.receiveDataChannelPacket.bind(this)}sendPacket(e){let t=this.dataChannel;t&&"open"===t.readyState&&t.send(e)}stopDataFlow(){try{if(this.dataChannel){let e=this.dataChannel;this.dataChannel=null,e.close()}}catch(e){console.log(e)}}renegociate({peerId:e,description:t,candidates:i}){return Gi(this,void 0,void 0,(function*(){try{yield this.addPeerWasm({peerId:e,description:t,candidates:i,isMaster:!0,state:"close"})}catch(t){throw bi.error("webrtc","VoxeetRTCDolbyVoice.renegociate: ",e,t),t}}))}receiveDataChannelPacket(e){let t=e.data;this.worker.postMessage({type:"packet",packet:t},[t])}mutePeer(e,t){this.peers.filter((t=>t.peerId===e)).map((i=>{i.isMaster?this.haveSession?(this.dvcAudioMuted=t,"sessionConfig"in this.wasm||(this.wasm.sessionConfig={}),this.wasm.sessionConfig.inputMute=t,this.worker.postMessage({type:"input-mute",mute:this.dvcAudioMuted})):this.audioTrack&&(this.audioTrack.enabled=!t):(i.process&&i.process.mute(t),this.audioTags&&this.audioTags.muteAudioTag(e,t))}))}toggleMute(e){let t=!1;return this.peers.filter((t=>t.peerId===e)).map((i=>{if(i.isMaster)t=this.toggleOwnMute();else if(i.process&&(t=i.process.toggleMute()),this.audioTags){const i=this.audioTags.toggleMute(e);this.audio3D||(t=i)}})),t}isOwnMuted(){return this.haveSession?this.dvcAudioMuted:!this.audioTrack.enabled}toggleOwnMute(){return this.haveSession?(this.dvcAudioMuted=!this.dvcAudioMuted,this.worker.postMessage({type:"input-mute",mute:this.dvcAudioMuted}),this.dvcAudioMuted):(this.audioTrack.enabled=!this.audioTrack.enabled,!this.audioTrack.enabled)}setGain(e,t){throw new Ae}db2vu(e){if(e===-1/0||e<-100)return 0;if(e>=0)return 1;let t=e/100,i=Math.PI/2+Math.PI/2*t,n=1-Math.cos(i);return n>1?1:n}getLevel(e,t){this.worker||t(0);let i=this.peers.find((t=>t.peerId===e));if(i&&i.isMaster)this.audioLevelCallback=e=>{const i=this.db2vu(e);t(i)},this.worker.postMessage({type:"get-input-level"});else if(this.cachedLevels)t(this.cachedLevels.get(e)||0);else{this.pendingLevelCallbacks||(this.pendingLevelCallbacks=new Map,this.worker.postMessage({type:"get-talkers"}));let i=this.pendingLevelCallbacks.get(e);i?i.push(t):this.pendingLevelCallbacks.set(e,[t])}}onAlarms(e){this.ragAlarms.update(e)}onAudioLevel(e){if(this.audioLevelCallback){const t=this.audioLevelCallback;this.audioLevelCallback=null,t(e)}}onTalkers(e){this.cachedLevels=new Map;for(const t of e){const e=t.id.split("@")[0],i=t.level;this.cachedLevels.set(e,i)}for(const[e,t]of this.pendingLevelCallbacks){const i=this.cachedLevels.get(e)||0;for(const e of t)try{e(i)}catch(e){}}this.pendingLevelCallbacks=null,setTimeout((()=>this.cachedLevels=null),100)}isSpeaking(e,t){this.getLevel(e,(e=>{e>this.speechThreshold?t(!0):t(!1)}))}onAudioReport(e){this.audio&&this.audio.collectAudioReport(e)}stopAudioForPeerInternal(e){return Gi(this,void 0,void 0,(function*(){for(const t of this.peers.filter((t=>t.peerId===e)))if(t.stream&&t.isMaster){if(!this.localMediaStream||0===this.localMediaStream.getAudioTracks().length)throw new Me("Already stopped");let t=this.audioTrack;t.stop(),this.audio&&this.audio.stopInputAudio(),this.worker&&this.worker.postMessage({type:"stop-input-audio"}),this.localMediaStream.removeTrack(t),this.localMediaStream.getTracks().length?this.updateStreamEvent(e,this.localMediaStream):(this.removeStreamEvent(e,this.localMediaStream),this.localMediaStream=null)}}))}startAudioForPeerInternal(e){return Gi(this,void 0,void 0,(function*(){for(const t of this.peers.filter((t=>t.peerId===e)))if(t.isMaster){if(this.localMediaStream&&this.localMediaStream.getAudioTracks().length>0)throw new Me("Already started");let i=JSON.parse(JSON.stringify(this.constraints));i.video=!1,i.audio||(i.audio=this.constraints.audio=this.getDefaultAudioConstraints());try{const n=yield this.getUserMediaWithChecks(i);this.audioTrack=n.getAudioTracks()[0],this.localMediaStream?(this.localMediaStream.addTrack(this.audioTrack),this.worker?this.audio&&this._startInputAudio():yield this.addTrack(this.audioTrack,t.audioConnection,this.localMediaStream,"audio"),this.updateStreamEvent(e,this.localMediaStream)):(this.localMediaStream=n,this.localMediaStream.type=Xt.Camera,t.stream=n,this.worker&&this.audio&&this._startInputAudio(),yield this.addStream(this.localMediaStream,t.audioConnection),this.addStreamEvent(e,this.localMediaStream)),yield this.updateSelectedInputAudioDevice()}catch(e){throw new xe(e)}}}))}selectAudioInput(e){return Gi(this,void 0,void 0,(function*(){for(const t of this.peers.filter((e=>!0===e.isMaster))){"object"!=typeof this.constraints.audio&&(this.constraints.audio=this.getDefaultAudioConstraints()),this.constraints=Object.assign(Object.assign({},this.constraints),{audio:Object.assign(Object.assign({},this.constraints.audio),{deviceId:{exact:e.deviceId}})});try{yield this.onDeviceChanged(),this.localMediaStream&&this.updateStreamEvent(t.peerId,this.localMediaStream)}catch(e){throw e}}}))}selectAudioOutput(e){return Gi(this,void 0,void 0,(function*(){const t=e.deviceId;if(!this.enableOutputChange)throw new Ae;if(t&&this.audioElement)return yield this.audioElement.setSinkId(t),void(yield this.onDeviceChanged());throw new Error("Unavailable")}))}getLocalRtpStats(){return Gi(this,void 0,void 0,(function*(){const e=this.peers.find((e=>e.isMaster)),t=yield this.getRtpStatsForTelemetry(),i=null==t?void 0:t.metrics;if(e){const n=i.get(e.peerId).filter((e=>"candidate-pair"===e.type)),r=t.dvcStats?t.dvcStats:{};for(const[t,o]of i){let a=0,s=0;if(t===e.peerId){const e=o.filter((e=>("remote-inbound-rtp"===e.type||"inbound-rtp"===e.type)&&"audio"===e.kind)),i=o.filter((e=>"outbound-rtp"===e.type&&"audio"===e.kind));let c=[];if(this.lastStats[t]&&(c=this.lastStats[t].filter((e=>"outbound-rtp"===e.type&&"audio"===e.kind))),r.length>0){const e=parseFloat(r[0].uplinkPacketLossCount)/parseFloat(r[0].uplinkPacketCount);a=pi(parseFloat(100*e),parseFloat(r[0].roundTripTime),parseFloat(r[0].uplinkJitter))}else if(e.length>0&&i.length>0&&c.length>0&&i[0].bytesSent>c[0].bytesSent){let t=n[0].currentRoundTripTime?n[0].currentRoundTripTime:e[0].roundTripTime;t=t||this.recentlySeenRTT,this.recentlySeenRTT=t;const r=parseFloat(e[0].packetsLost)/parseFloat(i[0].packetsSent);a=pi(parseFloat(100*r),1e3*parseFloat(t),1e3*parseFloat(e[0].jitter))}if(this.localMediaStream){let e=this.localMediaStream.getVideoTracks();s=gi(this.lastStats[t],o,e)}}else{const e=o.filter((e=>"inbound-rtp"===e.type&&"audio"===e.kind));if(r.length>0){const e=parseFloat(r[0].downlinkPacketLossCount)/parseFloat(r[0].downlinkPacketCount);a=pi(parseFloat(100*e),parseFloat(r[0].roundTripTime),parseFloat(r[0].downlinkJitter))}else if(e.length>0&&n.length>0){const t=parseFloat(e[0].packetsLost)/parseFloat(e[0].packetsReceived);a=pi(parseFloat(100*t),1e3*parseFloat(n[0].currentRoundTripTime),1e3*parseFloat(e[0].jitter))}const i=this.peers.findIndex((e=>e.peerId===at))>-1;s=fi(this.lastStats[t],o,i)}this.lastStats[t]=[...o],i.set(t,[...o,{id:"Scores",audio:a,video:s}])}}return i}))}getDvcStats(){return this.workerAsyncCall.request("stats")}getRagAlarms(){return this.ragAlarms}getLocalRtpStatsForTelemetry(){return Gi(this,void 0,void 0,(function*(){const e=this.peers.find((e=>e.isMaster)),t={metrics:new Map};if(e){let i=yield e.connection.getStats(null),n=e.audioConnection?yield e.audioConnection.getStats(null):[];i=[...i.values()],n=[...n.values()];const r=[];if(i.filter((e=>"media-source"===e.type||"outbound-rtp"===e.type||"remote-inbound-rtp"===e.type&&e.localId||"candidate-pair"===e.type||"inbound-rtp"===e.type||"track"===e.type&&!1===e.remoteSource)).forEach((e=>{r.push(e)})),n.filter((e=>"data-channel"==e.type||"candidate-pair"===e.type||"transport"===e.type)).forEach((e=>{r.push(e)})),r.forEach((e=>{!e.hasOwnProperty("kind")&&e.hasOwnProperty("mediaType")&&(e.kind=e.mediaType)})),t.metrics.set(e.peerId,r),Yi.isBrowser("chrome",!0)?i.filter((e=>"stream"===e.type)).forEach((e=>{const n=/([0-9]*)_?([a-zA-Z0-9]*)_?([0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12})/gm.exec(e.streamIdentifier);if(n&&n[3]){const r=new Array;r.push(e),e.trackIds.forEach((e=>{i.filter((t=>t.id==e||t.trackId==e)).forEach((e=>r.push(e)))})),t.metrics.get(n[3])&&r.push(...t.metrics.get(n[3])),t.metrics.set(n[3],r)}else bi.error("webrtc","VoxeetRTCNative.getLocalRtpStatsForTelemetry","Unable to found peer for stream telemetry")})):this.peers.forEach((({stream:e,peerId:n})=>{if(!e)return;const r=[...e.getAudioTracks(),...e.getVideoTracks()].flatMap((e=>i.filter((t=>t.trackIdentifier===e.id)))),o=r.flatMap((e=>i.filter((t=>t.trackId===e.id&&"inbound-rtp"===t.type)))),a=[...r,...o],s=[];t.metrics.get(n)&&s.push(...t.metrics.get(n)),t.metrics.set(n,[...a,...s])})),t.metrics.set(at,[]),this.worker){const i=yield this.getDvcStats(),n=this.getRagAlarms();if(t.dvcStats=i,t.ragAlarms=n,i){const n={ssrc:2,trackId:"",mediaType:"audio",packetsSent:i.uplinkPacketCount,bytesSent:i.uplinkPayloadBytes,retransmittedPacketsSent:0,retransmittedBytesSent:0,type:"outbound-rtp"},r={ssrc:2,kind:"audio",packetLost:i.uplinkPacketLossCount,jitter:.001*i.uplinkJitter,roundTripTime:i.roundTripTime,type:"remote-inbound-rtp"};t.metrics.set(e.peerId,t.metrics.get(e.peerId).concat(Object.assign({id:"RTCOutboundRTPAudioStream_2"},n)).concat(Object.assign({id:"RTCRemoteInboundRTPAudioStream_2"},r)));const o={audioLevel:i.outputLevel,bytesReceived:i.downlinkPayloadBytes,jitter:.001*i.downlinkJitter,mediaType:"audio",packetsLost:i.downlinkPacketLossCount,packetsReceived:i.downlinkPacketCount,ssrc:2,trackId:"RTCMediaStreamTrack_receiver_1",transportId:"RTCTransport_audio_1",type:"inbound-rtp"},a={type:"track",kind:"audio",audioLevel:i.outputLevel};t.metrics.set(at,[Object.assign({id:"RTCInboundRTPAudioStream_2"},o),Object.assign({id:"RTCMediaStreamTrack_receiver_1"},a)])}}if(this.audio){const e=this.audio.createAudioReport(),i={type:"audio",bufferIsOverrun:e.outputBuffer.overrun.have,bufferOverrunTimes:e.outputBuffer.overrun.times,bufferOverrunLength:e.outputBuffer.overrun.longestTicks,bufferIsUnderrun:e.outputBuffer.underrun.have,bufferUnderrunTimes:e.outputBuffer.underrun.times,bufferUnderrunLength:e.outputBuffer.underrun.longestTicks};t.metrics.set(at,t.metrics.get(at).concat(Object.assign({id:"WebAudioStats"},i)))}}return t}))}createStateDump(e){return this.workerAsyncCall.request("state-dump",{liteMode:e})}configureStateDump(e){this.worker.postMessage({type:"audio-logging-length",length:e})}setTransparentMode(e){return Gi(this,void 0,void 0,(function*(){yield this.workerAsyncCall.request("set-transparent-mode",{transparent:e})}))}getCaptureMode(){return Gi(this,void 0,void 0,(function*(){return this.workerAsyncCall.request("get-capture-mode")}))}setCaptureMode(e){return Gi(this,void 0,void 0,(function*(){this.cachedAudioMode=e,yield this.workerAsyncCall.request("set-capture-mode",e)}))}setComfortNoiseLevel(e){return Gi(this,void 0,void 0,(function*(){this.cachedComfortNoiseLevel=e,yield this.workerAsyncCall.request("set-comfort-noise",{level:e})}))}getComfortNoiseLevel(){return Gi(this,void 0,void 0,(function*(){return this.workerAsyncCall.request("get-comfort-noise")}))}},tn=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},nn=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class rn{constructor(e,t,i){this.resolve=e,this.reject=t,this.fn=i}}Ji=new WeakMap,Ki=new WeakMap,Zi=new WeakMap,Qi=new WeakMap;var on;class an{constructor(e,t){this.type="SendErrorRequest",this.errorType=e,this.errorDescription=t}}!function(e){e.LastSpeaker="lastSpeakerStrategy",e.ClosestUser="closestUserStrategy"}(on||(on={}));class sn{constructor(e,t){this.userId=e,this.streamIndex=t}}var cn,un,dn=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},ln=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class hn extends Error{constructor(e){super(),this.name="ExecutionTimeoutError",this.message=e}}class pn{constructor(e){this.kDefaultmaxExecutionTimeMsMs=5e3,cn.set(this,this.kDefaultmaxExecutionTimeMsMs),un.set(this,Promise.resolve()),dn(this,cn,null!=e?e:this.kDefaultmaxExecutionTimeMsMs)}execute(e,...t){return new Promise(((i,n)=>{const r=Symbol();dn(this,un,ln(this,un).then((()=>{const i=e.call(this,...t);return pn.isPromise(i)?this.waitForFulfillment(i,r):i})).then((e=>i(e))).catch((t=>{t===r&&(t=new hn(`'${e.name}'' execution timeout, limit:${ln(this,cn)}[ms]`)),n(t)})))}))}static isPromise(e){return"object"==typeof e&&"function"==typeof e.then}waitForFulfillment(e,t){let i;return Promise.race([e,new Promise(((e,n)=>{i=setTimeout(n,ln(this,cn),t)}))]).finally((()=>clearTimeout(i)))}}cn=new WeakMap,un=new WeakMap;var mn,fn,gn,vn,kn,yn,bn,wn,_n,Sn,jn,Tn,Cn,En,xn,Mn,Pn,In,Rn,Dn,An,On,Fn,zn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Ln=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Nn=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const Un=be()("vxt:conference");var Vn;!function(e){e[e.PSTN_QUALITY=0]="PSTN_QUALITY",e[e.ULTRA_LOW=1]="ULTRA_LOW",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA_HIGH=3]="ULTRA_HIGH"}(Vn||(Vn={})),mn=new WeakMap,fn=new WeakMap,gn=new WeakMap,vn=new WeakMap,kn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,jn=new WeakMap,Tn=new WeakMap,Cn=new WeakMap,En=new WeakMap,xn=new WeakMap,Mn=new WeakMap,Pn=new WeakMap,In=new WeakMap,Rn=new WeakMap,Dn=new WeakMap,An=new WeakMap,On=new WeakMap,Fn=new WeakMap;var Bn,Wn,Gn,Hn,Yn,qn,Xn,$n,Jn,Kn=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Zn=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Created="created",e.Joined="joined",e.Ended="ended",e.Left="left",e.Destroyed="destroyed",e.Error="error"}($n||($n={})),function(e){e.Invite="INVITE",e.UpdatePermissions="UPDATE_PERMISSIONS",e.Kick="KICK",e.Join="JOIN",e.SendAudio="SEND_AUDIO",e.SendVideo="SEND_VIDEO",e.ShareScreen="SHARE_SCREEN",e.ShareVideo="SHARE_VIDEO",e.ShareFile="SHARE_FILE",e.SendMessage="SEND_MESSAGE",e.Record="RECORD",e.Stream="STREAM"}(Jn||(Jn={}));class Qn{constructor(e){Bn.set(this,void 0),Wn.set(this,void 0),Gn.set(this,void 0),Hn.set(this,void 0),Yn.set(this,void 0),qn.set(this,void 0),Xn.set(this,void 0),Kn(this,Bn,e),Kn(this,Xn,new Set(Object.values(Jn)))}get id(){return Zn(this,Bn)}get alias(){return Zn(this,Wn)}get isNew(){return Zn(this,Gn)}get pinCode(){return Zn(this,Hn)}get status(){return Zn(this,Yn)}set status(e){Kn(this,Yn,e)}get params(){return Zn(this,qn)}set id(e){Kn(this,Bn,e)}set alias(e){Kn(this,Wn,e)}set isNew(e){Kn(this,Gn,e)}set pinCode(e){Kn(this,Hn,e)}set params(e){Kn(this,qn,e)}get participants(){return Qu.conference.participants}get permissions(){return Zn(this,Xn)}set permissions(e){Kn(this,Xn,e)}static fromCreateData(e){const t=new Qn(e.conferenceId);return t.status=$n.Created,t.alias=e.conferenceAlias,t.pinCode=e.conferencePincode,t.isNew=e.isNew,e.isProtected&&(t.permissions=new Set),t}}function er(e){this.message=e}Bn=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,Hn=new WeakMap,Yn=new WeakMap,qn=new WeakMap,Xn=new WeakMap,er.prototype=new Error,er.prototype.name="InvalidCharacterError";var tr="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new er("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,n,r=0,o=0,a="";n=t.charAt(o++);~n&&(i=r%4?64*i+n:n,r++%4)?a+=String.fromCharCode(255&i>>(-2*r&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function ir(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(tr(e).replace(/(.)/g,(function(e,t){var i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(t)}catch(e){return tr(t)}}function nr(e){this.message=e}nr.prototype=new Error,nr.prototype.name="InvalidTokenError";var rr,or=function(e,t){if("string"!=typeof e)throw new nr("Invalid token specified");var i=!0===(t=t||{}).header?0:1;try{return JSON.parse(ir(e.split(".")[i]))}catch(e){throw new nr("Invalid token specified: "+e.message)}};!function(e){e.Disabled="disabled",e.Individual="individual",e.Shared="shared"}(rr||(rr={}));const ar=(e,t)=>{const i=Math.pow(10,t||0);return Math.round(e*i)/i},sr=e=>e*(180/Math.PI),cr=e=>e*(Math.PI/180),ur=(e,t)=>e.x*t.x+e.y*t.y+e.z*t.z,dr=(e,t)=>({x:0===e.scale.x?0:t.x/e.scale.x,y:0===e.scale.y?0:t.y/e.scale.y,z:0===e.scale.z?0:t.z/e.scale.z}),lr=(e,t)=>({x:ur(t,e.right),y:ur(t,e.up),z:ur(t,e.forward)}),hr=e=>{if(0!==e.forward.x&&1!==Math.abs(e.forward.x)||0!==e.forward.y&&1!==Math.abs(e.forward.y)||0!==e.forward.z&&1!==Math.abs(e.forward.z)||Math.abs(e.forward.x)+Math.abs(e.forward.y)+Math.abs(e.forward.z)!=1)throw new Le("SpatialEnvironment::forward must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(e.forward));if(0!==e.up.x&&1!==Math.abs(e.up.x)||0!==e.up.y&&1!==Math.abs(e.up.y)||0!==e.up.z&&1!==Math.abs(e.up.z)||Math.abs(e.up.x)+Math.abs(e.up.y)+Math.abs(e.up.z)!=1)throw new Le("SpatialEnvironment::up must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(e.up));if(0!==e.right.x&&1!==Math.abs(e.right.x)||0!==e.right.y&&1!==Math.abs(e.right.y)||0!==e.right.z&&1!==Math.abs(e.right.z)||Math.abs(e.right.x)+Math.abs(e.right.y)+Math.abs(e.right.z)!=1)throw new Le("SpatialEnvironment::right must be a unit vector aligned with the global x,y or z axis but instead was provided with "+JSON.stringify(e.right));if(0!==ur(e.forward,e.up))throw new Le("SpatialEnvironment::forward and SpatialEnvironment::up parameters must be orthogonal vectors");if(0!==ur(e.forward,e.right))throw new Le("SpatialEnvironment::forward and SpatialEnvironment::right parameters must be orthogonal vectors");if(0!==ur(e.right,e.up))throw new Le("SpatialEnvironment::right and SpatialEnvironment::up parameters must be orthogonal vectors");if(e.scale.x<=0)throw new Le("Scale.x must be a positive non-zero number");if(e.scale.y<=0)throw new Le("Scale.y must be a positive non-zero number");if(e.scale.z<=0)throw new Le("Scale.z must be a positive non-zero number");return!0};var pr,mr,fr,gr,vr,kr,yr,br,wr,_r,Sr,jr=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Tr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Cr{constructor(e,t){pr.set(this,void 0),mr.set(this,void 0),fr.set(this,void 0),gr.set(this,void 0),vr.set(this,{}),kr.set(this,{}),yr.set(this,!1),br.set(this,void 0),wr.set(this,void 0),_r.set(this,void 0),Sr.set(this,void 0),jr(this,pr,{x:0,y:0,z:0}),jr(this,mr,{x:0,y:0,z:0}),jr(this,gr,{forward:{x:0,y:0,z:1},up:{x:0,y:1,z:0},right:{x:1,y:0,z:0},scale:{x:1,y:1,z:1}}),jr(this,br,e),jr(this,_r,t),jr(this,wr,{})}release(){Tr(this,Sr)&&clearTimeout(Tr(this,Sr))}setEnvironment(e){hr(e)&&(jr(this,gr,e),this.updateRelativePositions())}setParticipantPosition(e,t){Tr(this,wr)[e.id]=t,e.id===Tr(this,_r)&&jr(this,pr,t),this.updateRelativePositions()}setLocalDirection(e){jr(this,mr,e),this.updateRelativePositions()}transformRemotePosition(e){const t=((e,t)=>({x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}))(e,Tr(this,pr)),i=dr(Tr(this,gr),t),n=(e=>{const t=Math.cos(.5*cr(e.x)),i=Math.sin(.5*cr(e.x)),n=Math.cos(.5*cr(e.y)),r=Math.sin(.5*cr(e.y)),o=Math.cos(.5*cr(e.z)),a=Math.sin(.5*cr(e.z));return{w:t*n*o+i*r*a,x:-1*(i*n*o+t*r*a),y:-1*(t*r*o-i*n*a),z:-1*(t*n*a-i*r*o)}})(lr(Tr(this,gr),Tr(this,mr)));return((e,t)=>{const i=t.w*t.w,n=t.x*t.x,r=t.y*t.y,o=t.z*t.z,a=t.w*t.x,s=t.w*t.y,c=t.w*t.z,u=t.x*t.y,d=t.x*t.z,l=t.y*t.z;return{x:i*e.x+2*s*e.z-2*c*e.y+n*e.x+2*u*e.y+2*d*e.z-o*e.x-r*e.x,y:2*u*e.x+r*e.y+2*l*e.z+2*c*e.x-o*e.y+i*e.y-2*a*e.z-n*e.y,z:2*d*e.x+2*l*e.y+o*e.z-2*s*e.x-r*e.z+2*a*e.y-n*e.z+i*e.z}})(lr(Tr(this,gr),i),n)}computeRemoteParticipantsPolarPositions(e){return Object.entries(e).reduce(((e,[t,i])=>{const n=(e=>{const t=(e=>Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z))(e);return 0===t?{distance:0,elevation:0,azimuth:0}:{distance:t,elevation:sr(Math.asin(e.y/t)),azimuth:sr(Math.atan2(-1*e.x,e.z))}})(this.transformRemotePosition(i)),r=Object.entries(n).reduce(((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:ar(i,2)})),{distance:0,elevation:0,azimuth:0});return Object.assign(Object.assign({},e),{[t]:r})}),{})}updateRelativePositions(){const e=Object.entries(Tr(this,wr)).reduce(((e,[t,i])=>t!==Tr(this,_r)?Object.assign(Object.assign({},e),{[t]:i}):e),{}),t=this.computeRemoteParticipantsPolarPositions(e);for(const e in t)Tr(this,kr)[e]&&(i=t[e],n=Tr(this,kr)[e],Math.round(100*i.distance)===Math.round(100*n.distance)&&Math.round(100*i.azimuth)===Math.round(100*n.azimuth)&&Math.round(100*i.elevation)===Math.round(100*n.elevation))||(Tr(this,vr)[e]=t[e]);var i,n;Tr(this,yr)||(jr(this,yr,!0),jr(this,Sr,setTimeout((()=>{this.sendPositions()}),300)))}sendPositions(){return e=this,t=void 0,n=function*(){const e={conferenceId:Tr(this,br),peerId:Tr(this,_r),data:{spatialPositions:Object.assign({},Tr(this,vr))}};if(jr(this,kr,Object.assign(Object.assign({},Tr(this,kr)),Tr(this,vr))),jr(this,vr,{}),jr(this,yr,!1),Object.keys(e.data.spatialPositions).length>0)try{yield St.conferences.audioPosition(e)}catch(e){Te.send(ve.ConferenceGlobalError.fromData(new Fe("Unable to set spatial audio position: reason: "+e.reason)))}},new((i=void 0)||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n}get environment(){return Tr(this,gr)}removeParticipant(e){e in Tr(this,wr)&&delete Tr(this,wr)[e],e in Tr(this,kr)&&delete Tr(this,kr)[e]}}pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,vr=new WeakMap,kr=new WeakMap,yr=new WeakMap,br=new WeakMap,wr=new WeakMap,_r=new WeakMap,Sr=new WeakMap;var Er,xr,Mr,Pr,Ir,Rr,Dr,Ar,Or=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Fr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class zr{constructor(e,t){Er.set(this,void 0),xr.set(this,void 0),Mr.set(this,!1),Pr.set(this,void 0),Ir.set(this,void 0),Rr.set(this,{forward:{x:0,y:0,z:1},up:{x:0,y:1,z:0},right:{x:1,y:0,z:0},scale:{x:1,y:1,z:1}}),Dr.set(this,{x:0,y:0,z:0}),Ar.set(this,{x:0,y:0,z:0}),Or(this,xr,t),Or(this,Er,e)}release(){Fr(this,Pr)&&clearTimeout(Fr(this,Pr)),Fr(this,Ir)&&clearTimeout(Fr(this,Ir))}setEnvironment(e){hr(e)&&(Or(this,Rr,e),this.sendPosition())}setParticipantPosition(e,t){if(Fr(this,xr)!==e.id)throw new Ae;Or(this,Ar,t),Fr(this,Mr)||(Or(this,Mr,!0),Or(this,Pr,setTimeout((()=>{this.sendPosition()}),300)))}sendPosition(){return e=this,t=void 0,n=function*(){const e=dr(Fr(this,Rr),Fr(this,Ar)),t=lr(Fr(this,Rr),e),i=lr(Fr(this,Rr),Fr(this,Dr));Or(this,Mr,!1);const n={conferenceId:Fr(this,Er),peerId:Fr(this,xr),data:{selfSpatialPosition:t,selfSpatialDirection:i}};try{yield St.conferences.audioPosition(n)}catch(e){Te.send(ve.ConferenceGlobalError.fromData(new Fe("Unable to set spatial audio position: reason: "+e.reason)))}},new((i=void 0)||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n}setLocalDirection(e){Or(this,Dr,e),Fr(this,Mr)||(Or(this,Mr,!0),Or(this,Ir,setTimeout((()=>{this.sendPosition()}),300)))}}Er=new WeakMap,xr=new WeakMap,Mr=new WeakMap,Pr=new WeakMap,Ir=new WeakMap,Rr=new WeakMap,Dr=new WeakMap,Ar=new WeakMap;var Lr,Nr,Ur,Vr,Br,Wr,Gr,Hr,Yr,qr,Xr=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},$r=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Jr=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Kr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const Zr=be()("vxt:confservice");var Qr;!function(e){e.Created="created",e.Joined="joined",e.Left="left",e.Ended="ended",e.Destroyed="destroyed",e.Stats="stats",e.Switched="switched",e.Error="error",e.QualityIndicators="qualityIndicators",e.ParticipantAdded="participantAdded",e.ParticipantUpdated="participantUpdated",e.ParticipantLeft="participantLeft",e.AutoplayBlocked="autoplayBlocked",e.StreamAdded="streamAdded",e.StreamUpdated="streamUpdated",e.StreamRemoved="streamRemoved",e.PermissionsUpdated="permissionsUpdated"}(Qr||(Qr={}));let eo=class extends Xe{constructor(e,t,i,n,r){super(e),Lr.set(this,void 0),Nr.set(this,void 0),Ur.set(this,void 0),Vr.set(this,[]),Br.set(this,void 0),Wr.set(this,void 0),Gr.set(this,!0),Hr.set(this,void 0),Yr.set(this,void 0),qr.set(this,void 0),Jr(this,Nr,t),Jr(this,Lr,new class{constructor(e,t){mn.set(this,void 0),fn.set(this,void 0),gn.set(this,void 0),vn.set(this,void 0),kn.set(this,void 0),yn.set(this,void 0),bn.set(this,new Map),wn.set(this,new Map),_n.set(this,void 0),Sn.set(this,void 0),jn.set(this,new Array),Tn.set(this,void 0),Cn.set(this,void 0),En.set(this,!1),xn.set(this,void 0),Mn.set(this,void 0),Pn.set(this,void 0),In.set(this,void 0),Rn.set(this,void 0),Dn.set(this,void 0),An.set(this,new Array),On.set(this,void 0),Fn.set(this,new pn),Ln(this,mn,e),Ln(this,Dn,t)}get rtc(){return Nn(this,Rn)}set rtc(e){Ln(this,Rn,e)}get isLeaving(){return Nn(this,Cn)}get maxVideoForwarding(){return Nn(this,_n)}get videoForwardingStrategy(){return Nn(this,Sn)}get forwardingParticipantList(){return Nn(this,jn)}get participants(){return Nn(this,bn)}get forwardedParticipants(){return Nn(this,wn)}get listenOnly(){return Nn(this,En)}get localStateMute(){return Nn(this,Tn)}setLocalStateMute(e){Ln(this,Tn,e)}getPeerConnectionStatus(){return Nn(this,Mn)}isDvwc(){return Nn(this,Rn)instanceof en}isElectron(){return Nn(this,Rn)instanceof Ai}init(e,t,i,n=null,r=!1,o){return zn(this,void 0,void 0,(function*(){let a;this.clear(),Ln(this,fn,t),Ln(this,vn,e.id),Ln(this,kn,e),Ln(this,yn,i),Ln(this,Pn,n),Ln(this,En,r),Nn(this,yn).mixing.enabled&&Ln(this,En,!0);try{try{a=yield this.onInitialized(o)}catch(e){!function(e){if(108==e.code&&403==e.status)throw new Ce("MaxCapacityError","Conference is at maximum capacity.");throw e}(e)}if(Nn(this,yn).videoFilter){const e={filter:Nn(this,yn).videoFilter,filterOptions:Object.assign({},Nn(this,yn).videoFilterOptions)};Te.send(ve.ConferenceVideoFilterUpdate.fromData(e))}return a}catch(e){throw Te.send(ve.ConferenceGlobalError.fromData(e)),this.releaseRtc(),Nn(this,On)&&Nn(this,On).stop(),Ln(this,On,null),e}}))}clear(){Nn(this,On)&&Nn(this,On).stop(),Ln(this,On,null),Ln(this,gn,null),Ln(this,Cn,!1),Ln(this,vn,null),Ln(this,xn,[]),Ln(this,Mn,""),Ln(this,bn,new Map),Ln(this,wn,new Map),Ln(this,xn,[]),Ln(this,Rn,null)}videoForwarding(e,t,i){let n=[];return i&&i.forEach(((e,t)=>{n.push(new sn(e.id,0))})),St.conferences.videoForwarding({conferenceId:Nn(this,gn),data:{forwardingStrategy:{type:e,params:{maxActiveStreams:t}},forwardingVideoList:n}}).then((()=>{Ln(this,_n,t),Ln(this,Sn,e),Ln(this,jn,i)})).catch((e=>{throw new Oe(e.message)}))}updatePermissions(e){return St.conferences.updatePermissions({conferenceId:Nn(this,gn),data:{userPermissions:e.map((e=>({newPermissions:e.permissions,userId:e.participant.id})))}})}initRtc(e,t=null,i=!1,n,r,o,a,s,c){return zn(this,void 0,void 0,(function*(){const u={constraints:e,processCb:t,listenOnly:i,ownerId:n,options:r,mixing:o,alias:a,dvwc:s};if(dt.isAvailable())Ln(this,Rn,new Ai(c)),this.registerRtcEvents(),yield Nn(this,Rn).init(u);else{if(s)try{Ln(this,Rn,new en(c)),this.registerRtcEvents(),yield Nn(this,Rn).init(u)}catch(e){bi.warn("Falling back to Opus"),Te.send(ve.ConferenceGlobalError.fromData((d=e.message,new Ce("DolbyVoiceNotSupported","Unable to use Dolby Voice, fallback to default settings. Reason: "+d)))),Ln(this,Rn,null)}(!s||s&&!Nn(this,Rn))&&(Ln(this,Rn,Ii.create(c)),this.registerRtcEvents(),yield Nn(this,Rn).init(u))}var d}))}registerRtcEvents(){Nn(this,Rn).on("sessionCreated",this.onSessionCreated.bind(this)),Nn(this,Rn).on("sessionEnded",this.onRtcSessionEnded.bind(this)),Nn(this,Rn).on("reconnect",this.onReconnect.bind(this)),Nn(this,Rn).on("error",this.onRtcError.bind(this)),Nn(this,Rn).on("autoplayBlocked",this.onAutoplayBlocked.bind(this)),Nn(this,Rn).on("addStream",this.onStreamAdded.bind(this)),Nn(this,Rn).on("updateStream",this.onStreamUpdated.bind(this)),Nn(this,Rn).on("removeStream",this.onStreamRemoved.bind(this)),Nn(this,Rn).on("addScreenStream",this.onScreenStreamAdded.bind(this)),Nn(this,Rn).on("removeScreenStream",this.onScreenStreamRemoved.bind(this)),Nn(this,Rn).on("updateScreenStream",this.onScreenStreamUpdated.bind(this)),Nn(this,Rn).on("endedScreenStream",this.onScreenStreamEnded.bind(this)),Nn(this,Rn).on("connectionStatus",this.onPeerConnectionStatus.bind(this)),Nn(this,Rn).on("iceCandidatesGatheringComplete",this.onIceCandidatesGatheringComplete.bind(this)),Nn(this,Rn).on("onBandwidthRestrictionChanged",this.onBandwidthRestrictionChanged.bind(this))}onInitialized(e){var t,i;return zn(this,void 0,void 0,(function*(){bi.trace("Conference.onInitialized");let n=Object.assign({},Nn(this,yn));Nn(this,yn).dvwc&&(n.dvwc=!0),(null===(t=Nn(this,yn).constraints)||void 0===t?void 0:t.audio)&&!Nn(this,En)&&Nn(this,kn).updateAudioTransmitting(!0),this.participants.set(Nn(this,vn),Nn(this,kn));const r={conferenceId:Nn(this,fn),data:{sync:!0,device_type:"web",sdp_version:Ii.sdpVersion(),user:{type:Nn(this,En)?"listener":"user"},options:Object.assign({},n)}};Nn(this,yn).hasOwnProperty("maxVideoForwarding")&&Ln(this,_n,Nn(this,yn).maxVideoForwarding),Nn(this,yn).forwardingStrategy&&Ln(this,Sn,Nn(this,yn).forwardingStrategy),Nn(this,yn).mixing.enabled&&(r.data.user.type="mixer");try{const{data:t}=yield St.conferences.joinRoom(r);Un("JoinConference:",t),Ln(this,gn,t.conferenceId),"NONE"===(null===(i=null==t?void 0:t.metadata)||void 0===i?void 0:i.videoCodec)&&(Nn(this,yn).constraints.video=!1),yield this.initRtc(Nn(this,yn).constraints,Nn(this,Pn),Nn(this,En),Nn(this,vn),Nn(this,yn),Nn(this,yn).mixing,Nn(this,fn),Ii.createDvwcOptions(Nn(this,yn).dvwc,{enabled:t.wasmCandidates&&t.wasmDescription}),Nn(this,Dn)),Ln(this,On,new class{constructor(e){Ji.set(this,null),Ki.set(this,new Array),Zi.set(this,void 0),Qi.set(this,!1),tn(this,Ji,e)}start(){tn(this,Zi,setInterval(this.run.bind(this),100))}stop(){nn(this,Zi)&&clearInterval(nn(this,Zi))}run(){if(nn(this,Ki).length>0&&nn(this,Ji).call(this)&&!nn(this,Qi)){tn(this,Qi,!0);const e=nn(this,Ki).shift();e.fn().then((t=>{e.resolve(t),tn(this,Qi,!1)})).catch((t=>{e.reject(t),tn(this,Qi,!1)}))}}push(e,t,...i){return new Promise(((n,r)=>{const o=new rn(n,r,t.bind(e,...i));nn(this,Ki).push(o)}))}}(Nn(this,Rn).isPeerConnectionStable.bind(Nn(this,Rn)))),Nn(this,On).start();const n={conferenceId:t.conferenceId,conferenceAlias:t.conferenceAlias,conferenceType:t.conferenceType,conferencePincode:t.conferencePincode,metadata:t.metadata,recordingStatus:t.recordingStatus,recordingUser:t.recordingUser,startRecordTimestamp:t.startRecordTimestamp};if(Te.send(ve.ConferenceJoined.fromData(n)),t.participants&&t.participants.map((e=>{e.user_id=e.participant_id,Te.send(A.fromData(e))})),void 0===Nn(this,_n)&&ui()?Ln(this,_n,4):t.hasOwnProperty("vfs")&&Ln(this,_n,t.vfs.defaultMaxVideoForwarded),e.params=M.fromJoinData(t.metadata),t.description||t.wasmDescription){const e={peerId:Nn(this,vn),description:t.description,candidates:t.candidates,wasmDescription:t.wasmDescription,wasmCandidates:t.wasmCandidates,isMaster:!0};yield Nn(this,Rn).addPeer(e)}return setTimeout((()=>{"checking"===Nn(this,Mn)&&Te.send(ve.ConferenceGlobalError.fromData(We(Nn(this,vn))))}),25e3),n}catch(e){throw Ln(this,gn,null),bi.error("webrtc","Failed to join conference",e),Te.send(ve.ConferenceGlobalError.fromData(e)),e}}))}onSessionCreated(e,t,i,n,r,o,a){Un("Conference.onSessionCreated",e,t,o,a),St.conferences.answer({conferenceId:Nn(this,gn),peerId:e,data:{oid:o,sdp:t.sdp,candidates:i,ssMsid:n,state:r,wasm:a}}).then((e=>{bi.debug(e)})).catch((e=>{bi.error("webrtc",e),Te.send(ve.ConferenceGlobalError.fromData(e))}))}onRtcSessionEnded(e){Te.send(ve.ConferenceLeft.fromData(e))}onRtcError(e){Te.send(ve.ConferenceGlobalError.fromData(e))}onIceCandidatesGatheringComplete(e,t){bi.trace("Conference.onIceCandidatesGatheringComplete",e,t),St.conferences.candidates({conferenceId:Nn(this,gn),peerId:e,data:{commandType:"CandidatesGatheredCommand",candidates:t}}).then((e=>{bi.debug(e)})).catch((e=>{bi.error("webrtc",e),Te.send(ve.ConferenceGlobalError.fromData(e))}))}onPeerConnectionStatus(e){var t;Nn(this,mn)&&(e.peerId===Nn(this,vn)&&Ln(this,Mn,e.connectionStatus),"failed"===e.connectionStatus?Te.send(ve.ConferenceGlobalError.fromData(We(e.peerId))):"disconnected"===e.connectionStatus&&Te.send(ve.ConferenceGlobalError.fromData((t=e.peerId,new Ee("PeerConnectionDisconnectedError","Peer connection has been disconnected",t)))))}onRenegociationEnded(e){Nn(this,mn)}onAutoplayBlocked(){Nn(this,mn)&&Nn(this,mn).onAutoplayBlocked()}onStreamAdded(e,t){Te.send(ve.StreamAdded.fromData({peerId:e,stream:t})),Nn(this,mn)&&Nn(this,mn).onStreamAdded(e,t)}onStreamUpdated(e,t){Te.send(ve.StreamUpdated.fromData({peerId:e,stream:t})),Nn(this,mn)&&Nn(this,mn).onStreamUpdated(e,t)}onStreamRemoved(e,t){Te.send(ve.StreamRemoved.fromData({peerId:e,stream:t})),Nn(this,mn)&&Nn(this,mn).onStreamRemoved(e,t)}onScreenStreamAdded(e,t){Nn(this,mn)&&Nn(this,mn).onStreamAdded(e,t)}onScreenStreamRemoved(e,t){Nn(this,mn)&&Nn(this,mn).onStreamRemoved(e,t)}onScreenStreamUpdated(e,t){Nn(this,mn)&&Nn(this,mn).onStreamUpdated(e,t)}onScreenStreamEnded(){this.stopScreenShare()}onReconnect(){const e={conferenceId:Nn(this,gn),data:{pcWasm:this.isDvwc(),recreate:!0}};return St.conferences.postRenegociate(e).then((e=>{if(!e.data||!e.data.description)throw this.releaseRtc(),new Error("Failed to negociate SDP");return e.data.description.oid,{peerId:Nn(this,vn),description:e.data.description,candidates:e.data.candidates}})).then((e=>{Nn(this,Rn).renegociate(e)})).catch((e=>{throw this.releaseRtc(),new Error("Failed to negociate connection")})),Promise.resolve()}setRemoteOffer(e){if(Un("setRemoteOffer",e),Nn(this,bn).get(e.userId)||Te.send(A.fromData({user_id:e.userId})),Nn(this,bn).get(e.userId)||e.userId===Nn(this,vn)){const t={peerId:e.userId,description:e.description,candidates:e.candidates,isMaster:e.master,state:e.state};Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).addPeer,t).catch((e=>{Te.send(ve.ConferenceGlobalError.fromData(e))}))}else bi.error((t=e.userId,new Ie("NotFoundError","Unable to find participant: "+t)));var t}addParticipant(e){Un("addUser",e);let t=Nn(this,bn).get(e.userId);return t||(t=new oe(e.userId,e.participantType),t.init(e),Nn(this,bn).set(e.userId,t)),t}updateParticipant(e){Un("updateUser",e);let t=Nn(this,bn).get(e.userId);return t?(e.audioReceivingStopped=e.audioReceivingStopped||e.userId===Nn(this,vn),t.update(e),"LEFT"===e.status||"INACTIVE"===e.status&&e.userId!==Nn(this,vn)?Nn(this,Rn).removePeer(e.userId):this.isElectron()&&this.rtc.addFakePeer(e.userId)):e.userId===Nn(this,vn)||(t=this.addParticipant(e)),t}participantSwitched(e){Un("userSwitched"),Nn(this,Rn)}onConferenceStats(e){}stopVideoLocally(e){return zn(this,void 0,void 0,(function*(){try{yield this.checkInitialized(),Nn(this,Fn).execute(Nn(this,Rn).stopVideoForPeer,e)}catch(e){throw bi.error(e.toString()),e instanceof hn&&(e=new Error("Failed to stop a local video due to timeout")),Te.send(ve.ConferenceGlobalError.fromData(e)),e}}))}stopVideoForPeer(e){return Nn(this,Fn).execute(this.stopVideoForPeerInternal.bind(this),e).catch((e=>{throw e instanceof hn&&(bi.error(e.toString()),e=new Error("Failed to stop a video due to timeout")),e}))}stopVideoForPeerInternal(e){return zn(this,void 0,void 0,(function*(){let t=null;try{yield this.checkInitialized(),yield Nn(this,Rn).stopVideoForPeer(e);let i=yield St.conferences.stopMedia({conferenceId:Nn(this,gn),peerId:e,data:{index:0,label:"camera",media:["video"]}});if(e===Nn(this,vn)){if(!i.data||!i.data.description)throw new Error("Empty server response for stop video");let e=i.data.description;t=e.oid,yield Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""),Nn(this,Rn).createAnswer(Nn(this,vn),"default",t)}}catch(e){throw bi.error(e),Te.send(ve.ConferenceGlobalError.fromData(e)),e}}))}startVideoForPeer(e,t){return Nn(this,Fn).execute(this.startVideoForPeerInternal.bind(this),e,t).catch((e=>{throw e instanceof hn&&(bi.error(e.toString()),e=new Error("Failed to start a video due to timeout")),e}))}startVideoForPeerInternal(e,t){let i=null;return this.checkInitialized().then((()=>St.conferences.startMedia({conferenceId:Nn(this,gn),peerId:e,data:{index:0,label:"camera",media:["video"]}}))).then((t=>{if(e!==Nn(this,vn))throw new Error("Remote participant");if(!t.data||!t.data.description)throw new Error("Empty server response for start video");return i=t.data.description.oid,t.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>Nn(this,Rn).startVideoForPeer(e,t))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",i))).catch((e=>{if("Remote participant"!==e.message)throw i&&Nn(this,Rn).createAnswer(Nn(this,vn),"default",i),bi.error(e),Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}stopAudioForPeer(e){let t=null;return this.checkInitialized().then((()=>(e===Nn(this,kn).id&&Nn(this,kn).updateAudioTransmitting(!1),Nn(this,Rn).stopAudioForPeer(e)))).then((()=>St.conferences.stopMedia({conferenceId:Nn(this,gn),peerId:e,data:{index:0,label:"camera",media:["audio"]}}))).then((i=>{if(e!==Nn(this,vn))throw new Error("Remote participant");if(!i.data||!i.data.description)throw new Error("Empty server response for stop audio");return t=i.data.description.oid,i.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",t))).catch((e=>{if("Remote participant"!==e.message)throw Nn(this,kn).updateAudioTransmitting(!0),Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}startAudioForPeer(e){let t=null;return this.checkInitialized().then((()=>St.conferences.startMedia({conferenceId:Nn(this,gn),peerId:e,data:{index:0,label:"camera",media:["audio"]}}))).then((i=>{if(e!==Nn(this,vn))throw new Error("Remote participant");if(!i.data||!i.data.description)throw new Error("Empty server response for start audio");return t=i.data.description.oid,i.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>(Nn(this,kn).updateAudioTransmitting(!0),Nn(this,Rn).startAudioForPeer(e)))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",t))).catch((e=>{if("Remote participant"!==e.message)throw Nn(this,kn).updateAudioTransmitting(!1),t&&Nn(this,Rn).createAnswer(Nn(this,vn),"default",t),bi.error(e),Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}startStream(e,t){const i=new Array,n=Nn(this,Rn).peers.find((e=>e.isMaster));let r=null;return e.getAudioTracks().length>0&&i.push("audio"),e.getVideoTracks().length>0&&i.push("video"),this.checkInitialized().then((()=>St.conferences.startMedia({conferenceId:Nn(this,gn),peerId:Nn(this,vn),data:{index:2,label:"custom",media:i}}))).then((e=>{if(!e.data||!e.data.description)throw new Error("Empty server response for start audio");return r=e.data.description.oid,e.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>Nn(this,Rn).addStream(e,n.connection,2))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",r))).catch((e=>{throw bi.error(e),Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}stopStream(e){}selectAudioInput(e){return this.checkInitialized().then((()=>Nn(this,Rn).selectAudioInput(e))).catch((e=>{throw Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}selectVideoInput(e,t){return this.checkInitialized().then((()=>Nn(this,Rn).selectVideoInput(e,t))).catch((e=>{throw Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}startScreenShare(e){let t=null,i=null;return Nn(this,Rn).startScreenShare(e).then((e=>(t=e,St.screen.start({conferenceId:Nn(this,gn)}).then((e=>{if(!e.data||!e.data.description)throw new Error("Empty server response for start audio");return i=e.data.description.oid,e.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>Nn(this,Rn).addMasterScreenStream(t))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",i))).catch((e=>{throw this.releaseScreenShare(),Te.send(ve.ConferenceGlobalError.fromData(e)),e})))))}changeScreenShare(e){let t=null;return Nn(this,Rn)?Nn(this,Rn).changeScreenShare(e).then((()=>St.conferences.renegociate({conferenceId:Nn(this,gn)}))).then((e=>{if(!e.data||!e.data.description)throw new Error("Empty server response");return t=e.data.description.oid,e.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",t))).catch((e=>{throw bi.error(e),Te.send(ve.ConferenceGlobalError.fromData(e)),e})):Promise.reject(Ge())}stopScreenShareLocally(){return this.checkInitialized().then((()=>Nn(this,Rn).stopScreenShare()))}releaseScreenShare(){return zn(this,void 0,void 0,(function*(){try{yield this.checkInitialized(),Nn(this,Rn).releaseScreenShare()}catch(e){throw e}}))}stopScreenShare(){let e=null;return this.checkInitialized().then((()=>Nn(this,Rn).stopScreenShare())).then((()=>{if(!Nn(this,Cn))return St.screen.stop({conferenceId:Nn(this,gn)}).then((t=>{if(!t.data||!t.data.description)throw new Error("Empty server response");return e=t.data.description.oid,t.data.description})).then((e=>Nn(this,On).push(Nn(this,Rn),Nn(this,Rn).setRemoteSdp,Nn(this,vn),e,""))).then((()=>Nn(this,Rn).createAnswer(Nn(this,vn),"default",e))).catch((e=>{throw Te.send(ve.ConferenceGlobalError.fromData(e)),e}))}))}meanOpinionScore(){const e=Nn(this,xn).map((e=>e.packetLost)).reduce(((e,t)=>e+t))/Nn(this,xn).length;return Math.max(1,Math.ceil(5-5*e/20))}leave({leaveRoom:e=!0,reason:t="hangUp",keepAlive:i=!1}={}){return zn(this,void 0,void 0,(function*(){Te.send(new ve.ConferenceLeaving),Nn(this,On)&&Nn(this,On).stop(),Ln(this,Cn,!0),Nn(this,Rn).isLeavingConference=!0;let n=Promise.resolve(),r=null;if(i)return St.conferences.leave({conferenceId:Nn(this,gn),keepAlive:i,data:{reason:t}});e&&null!=Nn(this,gn)&&(n=St.conferences.leave({conferenceId:Nn(this,gn),data:{reason:t}}).catch((e=>bi.info(e))));try{r=yield Nn(this,Rn).createStateDump({liteMode:!0})}catch(e){bi.info(e)}return n.then((e=>zn(this,void 0,void 0,(function*(){return yield this.releaseRtc(),r?Te.send(ve.ConferenceLeft.fromData(r)):Te.send(new ve.ConferenceLeft),Ln(this,_n,void 0),Ln(this,Cn,!1),bi.debug("Leave conference",this),Promise.resolve(e)}))))}))}releaseRtc(){return zn(this,void 0,void 0,(function*(){Nn(this,Rn)&&(yield Nn(this,Rn).release(),Nn(this,Rn).removeAllListeners()),Ln(this,Rn,null)}))}kick(e){return this.checkInitialized().then((()=>St.conferences.kick({conferenceId:Nn(this,gn),peerId:e}))).catch((e=>{throw e}))}onKicked(){Te.send(new ve.ConferenceLeft),this.releaseRtc()}checkInitialized(){return new Promise(((e,t)=>{Nn(this,Rn)||t(Ge()),e(!0)}))}onBandwidthRestrictionChanged(e){Te.send(ve.BandwidthRestrictionChanged.fromData({bandwidth:e}))}}(this,n)),Jr(this,Wr,!1),Jr(this,Yr,i),Jr(this,qr,r)}create(e){return $r(this,void 0,void 0,(function*(){const t=((i=(i=e)||{}).params=i.params||{},{alias:i.alias||"",type:i.type||"sdk_conf",preferredRegions:i.preferredRegions||[],pinCode:i.pinCode,params:Object.assign({ttl:i.params.ttl||0,multiSession:i.params.multiSession||!1,mode:i.params.mode||"standard",rtcpMode:i.params.rtcpMode||"average",stats:!!i.params.stats,currentLanguage:i.params.currentLanguage||"english",videoCodec:i.params.audioOnly?"NONE":i.params.videoCodec||"H264",liveRecording:i.params.liveRecording||"false",dolbyVoice:void 0===i.params.dolbyVoice?"true":i.params.dolbyVoice},i.params.spatialAudioStyle&&{spatialAudioStyle:i.params.spatialAudioStyle})});var i;const n=yield St.conferences.create({data:t});return n.data.ownerToken&&St.setConferenceTokens(n.data.conferenceId,n.data.ownerToken),this.onConferenceCreated(),Qn.fromCreateData(n.data)}))}fetch(e){return $r(this,void 0,void 0,(function*(){const t=new Qn(e),i=St.getConferenceToken(e);return i&&(t.permissions=this.getPermissionsFromToken(i)),t}))}demo(e={spatialAudio:!1}){return $r(this,void 0,void 0,(function*(){const t=yield St.conferences.getDemo();return yield this._join(Qn.fromCreateData(t.data),{spatialAudio:e.spatialAudio,conference:{isDemo:!0}})}))}replay(e,t={offset:0},i){return $r(this,void 0,void 0,(function*(){t.conferenceAccessToken?St.currentConferenceToken=t.conferenceAccessToken:St.setCurrentConferenceToken(e.id);let n=yield St.conferences.replay({conferenceId:e.id,data:{offset:t.offset}});return n.data.ownerToken&&St.setConferenceTokens(n.data.conferenceId,n.data.ownerToken),yield this._join(Qn.fromCreateData(n.data),{mixing:i},!0)}))}listen(e,t){return $r(this,void 0,void 0,(function*(){const i=t?Object.assign(Object.assign({},t),{constraints:{audio:!1,video:!1}}):{constraints:{audio:!1,video:!1}};return yield this._join(e,i,!0)}))}join(e,t){return $r(this,void 0,void 0,(function*(){if(Kr(this,Wr))throw new Error("Already joining a conference");return this._join(e,t,!1)}))}_join(e,t,i=!1){return $r(this,void 0,void 0,(function*(){try{if(!(null==e?void 0:e.id))throw new Le("The provided conference has invalid ID");let o=ui()?4:25;if(t.hasOwnProperty("maxVideoForwarding")&&void 0!==t.maxVideoForwarding&&("number"!=typeof t.maxVideoForwarding||!Number.isInteger(t.maxVideoForwarding)||t.maxVideoForwarding<0||t.maxVideoForwarding>o))throw new Oe(`The number of streams provided in the videoForwarding API is incorrect, valid values range from 0 to ${o}.`);if((null==t?void 0:t.forwardingStrategy)===on.ClosestUser&&!1===(null==t?void 0:t.spatialAudio))throw new Le("Unable to join a conference with closestUserStrategy and spatial audio disabled.");Jr(this,Wr,!0),void 0!==t.leaveConferenceOnBeforeUnload&&Jr(this,Gr,t.leaveConferenceOnBeforeUnload);const a=Object.assign({constraints:di({predefinedConstraints:t.constraints,mixingEnabled:!!t.mixing}),mixing:(n=e.id,r=t.mixing,{enabled:(r=r||{}).enabled||!1,uri:r.uri||n}),simulcast:ci(t.simulcast),preferSendMono:!("preferSendMono"in t)||t.preferSendMono,preferRecvMono:"preferRecvMono"in t&&t.preferRecvMono,maxVideoForwarding:t.maxVideoForwarding,forwardingStrategy:t.forwardingStrategy||on.LastSpeaker,dvwc:t.dvwc||!1,videoFilter:t.videoFilter,videoFilterOptions:Object.assign({},t.videoFilterOptions),supportedAVSyncFakeAudio:!0,supportedSpatialAudioStyles:[rr.Shared,rr.Disabled,rr.Individual]},t.spatialAudio&&{spatialAudio:t.spatialAudio});"audioTweaks"in t&&Object.defineProperty(a,"audioTweaks",{value:t.audioTweaks});const s=null;bi.setConferenceId(e.id),yield this.leave(),Jr(this,Ur,e),t.conferenceAccessToken?St.currentConferenceToken=t.conferenceAccessToken:St.setCurrentConferenceToken(e.id);let c=St.getCurrentConferenceToken();c&&(this.current.permissions=this.getPermissionsFromToken(c));const{metadata:u,conferenceAlias:d}=yield Kr(this,Lr).init(Kr(this,Nr).participant,e.id,a,s,i,e);"video"in a.constraints?"boolean"==typeof a.constraints.video||a.constraints.video instanceof Boolean?a.constraints.video?yield this.startVideoInternal(Kr(this,Nr).participant,{},t.videoProcessor):yield this.stopVideoInternal(Kr(this,Nr).participant):yield this.startVideoInternal(Kr(this,Nr).participant,a.constraints.video,t.videoProcessor):yield this.stopVideoInternal(Kr(this,Nr).participant);const l=!0===(null==t?void 0:t.spatialAudio)?(null==u?void 0:u.spatialAudioStyle)?null==u?void 0:u.spatialAudioStyle:rr.Individual:null;return Jr(this,Hr,(e=>{switch(e.style){case"individual":return new Cr(e.conferenceId,e.participantId);case"shared":return new zr(e.conferenceId,e.participantId);default:return}})({style:l,participantId:Kr(this,Nr).participant.id,conferenceId:e.id})),e.params=M.fromJoinData(u),e.status=$n.Joined,d&&"string"==typeof d&&(e.alias=d),Jr(this,Wr,!1),Kr(this,Ur)}catch(e){throw Jr(this,Ur,null),Jr(this,Wr,!1),e}var n,r}))}updatePermissions(e){return $r(this,void 0,void 0,(function*(){return Kr(this,Lr).updatePermissions(e)}))}leave(e={}){var t;return $r(this,void 0,void 0,(function*(){const i=e.leaveRoom||!0,n=e.reason||"hangUp",r=e.keepAlive||!1;null!==this._conferenceId&&Kr(this,Ur)&&Kr(this,Lr)&&!Kr(this,Lr).isLeaving&&((null===(t=Kr(this,Ur).params)||void 0===t?void 0:t.dolbyVoice)&&Kr(this,Lr).participants.forEach(((e,t)=>{if(e.id!==Kr(this,Nr).participant.id){const t=e.streams.filter((e=>e.type===Xt.Camera)),i=e.streams.filter((e=>e.type===Xt.ScreenShare)),n=t.length>0&&t[0].getVideoTracks()[0];if(i.length>0&&this.emit(Qr.StreamRemoved,e,i[0]),e.audioTransmitting&&!n&&!Kr(this,Yr).get(e.id)){this.emit(Qr.StreamRemoved,e,new Kt(new MediaStream));const t=Kr(this,Vr).indexOf(e.id);t>-1&&Kr(this,Vr).splice(t,1)}}})),Kr(this,Hr)&&Kr(this,Hr).release(),yield Kr(this,Lr).leave({leaveRoom:i,reason:n,keepAlive:r}),Kr(this,Lr).clear(),Jr(this,Ur,null),Jr(this,Hr,null))}))}playBlockedAudio(){return $r(this,void 0,void 0,(function*(){yield Kr(this,Lr).rtc.playBlockedAudio()}))}mute(e,t){if(Kr(this,Ur)&&Kr(this,Ur).params.dolbyVoice&&Kr(this,Nr).participant.id!==e.id)throw new Ae;if(!this.current.permissions.has(Jn.SendAudio))throw Be();this.manager.setLocalStateMute(t),this.manager.rtc.mutePeer(e.id,t)}toggleMute(e){if(Kr(this,Ur)&&Kr(this,Ur).params.dolbyVoice&&Kr(this,Nr).participant.id!==e.id)throw new Ae;if(this.current.permissions.has(Jn.SendAudio))return Kr(this,Lr).setLocalStateMute(!Kr(this,Lr).localStateMute),Kr(this,Lr).rtc.toggleMute(e.id);throw Be()}isMuted(){return Kr(this,Lr).rtc.isOwnMuted()}audioLevel(e,t){if(Kr(this,Ur)&&Kr(this,Ur).params.dolbyVoice&&Kr(this,Nr).participant.id!==e.id)throw new Ae;return Kr(this,Lr).rtc.getLevel(e.id,t)}isSpeaking(e,t){if(Kr(this,Ur)){const i=this.participants.get(e.id);if(!(Kr(this,Ur).params.dolbyVoice&&!Kr(this,Lr).isElectron()||Kr(this,Lr).isElectron()&&i===Kr(this,Nr).participant))return Kr(this,Lr).rtc.isSpeaking(e.id,t);t(!(!i||!i.active))}}startStream(e,t=Xt.Custom){return Kr(this,Lr).startStream(e,t)}stopStream(e){}startVideo(e,t){return this.startVideoInternal(e,t)}startVideoInternal(e,t,i){return e.id===Kr(this,Nr).participant.id?Kr(this,qr).start(t,i).then((()=>Promise.resolve())):Kr(this,Lr).startVideoForPeer(e.id)}stopVideo(e){return this.stopVideoInternal(e)}stopVideoInternal(e,t){return e.id===Kr(this,Nr).participant.id?Kr(this,qr).stop():Kr(this,Lr).stopVideoForPeer(e.id)}videoForwarding(e,t){return $r(this,void 0,void 0,(function*(){let i=Kr(this,Lr).maxVideoForwarding,n=Kr(this,Lr).videoForwardingStrategy;if("object"==typeof e){if(i=void 0!==e.max?e.max:Kr(this,Lr).maxVideoForwarding,n=e.strategy||Kr(this,Lr).videoForwardingStrategy,t=e.participants||Kr(this,Lr).forwardingParticipantList,n===on.ClosestUser&&!Kr(this,Hr))throw new Le("Unable to join a conference with closestUserStrategy and spatial audio disabled.")}else i=e;let r=ui()?4:25;if("number"!=typeof i||!Number.isInteger(i)||i<0||i>r)throw new Oe("The number of streams provided in the videoForwarding API is incorrect, valid values range from 0 to "+r+".");if(i!==Kr(this,Lr).maxVideoForwarding||n!==Kr(this,Lr).videoForwardingStrategy||t.length!==Kr(this,Lr).forwardingParticipantList.length||!t.every(((e,t)=>{var i;return e.id===(null===(i=Kr(this,Lr).forwardingParticipantList[t])||void 0===i?void 0:i.id)})))return Kr(this,Lr).videoForwarding(n,i,t)}))}audioProcessing(e,t){return $r(this,void 0,void 0,(function*(){if(Kr(this,Lr).isDvwc()||Kr(this,Lr).isElectron())yield Kr(this,Lr).rtc.setTransparentMode(!t.send.audioProcessing);else{const i={send:{audioProcessing:!!(t||{}).send.audioProcessing}};yield St.conferences.audioProcessing({conferenceId:this._conferenceId,peerId:e.id,data:i})}}))}startAudio(e){if(Kr(this,Nr).participant.id===e.id&&[l.LISTENER,l.MIXER].includes(Kr(this,Nr).participant.type))throw new Ae;if(Kr(this,Nr).participant.id!==e.id&&this.current&&this.current.params.dolbyVoice&&[l.LISTENER].includes(Kr(this,Nr).participant.type))throw new Ae;return Kr(this,Lr).startAudioForPeer(e.id).then((()=>{if(Kr(this,Nr).participant.id!==e.id){let t=e.audioTransmitting;e.updateAudioReceivingStopped(!1),this.onParticipantUpdatedHandleStreams(e,t,e.audioTransmitting)}}))}stopAudio(e){if(Kr(this,Nr).participant.id===e.id&&[l.LISTENER,l.MIXER].includes(Kr(this,Nr).participant.type))throw new Ae;if(Kr(this,Nr).participant.id!==e.id&&this.current&&this.current.params.dolbyVoice&&[l.LISTENER].includes(Kr(this,Nr).participant.type))throw new Ae;return Kr(this,Lr).stopAudioForPeer(e.id).then((()=>{if(Kr(this,Nr).participant.id!==e.id){let t=e.audioTransmitting;e.updateAudioReceivingStopped(!0),this.onParticipantUpdatedHandleStreams(e,t,e.audioTransmitting)}}))}startScreenShare(e){return Kr(this,Lr).startScreenShare(e||null)}stopScreenShare(){return Kr(this,Lr).stopScreenShare()}localStats(){return Kr(this,Lr).rtc.getRtpStats()}simulcast(e){return St.conferences.simulcast({conferenceId:this._conferenceId,data:{requested:e}})}kick(e){return $r(this,void 0,void 0,(function*(){return Kr(this,Lr).kick(e.id)}))}createStateDump(){return $r(this,void 0,void 0,(function*(){return Kr(this,Lr).rtc.createStateDump()}))}getStateDumpConfiguration(){return $r(this,void 0,void 0,(function*(){return Kr(this,Lr).rtc.getStateDumpConfiguration()}))}configureStateDump(e){return $r(this,void 0,void 0,(function*(){return Kr(this,Lr).rtc.configureStateDump(e)}))}setSpatialPosition(e,t){var i;if(3!==Object.values(t).length||Object.values(t).some((e=>null===e||void 0))||!t)throw new Le("ConferenceService::setSpatialPosition needs to supply all (x, y, z) for position");if(!Kr(this,Ur)||!(null===(i=Kr(this,Ur).params)||void 0===i?void 0:i.dolbyVoice)||!Kr(this,Hr)||Kr(this,Lr).listenOnly)throw new Ae;Kr(this,Hr).setParticipantPosition(e,t)}setSpatialDirection(e,t){var i;if(null==(null==t?void 0:t.x)||null==(null==t?void 0:t.y)||null==(null==t?void 0:t.z))throw new Le("ConferenceService::setSpatialDirection needs to supply all (x, y, z) for direction");if(!Kr(this,Ur)||!(null===(i=Kr(this,Ur).params)||void 0===i?void 0:i.dolbyVoice)||!Kr(this,Hr)||Kr(this,Lr).listenOnly)throw new Ae;if(Kr(this,Nr).participant.id!==e.id)throw new Ae;Kr(this,Hr).setLocalDirection(t)}setSpatialEnvironment(e,t,i,n){var r;if([e,t,i,n].forEach((e=>{if(null==(null==e?void 0:e.x)||null==(null==e?void 0:e.y)||null==(null==e?void 0:e.z))throw new Le("ConferenceService::setSpatialEnvironment needs to supply all (x, y, z) for scale")})),!Kr(this,Ur)||!(null===(r=Kr(this,Ur).params)||void 0===r?void 0:r.dolbyVoice)||!Kr(this,Hr)||Kr(this,Lr).listenOnly)throw new Ae;Kr(this,Hr).setEnvironment({scale:e,forward:t,up:i,right:n})}qualityIndicators(e){var t;return $r(this,void 0,void 0,(function*(){const i=new Map;(null===(t=Kr(this,Ur).params)||void 0===t?void 0:t.dolbyVoice)?this.participants.forEach(((t,n)=>{if(t.status==ie.CONNECTED){let r=-1;e.forEach(((e,i)=>{if(i===t.id){const t=e.filter((e=>"Scores"===e.id));t.length>0&&(r=t[0].video)}})),i.set(n,{audio:t.audioQuality?t.audioQuality:-1,video:r})}})):e.forEach(((e,t)=>{const n=e.filter((e=>"Scores"===e.id));n.length>0&&i.set(t,{audio:n[0].audio,video:n[0].video})})),this.emit(Qr.QualityIndicators,i)}))}onConferenceCreated(){this.emit(Qr.Created)}onConferenceJoined(e){this._conferenceId=e.conferenceId,Jr(this,Br,setInterval((()=>$r(this,void 0,void 0,(function*(){const e=yield this.localStats();this.qualityIndicators(e)}))),5e3)),this.emit(Qr.Joined)}onConferenceLeft(e){this._conferenceId=null,Kr(this,Br)&&(clearInterval(Kr(this,Br)),Jr(this,Br,null)),Kr(this,qr).stop().catch((e=>console.error(e))),this.emit(Qr.Left)}onConferenceEnded(e){this.emit(Qr.Ended)}onConferenceDestroyed(e){return $r(this,void 0,void 0,(function*(){e.conferenceId===this._conferenceId&&(yield this.leave(),this.emit(Qr.Ended,e))}))}onConferenceStats(e){this.emit(Qr.Stats,e)}onConferenceGlobalError(e){return $r(this,void 0,void 0,(function*(){this.current&&this.current.id&&(class{static reportError(e,t){return i=this,n=void 0,o=function*(){if(e&&e.error){let i;if(e.error instanceof xe?i=new an("MediaStreamError",`${e.error.name} - ${e.error.message}`):e.error instanceof Ee&&"PeerNotFoundError"!=e.error.name||e.error instanceof De?i=new an(e.error.name,e.error.message):e.error instanceof Ue&&(i=new an("DvcError",`${e.error.name}: ${e.error.message}`)),i)try{St.conferences.error({conferenceId:t,data:JSON.stringify(i)})}catch(e){console.error(e)}}},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(a,s)}c((o=o.apply(i,n||[])).next())}));var i,n,r,o}}.reportError(e,this.current.id),e.error instanceof Ue&&(yield this.leave())),this.emit(Qr.Error,e.error)}))}onOfferCreated(e){Kr(this,Lr).setRemoteOffer(e)}onActiveSpeakerChange(e){this.participants.forEach(((t,i)=>{t.active=!!e.speakers.includes(t.id)}))}onVideoForwardedChanged(e){const t=new Map([...this.participants].filter((([e,t])=>(t.status===ie.CONNECTED||t.status===ie.CONNECTING)&&"user"===t.type||"robot"===t.type)));Kr(this,Lr).forwardedParticipants.clear();for(let[i,n]of t)n.id!==Kr(this,Nr).participant.id&&e.videoForwardedId.includes(i)&&Kr(this,Lr).forwardedParticipants.set(i,n);const i=Array.from(t.keys()).filter((t=>!e.videoForwardedId.includes(t)&&t!==Kr(this,Nr).participant.id)),n=Array.from(t.keys()).filter((t=>e.videoForwardedId.includes(t)&&t!==Kr(this,Nr).participant.id));i.forEach((e=>{var t;const i=this.participants.get(e),n=i.streams.filter((e=>e.type===Xt.Camera));if(n.length<=0)return;const r=n[0].getVideoTracks();r&&r.length>0&&(r.forEach((e=>n[0].removeTrack(e))),Kr(this,Yr).has(i.id)||(Kr(this,Yr).set(i.id,r),this.emit(Qr.StreamUpdated,i,(null===(t=this.current.params)||void 0===t?void 0:t.dolbyVoice)&&i.audio?new Kt(n[0]):n[0])))})),n.forEach((e=>{var t;const i=this.participants.get(e),n=i.streams.filter((e=>e.type===Xt.Camera));if(n.length<=0)return;const r=Kr(this,Yr).get(e);r&&r.length>0&&r.forEach((e=>n[0].addTrack(e))),Kr(this,Yr).has(i.id)&&(Kr(this,Yr).delete(i.id),this.emit(Qr.StreamUpdated,i,(null===(t=this.current.params)||void 0===t?void 0:t.dolbyVoice)&&i.audio?new Kt(n[0]):n[0]))}))}onDvcsMetric(e){if("GetLevel"===e.name){const t=e.value,i=2,n=-40,r=-15,o=Math.exp(i*((t-n)/(r-n)-1));this.participants.get(e.userId).level=-90==t?0:o}else if("GetQuality"===e.name&&e.value>0){const t=this.participants.get(e.userId);t&&(t.audioQuality=e.value)}}onUpdateToken(e){St.setConferenceTokens(e.conferenceId,e.conferenceAccessToken),St.currentConferenceToken=e.conferenceAccessToken,this.updatePermissionsFromToken(e.conferenceAccessToken)}updatePermissionsFromToken(e){let t=this.getPermissionsFromToken(e);var i;if(this.current&&(!this.current.permissions||(i=this.current.permissions).size!==t.size||![...i].every((e=>t.has(e))))){const e=Kr(this,Nr).participant.streams.filter((e=>e.type===Xt.Camera)),i=Kr(this,Nr).participant.streams.filter((e=>e.type===Xt.ScreenShare));e.length>0&&e[0].getVideoTracks().length>0&&!t.has(Jn.SendVideo)&&Kr(this,Lr).stopVideoLocally(Kr(this,Nr).participant.id),i.length>0&&!t.has(Jn.ShareScreen)&&Kr(this,Lr).stopScreenShareLocally(),e.length>0&&e[0].getAudioTracks().length>0&&this.current.permissions.has(Jn.SendAudio)&&!t.has(Jn.SendAudio)&&Kr(this,Lr).rtc.stopAudioForPeer(Kr(this,Nr).participant.id),this.current.permissions=new Set(t),this.emit(Qr.PermissionsUpdated,this.current.permissions)}}getPermissionsFromToken(e){let t=or(e);return new Set(t.authorities)}onParticipantAdded(e){var t;let i=this.participants.get(e.userId);if(i?(i=Kr(this,Lr).updateParticipant(e),this.emit(Qr.ParticipantUpdated,i),Zr("participant updated: ",i)):(i=Kr(this,Lr).addParticipant(e),this.emit(Qr.ParticipantAdded,i),Zr("participant added: ",i)),null===(t=this.current.params)||void 0===t?void 0:t.dolbyVoice){const e=i.audioTransmitting,t=i.streams.filter((e=>e.type===Xt.Camera)),n=t.length>0&&t[0].getVideoTracks(),r=n.length>0&&n[0];!e||r||Kr(this,Yr).get(i.id)||(Kr(this,Vr).push(i.id),this.emit(Qr.StreamAdded,i,new Kt(new MediaStream)))}}clearStream(e,t){const i=e.streams.filter((e=>e.type===Xt.Camera));if(i.length<=0)return t;const n=i[0].getVideoTracks();return n&&n.length>0&&(Kr(this,Yr).set(e.id,n),n.forEach((e=>i[0].removeTrack(e)))),i[0]}onParticipantUpdated(e){const t=this.participants.get(e.userId),i=t&&t.audioTransmitting,n=Kr(this,Lr).updateParticipant(e);"Left"===n.status&&Kr(this,Hr)&&Kr(this,Hr)instanceof Cr&&Kr(this,Hr).removeParticipant(n.id),Zr("participant updated: ",n),t?this.emit(Qr.ParticipantUpdated,n):this.emit(Qr.ParticipantAdded,n),this.onParticipantUpdatedHandleStreams(n,i,n.audioTransmitting)}onParticipantUpdatedHandleStreams(e,t,i){var n;if(e.id===Kr(this,Nr).participant.id)return;const r=e.streams.filter((e=>e.type===Xt.Camera)),o=r.length>0&&r[0].getVideoTracks(),a=o.length>0&&o[0];if(null===(n=this.current.params)||void 0===n?void 0:n.dolbyVoice)if(i){if(!t)if(a||Kr(this,Yr).get(e.id))this.emit(Qr.StreamUpdated,e,new Kt(r[0]?r[0]:new MediaStream));else{const t=new Kt(new MediaStream);e.streams.push(t),Kr(this,Vr).push(e.id),this.emit(Qr.StreamAdded,e,t)}}else t&&(a||void 0!==Kr(this,Yr).get(e.id)&&0!==Kr(this,Yr).get(e.id).length?"Left"!==e.status&&this.emit(Qr.StreamUpdated,e,r[0]):(e.streams=e.streams.filter((e=>!(e.getAudioTracks().length&&"fakeAudioTrack"===e.getAudioTracks()[0].id))),this.emit(Qr.StreamRemoved,e,new Kt(new MediaStream))))}onParticipantKicked(e){e.status="KICKED";const t=Kr(this,Lr).updateParticipant(e);t&&(this.emit(Qr.ParticipantUpdated,t),Kr(this,Lr).onKicked(),Kr(this,Lr).clear(),Jr(this,Ur,null))}onParticipantSwitched(e){Kr(this,Lr).participantSwitched(e)}onOwnParticipantSwitched(e){this.emit(Qr.Switched),this.leave({leaveRoom:!1})}onAudioUpdated(e){this.onParticipantUpdatedHandleStreams(e.participant,e.previousAudioTransmitting,e.audioTransmitting)}onAutoplayBlocked(){this.emit(Qr.AutoplayBlocked)}onStreamAdded(e,t){setTimeout((()=>{var i;let n=this.participants.get(e);if(t&&n)if(n.streams.push(t),n.streams=n.streams.filter((e=>!(e.getAudioTracks().length&&"fakeAudioTrack"===e.getAudioTracks()[0].id))),null===(i=this.current.params)||void 0===i?void 0:i.dolbyVoice){if(n.id===Kr(this,Nr).participant.id)return void this.emit(Qr.StreamAdded,n,t);if(t.type===Xt.ScreenShare)return void this.emit(Qr.StreamAdded,n,t);const e=n.audioTransmitting,i=Array.from(Kr(this,Lr).forwardedParticipants.keys()).includes(n.id)?t:this.clearStream(n,t);Kr(this,Vr).includes(n.id)?e?this.emit(Qr.StreamUpdated,n,new Kt(i)):this.emit(Qr.StreamUpdated,n,i):(Kr(this,Vr).push(n.id),e?this.emit(Qr.StreamAdded,n,new Kt(i)):this.emit(Qr.StreamAdded,n,i))}else{if(n.id===Kr(this,Nr).participant.id)return void this.emit(Qr.StreamAdded,n,t);if(t.type===Xt.ScreenShare)return void this.emit(Qr.StreamAdded,n,t);const e=Array.from(Kr(this,Lr).forwardedParticipants.keys()).includes(n.id)?t:this.clearStream(n,t);this.emit(Qr.StreamAdded,n,e)}else/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(e)||console.warn(`Unable to find participant: ${e}`)}),0)}onStreamUpdated(e,t){setTimeout((()=>{let i=this.participants.get(e);i?(i.streams=i.streams.filter((e=>e.id!==t.id)),i.streams=i.streams.filter((e=>!(e.getAudioTracks().length&&"fakeAudioTrack"===e.getAudioTracks()[0].id))),i.streams.push(t),e===Kr(this,Nr).participant.id||Kr(this,Lr).forwardedParticipants.has(e)||this.clearStream(i,t),this.emit(Qr.StreamUpdated,i,t)):/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(e)||console.warn(`Unable to find participant: ${e}`)}),0)}onStreamRemoved(e,t){var i;let n=this.participants.get(e);if(!n)return void(/^0{8}-0{4}-0{4}-0{4}-0{12}$/gm.test(e)||console.warn(`Unable to find participant: ${e}`));n.streams=n.streams.filter((e=>e.id!==t.id));const r=null===(i=this.current.params)||void 0===i?void 0:i.dolbyVoice;if(!r)return void setTimeout((()=>{this.emit(Qr.StreamRemoved,n,t)}),0);const o=t&&t.getVideoTracks()[0],a=t.type===Xt.ScreenShare,s=Array.from(Kr(this,Lr).forwardedParticipants.keys()).includes(n.id);if(n.id!==Kr(this,Nr).participant.id)if(n.status!==ie.LEFT&&Kr(this,Nr).participant.status!==ie.LEFT)setTimeout((()=>{if(r){if(!n.audioTransmitting){this.emit(Qr.StreamRemoved,n,t);const e=Kr(this,Vr).indexOf(n.id);return void(e>-1&&Kr(this,Vr).splice(e,1))}if(o){this.emit(Qr.StreamRemoved,n,t);const e=Kr(this,Vr).indexOf(n.id);e>-1&&Kr(this,Vr).splice(e,1)}else if(a){this.emit(Qr.StreamRemoved,n,t);const e=Kr(this,Vr).indexOf(n.id);e>-1&&Kr(this,Vr).splice(e,1)}else{if(!s){this.emit(Qr.StreamRemoved,n,t);const e=Kr(this,Vr).indexOf(n.id);return void(e>-1&&Kr(this,Vr).splice(e,1))}const e=new Kt(t);n.streams.push(e),this.emit(Qr.StreamUpdated,n,e)}}}),0);else{this.emit(Qr.StreamRemoved,n,t);const e=Kr(this,Vr).indexOf(n.id);e>-1&&Kr(this,Vr).splice(e,1)}else this.emit(Qr.StreamRemoved,n,t)}get peerConnectionStatus(){return Kr(this,Lr).getPeerConnectionStatus()}get participants(){return Kr(this,Lr)?Kr(this,Lr).participants:new Map}get maxVideoForwarding(){return Kr(this,Lr)?Kr(this,Lr).maxVideoForwarding:void 0}get videoForwardingStrategy(){return Kr(this,Lr).videoForwardingStrategy}get current(){return Kr(this,Ur)}get manager(){return Kr(this,Lr)}get spatialAudioStyle(){return Kr(this,Hr)instanceof Cr?rr.Individual:Kr(this,Hr)instanceof zr?rr.Shared:null}get leaveConferenceOnBeforeUnload(){return Kr(this,Gr)}onLocalVideoStarted(e){this._conferenceId&&Kr(this,Lr).startVideoForPeer(Kr(this,Nr).participant.id,e.track).catch((e=>console.error(e)))}onLocalVideoStopped(e){this._conferenceId&&Kr(this,Lr).stopVideoForPeer(Kr(this,Nr).participant.id).catch((e=>console.error(e)))}};Lr=new WeakMap,Nr=new WeakMap,Ur=new WeakMap,Vr=new WeakMap,Br=new WeakMap,Wr=new WeakMap,Gr=new WeakMap,Hr=new WeakMap,Yr=new WeakMap,qr=new WeakMap,Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"playBlockedAudio",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"mute",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"toggleMute",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"isMuted",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"audioLevel",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"isSpeaking",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"startStream",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"stopStream",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"startVideo",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"stopVideo",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"videoForwarding",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"audioProcessing",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"startAudio",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"stopAudio",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"startScreenShare",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"stopScreenShare",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"localStats",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"simulcast",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"kick",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"createStateDump",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"getStateDumpConfiguration",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"configureStateDump",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"setSpatialPosition",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"setSpatialDirection",null),Xr([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],eo.prototype,"setSpatialEnvironment",null),eo=Xr([$e([ke.ConferenceGlobalError,ke.OfferCreated,ke.ParticipantAdded,ke.ParticipantUpdated,ke.ParticipantSwitched,ke.OwnParticipantSwitched,ke.ConferenceStats,ke.ConferenceDestroyed,ke.DvcsMetric,ke.ActiveSpeakerChange,ke.VideoForwardedChanged,ke.UpdateToken,ke.ParticipantKicked,ke.LocalVideoStarted,ke.LocalVideoStopped,ke.AudioUpdated])],eo);class to{constructor(e,t){this.participantId=e,this.startTimestamp=t}}var io,no=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},ro=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},oo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const ao="statusUpdated";var so;!function(e){e.Recording="RECORDING",e.NotRecording="NOT_RECORDING"}(so||(so={}));let co=class extends Xe{constructor(e){super(e),io.set(this,null)}start(){return St.conferences.startRecording({conferenceId:this._conferenceId})}stop(){return St.conferences.stopRecording({conferenceId:this._conferenceId})}onConferenceJoined(e){super.onConferenceJoined(e),this.onRecordingStatusUpdated(Z.fromJoinEvent(e))}onConferenceLeft(e){super.onConferenceLeft(e),ro(this,io,null)}onRecordingStatusUpdated(e){if(e.status===so.NotRecording){if(null!==oo(this,io)){const e=oo(this,io),t=!1;ro(this,io,null),this.emit(ao,t,e)}}else if(e.status===so.Recording){const t=!0;ro(this,io,new to(e.participantId,e.startTimestamp)),this.emit(ao,t,oo(this,io))}}get current(){return oo(this,io)}};io=new WeakMap,no([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],co.prototype,"start",null),no([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],co.prototype,"stop",null),co=no([$e([ke.RecordingStatusUpdated])],co);var uo,lo,ho,po,mo,fo,go,vo,ko,yo,bo,wo,_o,So,jo,To,Co,Eo,xo,Mo,Po,Io,Ro=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Do=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const Ao=be()("vxt:ws");class Oo{constructor(e,t,i){uo.set(this,void 0),lo.set(this,void 0),ho.set(this,3e4),po.set(this,50),mo.set(this,2e3),fo.set(this,2e3),go.set(this,6e4),vo.set(this,3e5),ko.set(this,!1),yo.set(this,void 0),bo.set(this,void 0),wo.set(this,void 0),_o.set(this,0),So.set(this,void 0),jo.set(this,void 0),To.set(this,void 0),Co.set(this,!1),Eo.set(this,!1),xo.set(this,void 0),Mo.set(this,null),Po.set(this,null),Io.set(this,[]),Ro(this,uo,e),Ro(this,yo,t),Ro(this,wo,i)}openSession(){return Ro(this,ko,!1),Ro(this,lo,new WebSocket(`${Do(this,uo)}/v2/session?Voxeet-Id=${Do(this,yo)}&Token=${Do(this,wo)}`,undefined)),Do(this,lo).onmessage=this.onMessage.bind(this),Do(this,lo).onopen=this.onOpen.bind(this),Do(this,lo).onclose=this.onClose.bind(this),Do(this,lo).onerror=this.onError.bind(this),this.startKeepAlive(),Do(this,Co)&&Ro(this,jo,setTimeout((()=>{Ro(this,Co,!1),this.closeSession(),Ro(this,ko,!1),this.handleReconnection()}),Do(this,fo))),new Promise(((e,t)=>{Do(this,Mo)||Do(this,Po)||(Ro(this,Mo,e),Ro(this,Po,t))}))}closeSession(){Ro(this,ko,!0),this.stopKeepAlive(),Do(this,lo)&&(Do(this,lo).close(1e3,"Close session."),Ro(this,lo,null)),Ro(this,Io,[])}startKeepAlive(){this.stopKeepAlive(),Ro(this,So,setInterval((()=>{Do(this,lo)&&(Do(this,lo).readyState===WebSocket.CLOSED?this.openSession():this.send({type:"keep_alive"},!0))}),Do(this,ho)))}stopKeepAlive(){Do(this,So)&&clearInterval(Do(this,So))}send(e,t=!1){Ao("Sending message: ",e),e.message_id||(e.message_id=Ro(this,_o,+Do(this,_o)+1)),Do(this,lo).readyState===WebSocket.CONNECTING?Do(this,Io).push(e):Do(this,lo).send(JSON.stringify(e))}isOpen(){return!!Do(this,lo)&&Do(this,lo).readyState===WebSocket.OPEN}onOpen(){for(Ao("WebSocket opened"),Ro(this,Co,!1),Do(this,Mo)&&(Do(this,Mo).call(this),Ro(this,Po,null),Ro(this,Mo,null)),Do(this,jo)&&(clearTimeout(Do(this,jo)),Ro(this,jo,null),Ro(this,po,50)),Do(this,To)&&(clearTimeout(Do(this,To)),Ro(this,To,null));Do(this,Io).length;){const e=Do(this,Io).shift();this.send(e)}}onClose(e){if(Ao("WebSocket closed"),Ro(this,lo,null),e.code>1e3)try{Te.send(L.fromData(new De(`${e.code} - ${e.reason}`)))}catch(e){if("WebSocketError"!==e.name)throw e;console.error(e)}this.handleReconnection()}handleReconnection(){if(!Do(this,ko)&&(Do(this,To)||Ro(this,To,setTimeout((()=>{Ro(this,Eo,!0);const e=new De("Reconnection timed out");Do(this,Po)&&(Do(this,Po).call(this,e),Ro(this,Po,null),Ro(this,Mo,null)),Te.send(L.fromData(e))}),Do(this,go))),!Do(this,Co)&&!Do(this,Eo))){Ro(this,Co,!0),setTimeout((()=>{this.openSession()}),Do(this,po));let e=2*Do(this,po);Ro(this,po,e>Do(this,mo)?Do(this,mo):e)}}onError(e){console.error(e)}onMessage(e){let t;e.data&&(t=JSON.parse(e.data)),Ao("Received data:",t.type,t),"UpdateToken"===t.type&&this.send({ackMessageUuid:t.amu}),Te.send(class{constructor(){}static fromData(e){if(e&&e.type){const t=e.type.replace(/(^[a-z])/,(e=>e.toUpperCase())).replace(/(\_\w)/g,(e=>e[1].toUpperCase())).replace(/Push/g,(e=>"")).replace(/Event/g,(e=>""));if("function"==typeof Se[t])return"function"==typeof Se[t].fromData?Se[t].fromData(e):new Se[t](Object.assign({},e))}}}.fromData(t))}}uo=new WeakMap,lo=new WeakMap,ho=new WeakMap,po=new WeakMap,mo=new WeakMap,fo=new WeakMap,go=new WeakMap,vo=new WeakMap,ko=new WeakMap,yo=new WeakMap,bo=new WeakMap,wo=new WeakMap,_o=new WeakMap,So=new WeakMap,jo=new WeakMap,To=new WeakMap,Co=new WeakMap,Eo=new WeakMap,xo=new WeakMap,Mo=new WeakMap,Po=new WeakMap,Io=new WeakMap;class Fo extends m{constructor(){super(ke.SessionClosed)}static fromData(){return new Fo}}var zo,Lo,No,Uo,Vo,Bo,Wo,Go,Ho,Yo=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},qo=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Xo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};let $o=class extends qe{constructor(e){super(e),this.wsHost="wss://comms.sdk.dolby.io",zo.set(this,void 0),Lo.set(this,void 0),No.set(this,void 0),Uo.set(this,void 0),Vo.set(this,void 0),Bo.set(this,void 0),Wo.set(this,void 0),Go.set(this,void 0),Ho.set(this,void 0)}onConferenceLeaving(e){return Yo(this,void 0,void 0,(function*(){qo(this,Go,setTimeout(this.leaveConferenceTimeoutExpired.bind(this),1e3))}))}onConferenceLeft(e){return Yo(this,void 0,void 0,(function*(){this.leaveConferenceTimeoutExpired()}))}leaveConferenceTimeoutExpired(){var e;Xo(this,Go)&&(clearTimeout(Xo(this,Go)),qo(this,Go,null)),(null===(e=Xo(this,Wo))||void 0===e?void 0:e.length)&&(Xo(this,Wo).forEach((e=>e())),qo(this,Wo,[]))}register(){return Yo(this,void 0,void 0,(function*(){if(!this.isTokenValid(St.accessToken))if(St.getTokenCallback()){const e=!0,t=yield St.getTokenCallback()(e);if(!t)throw He();St.accessToken=t}else{if(!this.customerKey||!this.customerSecret)throw new Error("Uninitialized VoxeetSDK");St.tokenCallback=this.refreshToken.bind(this);const{data:{access_token:e,refresh_token:t}}=yield St.init.register({headers:{Authorization:"Basic "+btoa(encodeURI(Xo(this,Lo))+":"+encodeURI(Xo(this,No)))},data:{grant_type:"client_credentials"}});St.accessToken=e&&e,St.refreshToken=t&&t,St.leavingCallback=()=>{Qu.conference.leave()}}this.startAccessTokenExpirationTimeouts()}))}open(e={}){return Yo(this,void 0,void 0,(function*(){if(Xo(this,zo))throw new Ne("A session has already been opened");qo(this,Go,null),qo(this,Wo,[]),yield this.register();const t=e;t.sdkVersion=Qu.version;let i=yield St.init.identify({data:t});qo(this,Ho,new oe(i.data.user_id)),Xo(this,Ho).info=e,Xo(this,Ho).updateAudioReceivingStopped(!0),St.jwtToken=i.data.jwt_user_token,St.wsHost="devssl"===Qu.flavor&&(i.data.wsUri.startsWith("wss://ws")||St.wsHost.startsWith("wss://devssl.voxeet.com"))?St.wsHost:i.data.wsUri,qo(this,zo,new Oo(St.wsHost,St.getHashId(),St.jwtToken)),yield Xo(this,zo).openSession(),Te.send(new pe)}))}close(){return new Promise(((e,t)=>{Xo(this,Go)?(Xo(this,Wo)||qo(this,Wo,[]),Xo(this,Wo).push(e)):e()})).then((()=>St.init.logout().then((()=>{St.jwtToken=null,qo(this,Ho,null),Xo(this,zo).closeSession(),qo(this,zo,null),Te.send(new Fo)}))))}refreshToken(){return St.accessToken=null,St.init.refresh({headers:{Authorization:"Basic "+btoa(encodeURI(Xo(this,Lo))+":"+encodeURI(Xo(this,No)))},data:{refresh_token:St.refreshToken}}).then((e=>(St.accessToken=e.data.access_token,e.data.access_token)))}get participant(){return Xo(this,Ho)}get customerKey(){return Xo(this,Lo)}get customerSecret(){return Xo(this,No)}refreshAccessToken(){return St.getTokenCallback()?St.getTokenCallback()(St.isTokenExpired()).then((e=>{if(!e)throw He();St.accessToken=e,this.startAccessTokenExpirationTimeouts()})):this.refreshToken()}accessTokenTimeoutHalfExpiration(){St.getTokenCallback()(St.isTokenExpired()).then((e=>{if(!e)throw He();St.accessToken=e,this.startAccessTokenExpirationTimeouts()}))}accessTokenTimeoutThreeQuarterExpiration(){St.getTokenCallback()(St.isTokenExpired()).then((e=>{if(!e)throw He();St.accessToken=e,this.startAccessTokenExpirationTimeouts()}))}accessTokenTimeoutExpired(){St.getTokenCallback()(St.isTokenExpired()).then((e=>{if(!e)throw He();St.accessToken=e,Qu.conference.leave()}))}startAccessTokenExpirationTimeouts(){return Yo(this,void 0,void 0,(function*(){const{exp:e}=or(St.accessToken);clearTimeout(Xo(this,Uo)),clearTimeout(Xo(this,Vo)),clearTimeout(Xo(this,Bo)),St.accessTokenExpiration=e,qo(this,Uo,setTimeout(this.accessTokenTimeoutHalfExpiration.bind(this),1e3*(St.accessTokenExpiration-(new Date).getTime()/1e3)/2)),qo(this,Vo,setTimeout(this.accessTokenTimeoutThreeQuarterExpiration.bind(this),1e3*(St.accessTokenExpiration-(new Date).getTime()/1e3)*3/4)),qo(this,Bo,setTimeout(this.accessTokenTimeoutExpired.bind(this),1e3*(St.accessTokenExpiration-(new Date).getTime()/1e3)))}))}isTokenValid(e){let t=!0;try{St.accessToken||(t=!1);const{exp:e}=or(St.accessToken)}catch(e){t=!1}return t}isOpen(){return!!Xo(this,zo)&&Xo(this,zo).isOpen()}set customerKey(e){qo(this,Lo,e)}set customerSecret(e){qo(this,No,e)}set accessToken(e){St.accessToken=e}set refreshCallback(e){St.tokenCallback=e}};var Jo,Ko;zo=new WeakMap,Lo=new WeakMap,No=new WeakMap,Uo=new WeakMap,Vo=new WeakMap,Bo=new WeakMap,Wo=new WeakMap,Go=new WeakMap,Ho=new WeakMap,$o=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([$e([ke.ConferenceLeaving])],$o),function(e){e[e.AudioInput=1]="AudioInput",e[e.AudioOutput=2]="AudioOutput",e[e.VideoInput=4]="VideoInput"}(Jo||(Jo={})),function(e){e[e.ListDevices=1]="ListDevices",e[e.GetDifferences=2]="GetDifferences"}(Ko||(Ko={}));var Zo,Qo,ea,ta=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},ia=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},na=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ra extends Xe{constructor(e,t){super(e),Zo.set(this,void 0),Qo.set(this,void 0),ea.set(this,void 0),ia(this,Zo,t);const i={handler:function(e){this.emit("deviceChanged",e)}.bind(this),deviceKind:Jo.AudioOutput|Jo.AudioInput|Jo.VideoInput,handlerType:Ko.ListDevices|Ko.GetDifferences};ia(this,Qo,na(this,Zo).onDeviceChange(i)),ia(this,ea,((e,t)=>(e.message=`Failed to select ${t} device. Reason: ${e.message}`,e)))}getComfortNoiseLevel(){return ta(this,void 0,void 0,(function*(){return na(this,Zo).getComfortNoiseLevel()}))}setComfortNoiseLevel(e){return ta(this,void 0,void 0,(function*(){return na(this,Zo).setComfortNoiseLevel(e)}))}enumerateDevices(){return ta(this,void 0,void 0,(function*(){return na(this,Zo).getConnectedDevices()}))}enumerateAudioInputDevices(){return ta(this,void 0,void 0,(function*(){return na(this,Zo).getConnectedAudioInputDevices()}))}enumerateAudioOutputDevices(){return ta(this,void 0,void 0,(function*(){return na(this,Zo).getConnectedAudioOutputDevices()}))}enumerateVideoInputDevices(){return ta(this,void 0,void 0,(function*(){return na(this,Zo).getConnectedVideoInputDevices()}))}selectAudioInput(e){return ta(this,void 0,void 0,(function*(){const t=yield na(this,Zo).getConnectedAudioInputDevices();return new Promise("string"==typeof e?(i,n)=>ta(this,void 0,void 0,(function*(){const r=t.find((t=>t.deviceId===e));r||n(new Error("Failed to select audio input device. Reason: Device not found")),yield na(this,Zo).selectAudioInputDevice(r).then((()=>{na(this,Zo).selectedAudioInputDevice=r,i(`device ${e} selected`)}),(e=>n(na(this,ea).call(this,e,"audio input"))))})):(i,n)=>ta(this,void 0,void 0,(function*(){e&&e.deviceId||n(new Le("Unable to select audio input. Provided device is invalid")),t.find((t=>t.deviceId===e.deviceId&&t.kind===e.kind&&t.groupId===e.groupId&&t.label===e.label))||n(new Error("Failed to select audio input device. Reason: Device not found")),yield na(this,Zo).selectAudioInputDevice(e).then((()=>{na(this,Zo).selectedAudioInputDevice=e,i(`device ${e} selected`)}),(e=>n(na(this,ea).call(this,e,"audio input"))))})))}))}selectAudioOutput(e){return ta(this,void 0,void 0,(function*(){const t=yield na(this,Zo).getConnectedAudioOutputDevices();return new Promise("string"==typeof e?(i,n)=>ta(this,void 0,void 0,(function*(){const r=t.find((t=>t.deviceId===e));r||n(new Error("Failed to select audio output device. Reason: Device not found")),yield na(this,Zo).selectAudioOutputDevice(r).then((()=>{na(this,Zo).selectedAudioOutputDevice=r,i(`device ${e} selected`)}),(e=>n(na(this,ea).call(this,e,"audio output"))))})):(i,n)=>ta(this,void 0,void 0,(function*(){e&&e.deviceId||n(new Le("Unable to select audio output. Provided device is invalid")),t.find((t=>t.deviceId===e.deviceId&&t.kind===e.kind&&t.groupId===e.groupId&&t.label===e.label))||n(new Error("Failed to select audio output device. Reason: Device not found")),yield na(this,Zo).selectAudioOutputDevice(e).then((()=>{na(this,Zo).selectedAudioOutputDevice=e,i(`device ${e} selected`)}),(e=>n(na(this,ea).call(this,e,"audio output"))))})))}))}selectVideoInput(e){return ta(this,void 0,void 0,(function*(){const t=yield na(this,Zo).getConnectedVideoInputDevices();return new Promise("string"==typeof e?(i,n)=>ta(this,void 0,void 0,(function*(){const r=t.find((t=>t.deviceId===e));r||n(new Error("Failed to select video input device. Reason: Device not found")),yield na(this,Zo).selectVideoInputDevice(r).then((()=>{na(this,Zo).selectedVideoInputDevice=r,i(`device ${e} selected`)}),(e=>n(na(this,ea).call(this,e,"video input"))))})):(i,n)=>ta(this,void 0,void 0,(function*(){e&&e.deviceId||n(new Le("Unable to select video input. Provided device is invalid")),t.find((t=>t.deviceId===e.deviceId&&t.kind===e.kind&&t.groupId===e.groupId&&t.label===e.label))||n(new Error("Failed to select video input device. Reason: Device not found")),yield na(this,Zo).selectVideoInputDevice(e).then((()=>{na(this,Zo).selectedVideoInputDevice=e,i(`device ${e} selected`)}),(e=>n(na(this,ea).call(this,e,"video input"))))})))}))}get selectedAudioInputDevice(){return na(this,Zo).selectedAudioInputDevice}get selectedAudioOutputDevice(){return na(this,Zo).selectedAudioOutputDevice}get selectedVideoInputDevice(){return na(this,Zo).selectedVideoInputDevice}enumerateAudioDevices(e="input"){return ta(this,void 0,void 0,(function*(){return"input"===e||void 0===e?yield this.enumerateAudioInputDevices():yield this.enumerateAudioOutputDevices()}))}enumerateVideoDevices(e="input"){return ta(this,void 0,void 0,(function*(){return this.enumerateVideoInputDevices()}))}}Zo=new WeakMap,Qo=new WeakMap,ea=new WeakMap;var oa,aa,sa=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},ca=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Received="received"}(aa||(aa={}));let ua=class extends Xe{constructor(e,t){super(e),oa.set(this,void 0),function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,i)}(this,oa,t)}send(e){return St.conferences.broadcast({conferenceId:this._conferenceId,data:{message:e}})}onConferenceMessageReceived(e){if(ca(this,oa).current){const t=ca(this,oa).participants.get(e.participantId);t&&this.emit(aa.Received,t,e.message)}}};var da;oa=new WeakMap,sa([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],ua.prototype,"send",null),ua=sa([$e([ke.ConferenceMessageReceived])],ua),function(e){e.Invitation="Invitation",e.ConferenceCreated="Conference.Created",e.ConferenceEnded="Conference.Ended",e.ParticipantJoined="Participant.Joined",e.ParticipantLeft="Participant.Left",e.ConferenceActiveParticipants="Conference.ActiveParticipants"}(da||(da={}));var la,ha,pa,ma=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};!function(e){e.Invitation="invitation",e.ConferenceCreated="conferenceCreated",e.ConferenceEnded="conferenceEnded",e.ConferenceStatus="conferenceStatus",e.ParticipantJoined="participantJoined",e.ParticipantLeft="participantLeft",e.ActiveParticipants="activeParticipants"}(pa||(pa={}));let fa=class extends qe{constructor(e,t){super(e),la.set(this,!1),ha.set(this,void 0),ma(this,ha,t)}subscribe(e){const t=e.find((e=>e.type===da.Invitation));if(t&&ma(this,la,!0),!t||e.length>1)return St.subscription.post({data:{subscriptions:e.filter((e=>e.type!==da.Invitation))}})}unsubscribe(e){const t=e.find((e=>e.type===da.Invitation));if(t&&ma(this,la,!1),!t||e.length>1)return St.subscription.delete({data:{subscriptions:e.filter((e=>e.type!==da.Invitation))}})}invite(e,t){return i=this,n=void 0,o=function*(){return St.conferences.invite({conferenceId:e.id,data:{externalProfiles:t.map((e=>({externalId:e.info?e.info.externalId:e.externalId,externalName:e.info?e.info.name:e.name,externalPhotoUrl:e.info?e.info.avatarUrl:e.avatarUrl,permissions:e.permissions})))}})},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(a,s)}c((o=o.apply(i,n||[])).next())}));var i,n,r,o}onInvitationReceived(e){St.setConferenceTokens(e.conferenceId,e.conferenceToken),this.emit(pa.Invitation,e)}onConferenceStatusNotification(e){this.emit(pa.ConferenceStatus,e)}onConferenceCreatedNotification(e){this.emit(pa.ConferenceCreated,e)}onConferenceEndedNotification(e){this.emit(pa.ConferenceEnded,e)}onParticipantJoinedNotification(e){this.emit(pa.ParticipantJoined,e)}onParticipantLeftNotification(e){this.emit(pa.ParticipantLeft,e)}onActiveParticipants(e){this.emit(pa.ActiveParticipants,e)}};la=new WeakMap,ha=new WeakMap,fa=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([$e([ke.InvitationReceived,ke.ConferenceCreatedNotification,ke.ConferenceEndedNotification,ke.ConferenceStatusNotification,ke.ParticipantJoinedNotification,ke.ParticipantLeftNotification,ke.ActiveParticipants])],fa);class ga{constructor(){this.type=""}}const va=it.getParser(window.navigator.userAgent);class ka{constructor(){this.version="1.0",this.userId="",this.timestamp=0}}var ya;!function(e){e.Browser="browser"}(ya||(ya={}));class ba{constructor(){this.cpu="",this.ram=0,this.screen=""}}class wa{constructor(){this.name="",this.os="",this.timeZone="",this.sdkPlatform=ya.Browser,this.sdkVersion="3.7.0-beta.6",this.uxkitVersion=""}}const _a=new Map([["RTCCandidatePairStats",e=>"candidate-pair"===e.type&&!va.is("firefox")&&!0===e.nominated||va.is("firefox")&&!0===e.selected],["RTCOutboundRtpAudioStreamStats",e=>"outbound-rtp"===e.type&&"audio"===e.mediaType],["RTCOutboundRtpVideoStreamStats",e=>"outbound-rtp"===e.type&&"video"===e.mediaType],["RTCRemoteInboundRTPStreamStats",e=>"remote-inbound-rtp"===e.type],["RTCInboundRTPAudioStreamStats",e=>"inbound-rtp"===e.type&&"audio"===e.mediaType],["RTCInboundRTPVideoStreamStats",e=>"inbound-rtp"===e.type&&"video"===e.mediaType],["RTCMediaStreamAudioTrack",e=>"track"===e.type&&"audio"===e.kind],["RTCMediaStreamVideoTrack",e=>"track"===e.type&&"video"===e.kind],["RTCStreamDescription",e=>"stream"===e.type],["WebAudioStats",e=>"audio"===e.type],["DataChannelStats",e=>"data-channel"===e.type],["TransportStats",e=>"transport"===e.type]]),Sa={RTCCandidatePairStats:class extends ga{constructor(){super(...arguments),this.id="",this.availableOutgoingBitrate=0,this.availableIncomingBitrate=0,this.bytesSent=0,this.bytesReceived=0,this.bitrateSent=0,this.bitrateReceived=0,this.totalRoundTripTime=0,this.currentRoundTripTime=0,this.requestsReceived=0,this.requestsSent=0,this.responsesReceived=0,this.responsesSent=0,this.consentRequestsSent=0,this.selected=!1}},RTCOutboundRtpAudioStreamStats:class extends ga{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="audio",this.packetsSent=0,this.bytesSent=0,this.bitrateSent=0,this.retransmittedPacketsSent=0,this.retransmittedBytesSent=0}},RTCOutboundRtpVideoStreamStats:class extends ga{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="video",this.packetsSent=0,this.bytesSent=0,this.bitrateSent=0,this.retransmittedPacketsSent=0,this.retransmittedBytesSent=0,this.contentType="",this.nackCount=0,this.firCount=0,this.pliCount=0,this.qualityLimitationReason="",this.framesEncoded=0,this.framesSent=0,this.keyFramesEncoded=0,this.totalPacketSendDelay=0,this.encoderImplementation="",this.qpSum=0}},RTCRemoteInboundRTPStreamStats:class extends ga{constructor(){super(...arguments),this.ssrc=0,this.kind="",this.packetLost=0,this.jitter=0,this.roundTripTime=0}},RTCInboundRTPAudioStreamStats:class extends ga{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="audio",this.packetsReceived=0,this.bytesReceived=0,this.bitrateReceived=0,this.packetsLost=0,this.jitter=0}},RTCInboundRTPVideoStreamStats:class extends ga{constructor(){super(...arguments),this.ssrc=0,this.trackId="",this.mediaType="video",this.packetsReceived=0,this.bytesReceived=0,this.bitrateReceived=0,this.packetsLost=0,this.jitter=0,this.framesDecoded=0,this.keyFramesDecoded=0,this.totalInterFrameDelay=0,this.totalSquaredInterFrameDelay=0,this.framesReceived=0,this.framesDropped=0,this.firCount=0,this.pliCount=0,this.nackCount=0,this.decoderImplementation="",this.qpSum=0}},RTCMediaStreamAudioTrack:class extends ga{constructor(){super(...arguments),this.id="",this.kind="audio",this.jitterBufferDelay=0,this.jitterBufferEmittedCount=0,this.audioLevel=0,this.totalAudioEnergy=0}},RTCMediaStreamVideoTrack:class extends ga{constructor(){super(...arguments),this.id="",this.kind="video",this.jitterBufferDelay=0,this.jitterBufferEmittedCount=0,this.frameWidth=0,this.frameHeight=0,this.framesReceived=0,this.framesDecoded=0}},RTCStreamDescription:class extends ga{constructor(){super(...arguments),this.streamIdentifier="",this.trackIds=[]}},WebAudioStats:class extends ga{constructor(){super(...arguments),this.bufferIsOverrun=!1,this.bufferOverrunTimes=0,this.bufferOverrunLength=0,this.bufferIsUnderrun=!1,this.bufferUnderrunTimes=0,this.bufferUnderrunLength=0}},DataChannelStats:class extends ga{constructor(){super(...arguments),this.bytesReceived=0,this.bytesSent=0,this.dataChannelIdentifier=0,this.id="",this.label="",this.messagesReceived=0,this.messagesSent=0,this.state="",this.timestamp=0}},TransportStats:class extends ga{constructor(){super(...arguments),this.id="",this.dtlsState="",this.selectedCandidatePairChanges=0,this.selectedCandidatePairId=""}}};var ja=i(9034),Ta=i.n(ja);class Ca{static getHost(){return Ca.host}}Ca.host="https://comms.sdk.dolby.io",Ca.endpoints={configuration:{fetch:{method:"GET",uri:"/v1/telemetry/metrics/configuration"}},webrtc:{sendBatch:{method:"POST",uri:"/v1/telemetry/metrics/webrtc/conferences/{conferenceId}/users/{userId}"}},dvc:{sendBatch:{method:"PUT",uri:"/v1/telemetry/metrics/dvc/conferences/{conferenceId}/users/{userId}/timestamp/{timestamp}"}},device:{send:{method:"PUT",uri:"/v1/telemetry/metrics/device/users/{userId}/timestamp/{timestamp}"}}},wt.inject(Ca,St.getToken,St.setToken,St.getJwtToken,St.getTokenCallback,(()=>{}),Ca.getHost,Ca.endpoints,!0,St.isTokenExpired,St.getLeavingCallback);var Ea=Ca;function xa(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!=Object.keys(t).length)return!1;for(let i in e){if(!t.hasOwnProperty(i))return!1;if(!xa(e[i],t[i]))return!1}return!0}return!1}var Ma,Pa,Ia,Ra,Da,Aa,Oa,Fa,za,La,Na=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Ua=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Va=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const Ba=be()("vxt:telemetry"),Wa=nt().getParser(window.navigator.userAgent);let Ga=class extends Xe{constructor(e,t,i,n){super(e),this.configuration={webrtc:{enabled:!0,samplingFreqSec:10,batch:3},device:{enabled:!0}},Ma.set(this,"1.1"),Pa.set(this,void 0),Ia.set(this,void 0),Ra.set(this,void 0),Da.set(this,void 0),Aa.set(this,{}),Oa.set(this,void 0),Fa.set(this,void 0),za.set(this,""),La.set(this,{}),Ua(this,Pa,t),Ua(this,Ia,i),Ua(this,Ra,n)}set uxkitVersion(e){Ua(this,za,e)}localStats(){var e;return null===(e=Va(this,Pa).manager.rtc.getRtpStatsForTelemetry())||void 0===e?void 0:e.metrics}onConferenceJoined(e){return Na(this,void 0,void 0,(function*(){this._conferenceId=e.conferenceId,yield this.getConfiguration(),this.configuration.webrtc.enabled&&Ua(this,Da,setInterval(this.collect.bind(this),1e3*this.configuration.webrtc.samplingFreqSec))}))}onConferenceLeaving(e){return Na(this,void 0,void 0,(function*(){Va(this,Da)&&(clearInterval(Va(this,Da)),Ua(this,Da,null))}))}onConferenceLeft(e){return Na(this,void 0,void 0,(function*(){Va(this,Da)&&(clearInterval(Va(this,Da)),Ua(this,Da,null));try{yield this.sendReport(e.stateDump)}catch(e){console.log("Sending error: "+e)}this._conferenceId=null,this.flush(),Ua(this,Aa,{}),Ua(this,La,{}),Ua(this,Oa,null),Ua(this,Fa,null)}))}collect(){var e,t,i,n,r,o;return Na(this,void 0,void 0,(function*(){let a=yield Va(this,Pa).manager.rtc.getRtpStatsForTelemetry();if(a){const s=Ta()().utc().valueOf(),c=a.metrics;delete a.metrics;const u={audioInput:Va(this,Ra).selectedAudioInputDevice,audioOutput:Va(this,Ra).selectedAudioOutputDevice,videoInput:Va(this,Ra).selectedVideoInputDevice},d=Object.assign(Object.assign(Object.assign({},a),{version:Va(this,Ma),conferenceId:this._conferenceId,userId:Va(this,Ia).participant.id,timestamp:0,metrics:{}}),!xa(u,Va(this,La))&&{devices:Object.assign(Object.assign(Object.assign({},!xa(u.audioInput,Va(this,La).audioInput)&&{audioInput:{groupId:null===(e=u.audioInput)||void 0===e?void 0:e.groupId,label:null===(t=u.audioInput)||void 0===t?void 0:t.label}}),!xa(u.audioOutput,Va(this,La).audioOutput)&&{audioOutput:{groupId:null===(i=u.audioOutput)||void 0===i?void 0:i.groupId,label:null===(n=u.audioOutput)||void 0===n?void 0:n.label}}),!xa(u.videoInput,Va(this,La).videoInput)&&{videoInput:{groupId:null===(r=u.videoInput)||void 0===r?void 0:r.groupId,label:null===(o=u.videoInput)||void 0===o?void 0:o.label}})});this.analyze(c,s),c.forEach(((e,t)=>{const i=new Array;d.metrics[t]=i,e.forEach((e=>{_a.forEach(((t,n)=>{t(e)&&i.push(function(e,t){let i=new t;return Object.keys(i).forEach((t=>{i[t]=e[t]})),i}(e,Sa[n]))}))}))})),d.timestamp=s,Ua(this,La,u),Va(this,Aa)[s]=d,this.flush()}}))}analyze(e,t){Va(this,Oa)&&e.forEach(((e,i)=>{const n=Va(this,Oa).get(i);n&&e.filter((e=>"inbound-rtp"===e.type||"outbound-rtp"===e.type||"candidate-pair"===e.type)).forEach((e=>{const i=n.filter((t=>t.id===e.id)),r=Ta()(t).diff(Ta()(Va(this,Fa)),"seconds");e.bytesSent&&i[0]&&i[0].bytesSent&&(e.bitrateSent=parseFloat(((e.bytesSent-i[0].bytesSent)/r/1024*8).toFixed(2))),e.bytesReceived&&i[0]&&i[0].bytesReceived&&(e.bitrateReceived=parseFloat(((e.bytesReceived-i[0].bytesReceived)/r/1024*8).toFixed(2)))}))})),Ua(this,Oa,e),Ua(this,Fa,t)}flush(){Object.keys(Va(this,Aa)).length>=this.configuration.webrtc.batch&&Ea.webrtc.sendBatch({conferenceId:this._conferenceId,userId:Va(this,Ia).participant.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(Va(this,Aa))}).then((()=>{Ua(this,Aa,{})}))}getConfiguration(){return Na(this,void 0,void 0,(function*(){try{this.configuration=(yield Ea.configuration.fetch()).data,Ba("Configuration: ",this.configuration)}catch(e){console.error("Failed to fetch Telemetry configuration!",e)}}))}onSessionOpened(e){return Na(this,void 0,void 0,(function*(){yield this.getConfiguration();const e=new ka;e.userId=Va(this,Ia).participant.id,e.timestamp=Ta()().utc().valueOf();const t=new wa,i=Wa.getResult(),n=new ba;n.screen=`${window.screen.width}x${window.screen.height}`,t.hardware=n,t.name=`${i.browser.name} ${i.browser.version}`,t.os=`${i.os.name} ${i.os.version} ${i.os.versionName}`,t.timeZone=Ta()().format("UTCZ"),t.uxkitVersion=Va(this,za),e.metrics=t,Ea.device.send({userId:e.userId,timestamp:e.timestamp,data:e})}))}sendReport(e){var t;return Na(this,void 0,void 0,(function*(){try{let i=e||(yield null===(t=Va(this,Pa).manager.rtc)||void 0===t?void 0:t.createStateDump());if(i){let e=Ta()().utc().valueOf();Ea.dvc.sendBatch({conferenceId:this._conferenceId,userId:Va(this,Ia).participant.id,timestamp:e,headers:{"Content-Type":"application/zip"},data:i.content})}}catch(e){console.log("Failed to create and send state dump")}}))}};Ma=new WeakMap,Pa=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,Da=new WeakMap,Aa=new WeakMap,Oa=new WeakMap,Fa=new WeakMap,za=new WeakMap,La=new WeakMap,Ga=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([$e([ke.SessionOpened,ke.ConferenceLeaving])],Ga);var Ha,Ya,qa,Xa=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},$a=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Ja extends Xe{constructor(e,t){super(e),Ha.set(this,void 0),Ya.set(this,void 0),Xa(this,Ha,t)}leaveAfterDelay(e){$a(this,Ha).leave({keepAlive:!0,reason:"tabClosure"}),this.sleep(e)}sleep(e){const t=(new Date).getTime();for(;(new Date).getTime()<t+e;);}onConferenceJoined(e){super.onConferenceJoined(e),!0===$a(this,Ha).leaveConferenceOnBeforeUnload&&(Xa(this,Ya,window.onbeforeunload),window.onbeforeunload=e=>{const t=e.target.activeElement,i=t&&t.href&&t.href.startsWith("mailto:"),n=t&&t.href&&t.href.startsWith("tel:");i||n||this.leaveAfterDelay(1500)})}onConferenceLeft(e){window.onbeforeunload=$a(this,Ya)||null,super.onConferenceLeft(e)}}Ha=new WeakMap,Ya=new WeakMap,function(e){e.None="none",e.Bokeh="bokeh",e.StaticImage="staticimage"}(qa||(qa={}));var Ka,Za,Qa,es,ts,is,ns=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},rs=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};let os=class{constructor(e,t,i){Ka.set(this,void 0),Za.set(this,void 0),Qa.set(this,void 0),es.set(this,qa.None),ts.set(this,{}),is.set(this,null),ns(this,Ka,e),ns(this,Za,t),ns(this,Qa,i)}setFilter(e,t={}){return new Promise(((i,n)=>{rs(this,Qa).isFilterSupported(e)?(ns(this,es,e),ns(this,ts,Object.assign({},t)),this.isLiveVideoTrack(rs(this,is))?i(rs(this,Qa).setFilter(rs(this,is),rs(this,es),rs(this,ts))):i()):n(new Ae("Setting video filter on camera stream failed. Filter '"+e+"' is unsupported"))}))}isLocalParticipant(e){return e===rs(this,Za).participant.id}isLiveVideoTrack(e){return e&&"live"===e.readyState}hasLiveVideoTrack(e){return e.getVideoTracks().length>0&&this.isLiveVideoTrack(this.getVideoTrackFrom(e))}getVideoTrackFrom(e){return e.getVideoTracks()[0]}isCameraStreamType(e){return e&&e.type===Xt.Camera}onStreamAdded(e){rs(this,Qa).isFilterSupported(rs(this,es))&&this.isLocalParticipant(e.peerId)&&this.hasLiveVideoTrack(e.stream)&&this.isCameraStreamType(e.stream)&&(ns(this,is,this.getVideoTrackFrom(e.stream)),rs(this,Qa).setFilter(rs(this,is),rs(this,es),rs(this,ts)).catch((e=>bi.warn("Setting video filter on camera stream failed. "+e))))}onStreamUpdated(e){rs(this,Qa).isFilterSupported(rs(this,es))&&this.isLocalParticipant(e.peerId)&&this.isCameraStreamType(e.stream)&&(this.hasLiveVideoTrack(e.stream)?(ns(this,is,this.getVideoTrackFrom(e.stream)),rs(this,Qa).setFilter(rs(this,is),rs(this,es),rs(this,ts)).catch((e=>bi.warn("Setting video filter on camera stream failed. "+e)))):ns(this,is,null))}onStreamRemoved(e){rs(this,Qa).isFilterSupported(rs(this,es))&&this.isLocalParticipant(e.peerId)&&this.isCameraStreamType(e.stream)&&ns(this,is,null)}onConferenceVideoFilterUpdate(e){rs(this,Qa).isFilterSupported(e.filter)?this.setFilter(e.filter,e.filterOptions):bi.warn("Setting video filter on camera stream failed. Filter '"+e.filter+"' is unsupported")}};Ka=new WeakMap,Za=new WeakMap,Qa=new WeakMap,es=new WeakMap,ts=new WeakMap,is=new WeakMap,os=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([$e([ke.ConferenceVideoFilterUpdate,ke.StreamAdded,ke.StreamRemoved,ke.StreamUpdated])],os);var as,ss,cs,us=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},ds=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};class ls{constructor(){as.set(this,null),ss.set(this,""),cs.set(this,void 0),this.filterHandlers=new Map([[qa.None,ls.prototype.filterNoneHandler],[qa.Bokeh,ls.prototype.filterBokehHandler],[qa.StaticImage,ls.prototype.filterStaticImageHandler]])}get supportedFilters(){if(!us(this,cs))try{(()=>{const e=navigator.mediaDevices.getSupportedConstraints();return!!(e.hasOwnProperty("videoFilterMode")&&e.hasOwnProperty("videoFilterImageFileData")&&e.hasOwnProperty("videoFilterEnableDenoise"))&&e.videoFilterMode&&e.videoFilterImageFileData&&e.videoFilterEnableDenoise})()?ds(this,cs,[qa.None,qa.Bokeh,qa.StaticImage]):ds(this,cs,[])}catch(e){ds(this,cs,[]),bi.warn("Checking system capabilities failed. "+e)}return us(this,cs)}isFilterSupported(e){return this.supportedFilters.includes(e)}setFilter(e,t,i={}){return new Promise(((n,r)=>{this.isFilterSupported(t)?e?e instanceof MediaStream?n(this.setFilterOnStream(e,t,i)):n(this.setFilterOnTrack(e,t,i)):r(new Error("Setting video filter failed. Stream is null")):r(new Ae("Setting video filter failed. Filter '"+t+"' is unsupported."))}))}setFilterOnStream(e,t,i={}){return new Promise(((n,r)=>{e.getVideoTracks().length>0&&null!=e.getVideoTracks()[0]?n(this.setFilterOnTrack(e.getVideoTracks()[0],t,i)):r(new Error("Setting video filter failed. There is no video tracks in stream."))}))}setFilterOnTrack(e,t,i={}){return new Promise(((n,r)=>{"video"===e.kind?n(this.handleFilter(e,t,i)):r(new Error("Setting video filter failed. Media track isn't a video track"))}))}handleFilter(e,t,i){return new Promise(((n,r)=>{const o=this.filterHandlers.get(t);o?n(o.call(this,e,i)):r(new Error("Filter handler is undefined."))})).then((()=>bi.debug(`Set video filter '${t}' on video track '${e.id}'`)))}filterNoneHandler(e,t){return t.videoDenoise?ls.applyEffect(e,{mode:"none",denoise:!0}):ls.applyEffect(e,{mode:"disabled"})}filterBokehHandler(e,t){return ls.applyEffect(e,{mode:"bokeh",denoise:t.videoDenoise})}filterStaticImageHandler(e,t){return this.readFileAsBinaryString(t.imageFile).then((i=>ls.applyEffect(e,{mode:"static_image",imageData:i,denoise:t.videoDenoise})))}static applyEffect(e,t){return((e,t,i,n)=>{const r=e.getSettings();return e.applyConstraints({width:{exact:null==r?void 0:r.width},height:{exact:null==r?void 0:r.height},frameRate:{exact:null==r?void 0:r.frameRate},videoFilterMode:t,videoFilterImageFileData:i,videoFilterEnableDenoise:n})})(e,t.mode,t.imageData||"",t.denoise||!1)}readFileAsBinaryString(e){return new Promise(((t,i)=>{if(!e)return void i(new Error("Reading image file failed. File is null."));if(us(this,as)===e)return void t(us(this,ss));const n=new FileReader;n.onerror=()=>{n.abort(),i(new Error("Reading image file failed. "+n.error))},n.onload=()=>{ds(this,as,e),ds(this,ss,n.result),t(n.result)},n.readAsBinaryString(e)}))}}as=new WeakMap,ss=new WeakMap,cs=new WeakMap;var hs,ps,ms=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},fs=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class gs extends Xe{constructor(e,t,i){super(e),hs.set(this,void 0),ps.set(this,void 0),ms(this,hs,new ls),ms(this,ps,new os(t,i,fs(this,hs)))}getSupportedFilters(){return[...fs(this,hs).supportedFilters]}setFilter(e,t={}){return void 0===t.stream?fs(this,ps).setFilter(e,t):fs(this,hs).setFilter(t.stream,e,t)}}hs=new WeakMap,ps=new WeakMap;var vs,ks,ys,bs=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},ws=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.LocalVideoStarted="localVideoStarted",e.LocalVideoStopped="localVideoStopped"}(ys||(ys={}));let _s=class extends Xe{constructor(e,t,i){super(e),vs.set(this,void 0),ks.set(this,void 0),bs(this,vs,t),bs(this,ks,i)}get local(){return ws(this,vs)}get remote(){return ws(this,ks)}onLocalVideoStarted(e){this.emit(ys.LocalVideoStarted,e.track)||console.warn("Failed to send VideoServiceEvents.LocalVideoStarted event")}onLocalVideoStopped(e){this.emit(ys.LocalVideoStopped,e.track)||console.warn("Failed to send VideoServiceEvents.LocalVideoStopped event")}};var Ss,js;vs=new WeakMap,ks=new WeakMap,_s=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([$e([ke.LocalVideoStarted,ke.LocalVideoStopped])],_s),function(e){e.Unprocessed="unprocessed",e.Standard="standard"}(Ss||(Ss={})),function(e){e.High="high",e.Low="low"}(js||(js={}));var Ts,Cs,Es,xs=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Ms=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Ps=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Is=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Rs extends Xe{constructor(e,t,i,n){super(t),Ts.set(this,void 0),Cs.set(this,void 0),Es.set(this,void 0),Ps(this,Ts,e),Ps(this,Cs,i),Ps(this,Es,n)}getCaptureMode(){return Ms(this,void 0,void 0,(function*(){if(Is(this,Cs).manager.isDvwc())return Is(this,Cs).manager.rtc.getCaptureMode();throw new Ae("Audio capture mode can be get only with DVC codec")}))}setCaptureMode(e){return Ms(this,void 0,void 0,(function*(){if(!e||!e.mode)throw new Le("Unable to change audio capture mode. Provided options needs to have options.mode");if(Is(this,Cs).manager.isDvwc())return Is(this,Cs).manager.rtc.setCaptureMode(e);{let t;if(e.mode===Ss.Unprocessed)t=!1;else{if(e.mode!==Ss.Standard||e.modeOptions.noiseReductionLevel!==js.High)throw new Ae("This audio capture mode or its options is not available with Opus.");t=!0}const i={send:{audioProcessing:t}};yield St.conferences.audioProcessing({conferenceId:this._conferenceId,peerId:Is(this,Es).participant.id,data:i})}}))}getComfortNoiseLevel(){return Ms(this,void 0,void 0,(function*(){if(Is(this,Cs).manager.isDvwc()||Is(this,Cs).manager.isElectron())return Is(this,Cs).manager.rtc.getComfortNoiseLevel();throw new Ae}))}setComfortNoiseLevel(e){return Ms(this,void 0,void 0,(function*(){if(Is(this,Cs).manager.isDvwc()||Is(this,Cs).manager.isElectron())return Is(this,Cs).manager.rtc.setComfortNoiseLevel(e);throw new Ae}))}start(){if([l.LISTENER,l.MIXER].includes(Is(this,Es).participant.type))throw new Ae;return Is(this,Cs).manager.startAudioForPeer(Is(this,Es).participant.id)}stop(){if([l.LISTENER,l.MIXER].includes(Is(this,Es).participant.type))throw new Ae;return Is(this,Cs).manager.stopAudioForPeer(Is(this,Es).participant.id)}}Ts=new WeakMap,Cs=new WeakMap,Es=new WeakMap,xs([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Rs.prototype,"getCaptureMode",null),xs([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Rs.prototype,"setCaptureMode",null),xs([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Rs.prototype,"start",null),xs([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Rs.prototype,"stop",null);var Ds,As,Os,Fs=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},zs=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Ls=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Ns extends Xe{constructor(e,t,i,n){super(t),Ds.set(this,void 0),As.set(this,void 0),Os.set(this,void 0),zs(this,Ds,e),zs(this,As,i),zs(this,Os,n)}start(e){if(e.id===Ls(this,Os).participant.id&&Ls(this,Ds).local.start(),Ls(this,As).current&&Ls(this,As).current.params.dolbyVoice&&[l.LISTENER].includes(Ls(this,Os).participant.type))throw new Ae;return Ls(this,As).manager.startAudioForPeer(e.id).then((()=>{let t=e.audioTransmitting;e.updateAudioReceivingStopped(!1),Te.send(new ve.AudioUpdated(e,t,e.audioTransmitting))}))}stop(e){if(e.id===Ls(this,Os).participant.id&&Ls(this,Ds).local.stop(),Ls(this,Os).participant.id!==e.id&&Ls(this,As).current&&Ls(this,As).current.params.dolbyVoice&&[l.LISTENER].includes(Ls(this,Os).participant.type))throw new Ae;return Ls(this,As).manager.stopAudioForPeer(e.id).then((()=>{let t=e.audioTransmitting;e.updateAudioReceivingStopped(!0),Te.send(new ve.AudioUpdated(e,t,e.audioTransmitting))}))}}Ds=new WeakMap,As=new WeakMap,Os=new WeakMap,Fs([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Ns.prototype,"start",null),Fs([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Ns.prototype,"stop",null);var Us,Vs,Bs=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Ws=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Gs{constructor(e,t,i){Us.set(this,void 0),Vs.set(this,void 0),Bs(this,Us,new Rs(this,e,t,i)),Bs(this,Vs,new Ns(this,e,t,i))}get local(){return Ws(this,Us)}get remote(){return Ws(this,Vs)}}Us=new WeakMap,Vs=new WeakMap;var Hs,Ys=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class qs{constructor(){Hs.set(this,new Map)}clear(){Ys(this,Hs).clear()}delete(e){return Ys(this,Hs).delete(e)}get(e){return Ys(this,Hs).get(e)}has(e){return Ys(this,Hs).has(e)}set(e,t){Ys(this,Hs).set(e,t)}get size(){return Ys(this,Hs).size}}Hs=new WeakMap;var Xs,$s,Js,Ks,Zs,Qs=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},ec=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};class tc extends Error{constructor(){super("override value")}}class ic{constructor(){Xs.set(this,void 0),$s.set(this,void 0),Js.set(this,void 0),Ks.set(this,void 0),Zs.set(this,void 0)}get storeValue(){return Qs(this,Js)}getValue(){return Qs(this,$s)&&(Qs(this,$s).call(this,new tc),ec(this,Xs,void 0),ec(this,$s,void 0)),new Promise(((e,t)=>{ec(this,Xs,e),ec(this,$s,t)}))}executeGet(e){if(Qs(this,Xs)&&Qs(this,$s)){let t=Qs(this,Xs),i=Qs(this,$s);e().then((e=>{t(e)}),(e=>{i(e)}))}ec(this,Xs,void 0),ec(this,$s,void 0)}set storeValue(e){ec(this,Js,e)}setValue(e){return Qs(this,Zs)&&(Qs(this,Zs).call(this,new tc),ec(this,Ks,void 0),ec(this,Zs,void 0)),ec(this,Js,e),new Promise(((e,t)=>{ec(this,Ks,e),ec(this,Zs,t)}))}executeSet(e){if(Qs(this,Ks)&&Qs(this,Zs)){let t=Qs(this,Ks),i=Qs(this,Zs);e(Qs(this,Js)).then((e=>{t(e)}),(e=>{i(e)}))}else Qs(this,Js)&&e(Qs(this,Js));ec(this,Ks,void 0),ec(this,Zs,void 0)}}Xs=new WeakMap,$s=new WeakMap,Js=new WeakMap,Ks=new WeakMap,Zs=new WeakMap;var nc,rc,oc,ac,sc,cc,uc,dc,lc,hc,pc,mc,fc,gc,vc,kc,yc,bc,wc,_c=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Sc=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},jc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};function Tc(e){return _c(this,void 0,void 0,(function*(){const t=yield navigator.mediaDevices.enumerateDevices();return e?t.filter((t=>t.kind===e)):t}))}class Cc extends Error{constructor(){super("not supported")}}class Ec{constructor(){nc.set(this,void 0),rc.set(this,void 0),oc.set(this,void 0),ac.set(this,new ic),sc.set(this,void 0),cc.set(this,void 0),uc.set(this,void 0),dc.set(this,void 0),lc.set(this,void 0),hc.set(this,!1),pc.set(this,!1),mc.set(this,!1),fc.set(this,[]),gc.set(this,[]),vc.set(this,[]),kc.set(this,null),yc.set(this,null),bc.set(this,null),wc.set(this,[]),this.initSelectAudioDevice(),this.initSelectVideoDevice(),Tc().then((e=>{Sc(this,gc,e.filter((e=>"audiooutput"===e.kind))),Sc(this,fc,e.filter((e=>"audioinput"===e.kind))),Sc(this,vc,e.filter((e=>"videoinput"===e.kind)));const t=jc(this,gc).find((e=>"default"===e.deviceId));t&&t.deviceId&&Sc(this,dc,t)}))}initSelectAudioDevice(){Sc(this,nc,(e=>Promise.reject(new Cc))),Sc(this,rc,(e=>Promise.reject(new Cc))),Sc(this,hc,Sc(this,pc,!1))}initSelectVideoDevice(){Sc(this,oc,(e=>Promise.reject(new Cc))),Sc(this,mc,!1)}get selectedAudioInputDevice(){return jc(this,uc)}set selectedAudioInputDevice(e){e&&Sc(this,uc,e)}get selectedAudioOutputDevice(){return jc(this,dc)}set selectedAudioOutputDevice(e){e&&Sc(this,dc,e)}get selectedVideoInputDevice(){return jc(this,lc)}set selectedVideoInputDevice(e){e&&Sc(this,lc,e)}get setComfortNoiseLevel(){return jc(this,cc)?e=>(jc(this,ac).storeValue=e,jc(this,cc).call(this,e)):jc(this,ac).setValue.bind(jc(this,ac))}set setComfortNoiseLevel(e){Sc(this,cc,e),e&&jc(this,ac).executeSet(jc(this,cc))}get getComfortNoiseLevel(){return jc(this,sc)?jc(this,sc):jc(this,ac).getValue.bind(jc(this,ac))}set getComfortNoiseLevel(e){Sc(this,sc,e),e&&jc(this,ac).executeGet(jc(this,sc))}get selectAudioInputDevice(){return jc(this,nc)}set selectAudioInputDevice(e){e&&(Sc(this,nc,e),Sc(this,hc,!0))}get selectAudioOutputDevice(){return jc(this,rc)}set selectAudioOutputDevice(e){e&&(Sc(this,rc,e),Sc(this,pc,!0))}get selectVideoInputDevice(){return jc(this,oc)}set selectVideoInputDevice(e){e&&(Sc(this,oc,e),Sc(this,mc,!0))}get audioOutputDevices(){return jc(this,gc)}get audioInputDevices(){return jc(this,fc)}get isOutputSelectorValid(){return jc(this,pc)}getConnectedDevices(){return Tc()}getConnectedVideoInputDevices(){return Tc("videoinput")}getConnectedAudioInputDevices(){return Tc("audioinput")}getConnectedAudioOutputDevices(){return Tc("audiooutput")}areDevicesEqual(e,t){return e&&t&&e.deviceId===t.deviceId&&e.label===t.label&&e.kind===t.kind&&e.groupId===t.groupId}trackDevicesUpdates(e,t){return{added:t.filter((t=>!e.find((e=>e.groupId===t.groupId&&e.kind===t.kind)))).filter((e=>"default"!==e.deviceId)),removed:e.filter((e=>!t.find((t=>t.groupId===e.groupId&&t.kind===e.kind&&e.label.includes(t.label))))).filter((e=>"default"!==e.deviceId)),updated:t.filter((t=>e.find(((e,i)=>e.kind===t.kind&&e.deviceId===t.deviceId&&(e.groupId!==t.groupId||e.label!==t.label)))))}}getCurrentSelectedDevice(e,t){return e&&t.find((t=>t.deviceId===e.deviceId&&t.label===e.label&&t.kind===e.kind&&t.groupId===e.groupId))?e:Array.isArray(t)&&t.length>0?((e&&"audioinput"===e.kind||e&&"audiooutput"===e.kind)&&st.is("windows")&&(st.is("chrome")||st.is("Microsoft Edge"))?t.find((e=>"communications"===e.deviceId)):t.find((e=>"default"===e.deviceId)))||t[0]:void 0}scheduleAudioInputChange(e){const t=!jc(this,kc);Sc(this,kc,e),t&&setTimeout((()=>_c(this,void 0,void 0,(function*(){yield jc(this,nc).call(this,jc(this,kc)),Sc(this,kc,null)}))),60)}scheduleAudioOutputChange(e){const t=!jc(this,yc);Sc(this,yc,e),t&&setTimeout((()=>_c(this,void 0,void 0,(function*(){yield jc(this,rc).call(this,jc(this,yc)),Sc(this,yc,null)}))),60)}scheduleVideoInputChange(e){const t=!jc(this,bc);Sc(this,bc,e),t&&setTimeout((()=>_c(this,void 0,void 0,(function*(){yield jc(this,oc).call(this,jc(this,bc)),Sc(this,bc,null)}))),60)}onDeviceChange(e){return jc(this,wc).push(e),navigator.mediaDevices.ondevicechange=e=>_c(this,void 0,void 0,(function*(){const e=yield Tc(),t=e.filter((e=>"audioinput"===e.kind)),i=e.filter((e=>"audiooutput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),r=this.getCurrentSelectedDevice(jc(this,uc),t);r&&jc(this,hc)&&!this.areDevicesEqual(r,jc(this,uc))&&this.scheduleAudioInputChange(r),Sc(this,uc,r);const o=this.getCurrentSelectedDevice(jc(this,dc),i);o&&jc(this,pc)&&!this.areDevicesEqual(o,jc(this,dc))&&this.scheduleAudioOutputChange(o),Sc(this,dc,o);const a=this.getCurrentSelectedDevice(jc(this,lc),n);a&&jc(this,mc)&&!this.areDevicesEqual(a,jc(this,lc))&&this.scheduleVideoInputChange(a),Sc(this,lc,a),jc(this,wc).forEach((e=>{const r=(e.deviceKind&Jo.AudioInput)===Jo.AudioInput,o=(e.deviceKind&Jo.AudioOutput)===Jo.AudioOutput,a=(e.deviceKind&Jo.VideoInput)===Jo.VideoInput,s=(e.handlerType&Ko.ListDevices)===Ko.ListDevices,c=(e.handlerType&Ko.GetDifferences)===Ko.GetDifferences;if(!o&&!r&&!a||!s&&!c)return;const u={};if(s&&(u.list=Object.assign(Object.assign(Object.assign({},a&&n.length>0&&{videoInput:[...n]}),r&&t.length>0&&{audioInput:[...t]}),o&&i.length>0&&{audioOutput:[...i]})),c){let e={};if(r){const i=this.trackDevicesUpdates(jc(this,fc),t);(i&&i.added.length>0||i.updated.length>0||i.removed.length>0)&&(e=Object.assign(Object.assign({},e),{audioInput:i}))}if(o){const t=this.trackDevicesUpdates(jc(this,gc),i);(t&&t.added.length>0||t.updated.length>0||t.removed.length>0)&&(e=Object.assign(Object.assign({},e),{audioOutput:t}))}if(a){const t=this.trackDevicesUpdates(jc(this,vc),n);(t&&t.added.length>0||t.updated.length>0||t.removed.length>0)&&(e=Object.assign(Object.assign({},e),{videoInput:t}))}const s=[...a?["videoInput"]:[],...r?["audioInput"]:[],...o?["audioOutput"]:[]],c=Object.keys(e);s.filter((e=>c.includes(e))).length>0&&(u.updates=e)}Object.keys(u).length>0&&e.handler(u)})),Sc(this,fc,t),Sc(this,gc,i),Sc(this,vc,n)})),()=>{const t=jc(this,wc).indexOf(e);t>-1&&jc(this,wc).splice(t,1)}}}nc=new WeakMap,rc=new WeakMap,oc=new WeakMap,ac=new WeakMap,sc=new WeakMap,cc=new WeakMap,uc=new WeakMap,dc=new WeakMap,lc=new WeakMap,hc=new WeakMap,pc=new WeakMap,mc=new WeakMap,fc=new WeakMap,gc=new WeakMap,vc=new WeakMap,kc=new WeakMap,yc=new WeakMap,bc=new WeakMap,wc=new WeakMap;var xc,Mc,Pc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Ic=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Rc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Dc{constructor(e){xc.set(this,void 0),Mc.set(this,void 0),Ic(this,xc,e),Rc(this,xc).selectVideoInputDevice=this.onVideInputSelectedCallback.bind(this)}getCurrentDeviceId(){var e;return null===(e=Rc(this,xc).selectedVideoInputDevice)||void 0===e?void 0:e.deviceId}setNewDeviceId(e){return Pc(this,void 0,void 0,(function*(){const t=yield Rc(this,xc).getConnectedVideoInputDevices();if(!t||0===t.length)return;const i=t.find((t=>t.deviceId===e));i&&(Rc(this,xc).selectedVideoInputDevice=i)}))}setOnVideoDeviceIdChangedCallback(e){Ic(this,Mc,e)}onVideInputSelectedCallback(e){return Pc(this,void 0,void 0,(function*(){if(!Rc(this,Mc))return;const t=null==e?void 0:e.deviceId;t&&t!=this.getCurrentDeviceId()&&(yield Rc(this,Mc).call(this,e.deviceId))}))}}xc=new WeakMap,Mc=new WeakMap;class Ac{constructor(e){this.mediaStreamTrack=e}getMediaStreamTrack(){return this.mediaStreamTrack}stop(){return e=this,t=void 0,n=function*(){},new((i=void 0)||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}));var e,t,i,n}}var Oc,Fc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},zc=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};class Lc extends Ac{constructor(e,t){super(e),Oc.set(this,void 0),zc(this,Oc,t)}static create(e){return Fc(this,void 0,void 0,(function*(){let t;try{t=yield navigator.mediaDevices.getUserMedia({video:null==e||e,audio:!1})}catch(e){throw new ze(e.toString())}if(!t)throw new ze("Failed to create a video track from the camera. MediaStream is null.");if(!t.getVideoTracks()||!t.getVideoTracks().length)throw new ze("Failed to create a video track from the camera. No video track in the media stream.");const i=t.getVideoTracks()[0];return t.removeTrack(i),new Lc(i,e)}))}getConstraints(){return function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(this,Oc)}stop(){return Fc(this,void 0,void 0,(function*(){this.mediaStreamTrack&&this.mediaStreamTrack.stop()}))}applyConstraints(e){return this.getMediaStreamTrack().applyConstraints(e).then((()=>{zc(this,Oc,e)}))}}Oc=new WeakMap;class Nc extends Ac{static create(e){return new Nc(e)}constructor(e){super(e)}}var Uc,Vc,Bc,Wc,Gc,Hc=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},Yc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};!function(e){e.Camera="camera",e.Custom="custom"}(Gc||(Gc={}));class qc{constructor(e,t){Uc.set(this,void 0),Vc.set(this,void 0),Hc(this,Uc,e),Hc(this,Vc,t)}static camera(e,t){return new Xc(e,t)}static custom(e,t){return new $c(e,t)}get sourceType(){return Yc(this,Uc)}get processor(){return Yc(this,Vc)}isCamera(){return Yc(this,Uc)===Gc.Camera}isCustom(){return Yc(this,Uc)===Gc.Custom}asCameraConfig(){return this}asCustomConfig(){return this}}Uc=new WeakMap,Vc=new WeakMap;class Xc extends qc{constructor(e,t){super(Gc.Camera,t),Bc.set(this,void 0),Hc(this,Bc,e)}get constraints(){return Yc(this,Bc)}}Bc=new WeakMap;class $c extends qc{constructor(e,t){super(Gc.Camera,t),Wc.set(this,void 0),Hc(this,Wc,e)}get userVideoTrack(){return Yc(this,Wc)}}Wc=new WeakMap;class Jc{static get isFirefox(){return Jc.mIsFirefox}static get isChrome(){return Jc.mIsChrome}static get isEdge(){return Jc.mIsEdge}static get isVideoProcessingSupported(){return Jc.mIsVideoProcessingSupported}}Jc.mBrowser=nt().getParser(window.navigator.userAgent),Jc.mIsFirefox=Jc.mBrowser.is("Firefox"),Jc.mIsChrome=Jc.mBrowser.is("Chrome"),Jc.mIsEdge=Jc.mBrowser.is("Microsoft Edge"),Jc.mIsVideoProcessingSupported=Jc.mBrowser.satisfies({chrome:">=91",edge:">=91"});var Kc,Zc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Qc=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};const eu=i(4661);class tu{constructor(e){Kc.set(this,void 0),function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,i)}(this,Kc,e)}static create(e,t){return Zc(this,void 0,void 0,(function*(){const i=yield new eu.VideoFilter(e,t);return new tu(i)}))}setProcessEnable(e){Qc(this,Kc).setProcessEnable(e)}getProcessEnable(){return Qc(this,Kc).getProcessEnable()}setFaceEnhanceMode(e){Qc(this,Kc).setFaceEnhanceMode(e)}getFaceEnhanceMode(){return Qc(this,Kc).getFaceEnhanceMode()}setPassthroughMode(e){Qc(this,Kc).setPassthroughMode(e)}getPassthroughMode(){return Qc(this,Kc).getPassthroughMode()}setBackgroundMode(e){Qc(this,Kc).setBackgroundMode(e)}getBackgroundMode(){return Qc(this,Kc).getBackgroundMode()}getModelVersion(){return Qc(this,Kc).getModelVersion()}stop(){return Zc(this,void 0,void 0,(function*(){yield Qc(this,Kc).stop()}))}changeInput(e){return Zc(this,void 0,void 0,(function*(){yield Qc(this,Kc).changeInput(e)}))}changeBackground(e){return Zc(this,void 0,void 0,(function*(){yield Qc(this,Kc).changeBackground(e)}))}getOutputStream(){return Zc(this,void 0,void 0,(function*(){return yield Qc(this,Kc).getOutput()}))}}Kc=new WeakMap;var iu,nu=i(1323),ru=i.n(nu);class ou{static getModelFilePath(){return ou.dolbyIoVslModelFile}static getWasmFilePath(){return ou.dolbyIoVslWasmFile}}ou.dolbyIoVslVersionHash=ru()("1.0.0-develop-5eff59e2-477406"),ou.dolbyIoVslModelFile=Ni("vsl_impl.pkgwvsl",ou.dolbyIoVslVersionHash),ou.dolbyIoVslWasmFile=Ni("vsl_impl.wasm",ou.dolbyIoVslVersionHash),function(e){e.Bokeh="bokeh",e.BackgroundReplacement="backgroundreplacement"}(iu||(iu={}));var au,su,cu=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},uu=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},du=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class lu{constructor(e){au.set(this,void 0),su.set(this,null),uu(this,au,e)}static create(e){return cu(this,void 0,void 0,(function*(){const t={passthrough:!0,wasm_filepath:ou.getWasmFilePath(),model_filepath:ou.getModelFilePath()},i=yield tu.create(e,t),n=i.getModelVersion();return console.info(`Vsl wrapper created, model: ${n}`),new lu(i)}))}stop(){return cu(this,void 0,void 0,(function*(){return du(this,au).stop()}))}setProcessor(e={}){return cu(this,void 0,void 0,(function*(){if(0===Object.keys(e).length)this.handleEmptyProcessor();else{if(!("type"in e))throw new ze("Processor type is undefined.");if(e.type===iu.Bokeh)this.handleBokehProcessor();else{if(e.type!==iu.BackgroundReplacement)throw new ze("Unknown processor type: '"+e.type+"'");if(!e.image)throw new ze("Failed to set a processor, 'image' is undefined.");this.handleBackgroundReplacementProcessor(e.image)}}uu(this,su,e),console.info("Video processor set: ",e)}))}getProcessor(){return du(this,su)}getOutputStream(){return cu(this,void 0,void 0,(function*(){return du(this,au).getOutputStream()}))}handleEmptyProcessor(){return cu(this,void 0,void 0,(function*(){yield du(this,au).setPassthroughMode(!0)}))}handleBokehProcessor(){return cu(this,void 0,void 0,(function*(){yield du(this,au).setBackgroundMode("bokeh"),yield du(this,au).setPassthroughMode(!1)}))}handleBackgroundReplacementProcessor(e){return cu(this,void 0,void 0,(function*(){yield du(this,au).changeBackground(e),yield du(this,au).setBackgroundMode("replace"),yield du(this,au).setPassthroughMode(!1)}))}}au=new WeakMap,su=new WeakMap;var hu,pu,mu=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},fu=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},gu=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class vu extends Ac{constructor(e,t,i){super(t),hu.set(this,void 0),pu.set(this,void 0),fu(this,pu,e),fu(this,hu,i)}static create(e){return mu(this,void 0,void 0,(function*(){const t=new MediaStream([e.getMediaStreamTrack()]),i=yield lu.create(t),n=yield i.getOutputStream();if(!n||!n.getVideoTracks().length)throw new ze("Failed to initialize a video processor engine.");const r=n.getVideoTracks()[0];return new vu(e,r,i)}))}setProcessor(e){return mu(this,void 0,void 0,(function*(){return gu(this,hu).setProcessor(e)}))}getProcessor(){return gu(this,hu).getProcessor()}getInputTrack(){return gu(this,pu)}stop(){return mu(this,void 0,void 0,(function*(){this.mediaStreamTrack&&(yield this.mediaStreamTrack.stop()),gu(this,hu)&&(yield gu(this,hu).stop())}))}}hu=new WeakMap,pu=new WeakMap;var ku=i(3958),yu=i.n(ku);class bu{static merge(e,t){return Object.assign(Object.assign({},e),t)}static getDefaultConstraints(){return Jc.isFirefox?{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:25}}:{width:{max:1280,ideal:1280},height:{max:720,ideal:720},frameRate:{max:25,ideal:25}}}static getBandwidthConstraints(e){if(e<=0)return{};const t=(ui()?oi.videoSettings.mobile:oi.videoSettings.desktop).find((t=>e>t.range.min&&e<=t.range.max));return t?Jc.isFirefox?{width:{ideal:t.dimensions.width},height:{ideal:t.dimensions.height},frameRate:{ideal:t.fps}}:{width:{max:t.dimensions.width,ideal:t.dimensions.width},height:{max:t.dimensions.height,ideal:t.dimensions.height},frameRate:{max:t.fps,ideal:t.fps}}:{}}static applyBandwidthConstraintsIfNeeded(e,t){const i=e.getConstraints(),n=bu.getBandwidthConstraints(t);if(!n)return void console.warn("Failed to adapt video quality to bandwidth. Video constraints are undefined.");if(null!==i&&yu()(i.width,n.width)&&yu()(i.height,n.height)&&yu()(i.frameRate,n.frameRate))return;const r=bu.merge(i,n);e.applyConstraints(r).catch((e=>console.warn("Failed to adapt video quality to bandwidth",e)))}}var wu,_u,Su,ju,Tu,Cu=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Eu=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},xu=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};let Mu=class{constructor(e){wu.set(this,null),_u.set(this,null),Su.set(this,null),ju.set(this,!0),Tu.set(this,void 0),Eu(this,Tu,e),null==e||e.setOnVideoDeviceIdChangedCallback(this.changeCameraDeviceId.bind(this))}start(e,t){return Cu(this,void 0,void 0,(function*(){if(e instanceof MediaStreamTrack){const i=e;if("video"!==i.kind)throw new ze("Failed to start a video. The user-provided media stream track must be 'video' kind.");return yield this.initCustom(qc.custom(i,t))}{const i=e;return yield this.initCamera(qc.camera(i,t))}}))}stop(){return Cu(this,void 0,void 0,(function*(){this.isLocalVideoStarted()&&(yield this.stopLocalVideo())}))}setProcessor(e){return Cu(this,void 0,void 0,(function*(){if(!Jc.isVideoProcessingSupported)throw new Ae("The video processor feature is unsupported on your browser");if(!this.isLocalVideoStarted())throw new ze("Failed to set the video processor. The local video video isn't started.");if(!xu(this,Su))throw new ze("Failed to set the video processor. The video processor engine is uninitialized.");yield xu(this,Su).setProcessor(e)}))}disableProcessing(){return Cu(this,void 0,void 0,(function*(){Promise.reject(new Error("Not implemented yet."))}))}initCamera(e){var t,i,n;return Cu(this,void 0,void 0,(function*(){let r=e.constraints;const o=!(r.width&&r.height);null!==(t=r.deviceId)&&void 0!==t||(r.deviceId=null===(i=xu(this,Tu))||void 0===i?void 0:i.getCurrentDeviceId()),r=bu.merge(bu.getDefaultConstraints(),r);const a=yield Lc.create(r),s=yield this.startLocalVideo(a,e,o);return yield null===(n=xu(this,Tu))||void 0===n?void 0:n.setNewDeviceId(a.getMediaStreamTrack().getSettings().deviceId),s}))}initCustom(e){return Cu(this,void 0,void 0,(function*(){const t=Nc.create(e.userVideoTrack);return this.startLocalVideo(t,e,!1)}))}isLocalVideoStarted(){return null!==xu(this,_u)}startLocalVideo(e,t,i){return Cu(this,void 0,void 0,(function*(){if(this.isLocalVideoStarted()&&(yield this.stopLocalVideo()),Eu(this,_u,e),Eu(this,wu,t),Eu(this,ju,i),Jc.isVideoProcessingSupported){try{Eu(this,Su,yield vu.create(xu(this,_u)))}catch(e){console.warn("Failed to initialized a video processor engine. The local video still works fine, but the video processing is unavailable.",e)}if(xu(this,Su))try{yield xu(this,Su).setProcessor(t.processor)}catch(e){xu(this,Su).stop(),Eu(this,Su,null),console.warn("Failed to set the video processor. The local video still works fine, but the video processing is unavailable.",e)}}else if(t.processor)throw new Ae("The video processor feature is unsupported on your browser");const n=xu(this,Su)?xu(this,Su):xu(this,_u);return Te.send(ve.LocalVideoStarted.fromData({track:n.getMediaStreamTrack()})),console.debug("Local video track started, ",xu(this,_u)),n.getMediaStreamTrack()}))}stopLocalVideo(){return Cu(this,void 0,void 0,(function*(){const e=xu(this,_u),t=xu(this,Su);Eu(this,_u,null),Eu(this,Su,null),Eu(this,ju,!0),Eu(this,wu,null);const i=t||e;Te.send(ve.LocalVideoStopped.fromData({track:i.getMediaStreamTrack()})),console.debug("Local video track stopped, ",e),e&&e.stop().catch((e=>console.warn(e))),t&&t.stop().catch((e=>console.warn(e)))}))}changeCameraDeviceId(e){return Cu(this,void 0,void 0,(function*(){if(!this.isLocalVideoStarted())return;if(xu(this,_u)instanceof Nc)return void console.warn("Failed to change camera. The custom video is playing. Please stop the custom video and start a camera stream.");const t=Object.assign(Object.assign({},xu(this,_u).getConstraints()),{deviceId:e}),i=xu(this,ju),n=xu(this,wu);yield this.stopLocalVideo();const r=yield Lc.create(t);yield this.startLocalVideo(r,n,i)}))}onBandwidthRestrictionChanged(e){if(!xu(this,ju))return;if(!this.isLocalVideoStarted())return;if(!(xu(this,_u)instanceof Lc))return;const t=xu(this,_u);bu.applyBandwidthConstraintsIfNeeded(t,e.bandwidth)}};wu=new WeakMap,_u=new WeakMap,Su=new WeakMap,ju=new WeakMap,Tu=new WeakMap,Mu=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([$e([ke.BandwidthRestrictionChanged])],Mu);var Pu=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Iu=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};let Ru=class extends Xe{start(e){return Iu(this,void 0,void 0,(function*(){yield St.conferences.startMedia({conferenceId:this._conferenceId,peerId:e.id,data:{index:0,label:"camera",media:["video"]}})}))}stop(e){return Iu(this,void 0,void 0,(function*(){yield St.conferences.stopMedia({conferenceId:this._conferenceId,peerId:e.id,data:{index:0,label:"camera",media:["video"]}})}))}};Pu([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Ru.prototype,"start",null),Pu([function(e,t,i){let n=i.value;return i.value=function(...t){return e.checkConference.call(this),n.apply(this,t)},i}],Ru.prototype,"stop",null),Ru=Pu([$e([ke.ConferenceJoined,ke.ConferenceLeft])],Ru);var Du,Au,Ou,Fu,zu,Lu,Nu,Uu,Vu,Bu,Wu,Gu,Hu,Yu,qu,Xu,$u,Ju,Ku,Zu=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Qu extends h.EventEmitter{constructor(){super(),Du.set(this,new $o(this)),Au.set(this,new fa(this,Zu(this,Du))),Ou.set(this,new Ec),Fu.set(this,new ra(this,Zu(this,Ou))),zu.set(this,new Mu(new Dc(Zu(this,Ou)))),Lu.set(this,new Ru(this)),Nu.set(this,new qs),Uu.set(this,new eo(this,Zu(this,Du),Zu(this,Nu),Zu(this,Ou),Zu(this,zu))),Vu.set(this,new co(this)),Bu.set(this,new Wt(this,Zu(this,Uu))),Wu.set(this,new Dt(this,Zu(this,Uu))),Gu.set(this,new Ht(this)),Hu.set(this,new ua(this,Zu(this,Uu))),Yu.set(this,new gs(this,Zu(this,Uu),Zu(this,Du))),qu.set(this,new _s(this,Zu(this,zu),Zu(this,Lu))),Xu.set(this,new Gs(this,Zu(this,Uu),Zu(this,Du))),$u.set(this,new Yt(this)),Ju.set(this,new Ga(this,Zu(this,Uu),Zu(this,Du),Zu(this,Ou))),Ku.set(this,new Ja(this,Zu(this,Uu)))}static get session(){return Zu(this.instance,Du)}static get mediaDevice(){return Zu(this.instance,Fu)}static get conference(){return Zu(this.instance,Uu)}static get recording(){return Zu(this.instance,Vu)}static get filePresentation(){return Zu(this.instance,Bu)}static get videoPresentation(){return Zu(this.instance,Wu)}static get broadcasting(){return Zu(this.instance,Gu)}static get command(){return Zu(this.instance,Hu)}static get videoFilters(){return Zu(this.instance,Yu)}static get video(){return Zu(this.instance,qu)}static get notification(){return Zu(this.instance,Au)}static get audio(){return Zu(this.instance,Xu)}static get extensions(){return Zu(this.instance,$u)}static set uxkitVersion(e){Zu(this.instance,Ju).uxkitVersion=e}static initialize(e,t,{host:i=this.host,wsHost:n=this.wsHost,fileHost:r=this.fileHost,enableTelemetry:o=this.enableTelemetry,telemetryHost:a=this.telemetryHost}={}){Qu.session.customerKey=e,Qu.session.customerSecret=t,St.wsHost="devssl"===Qu.flavor?n:this.wsHost,St.host="devssl"===Qu.flavor?i:this.host,Lt.host="devssl"===Qu.flavor?r:this.fileHost,Ea.host="devssl"===Qu.flavor?a:this.telemetryHost,Qu.enableTelemetry="devssl"===Qu.flavor?o:this.enableTelemetry,Qu.displaySettings()}static displaySettings(){console.group("SDK settings:"),console.log("VoxeetSDK version: "+Qu.version),console.log("VoxeetSDK flavor: "+Qu.flavor),console.log("Telemetry status: "+(Qu.enableTelemetry?"enabled":"disabled")),"devssl"===Qu.flavor&&(console.group("hosts"),console.log(`Gate endpoint: ${St.host}`),console.log(`WebSocket endpoint: ${St.wsHost}`),console.log(`File conversion endpoint: ${Lt.host}`),Qu.enableTelemetry&&console.log(`Telemetry endpoint: ${Ea.host}`),console.groupEnd()),console.groupEnd()}static initializeToken(e,t,{host:i=this.host,wsHost:n=this.wsHost,fileHost:r=this.fileHost,enableTelemetry:o=this.enableTelemetry,telemetryHost:a=this.telemetryHost}={}){St.accessToken=e,St.tokenCallback=t,St.wsHost="devssl"===Qu.flavor?n:this.wsHost,St.host="devssl"===Qu.flavor?i:this.host,Lt.host="devssl"===Qu.flavor?r:this.fileHost,Qu.enableTelemetry="devssl"===Qu.flavor?o:this.enableTelemetry,Ea.host="devssl"===Qu.flavor?a:this.telemetryHost,St.leavingCallback=()=>{Zu(this.instance,Uu).leave()},Qu.displaySettings()}static region(e=""){St.setRegion(e),Lt.setRegion(e)}}Du=new WeakMap,Au=new WeakMap,Ou=new WeakMap,Fu=new WeakMap,zu=new WeakMap,Lu=new WeakMap,Nu=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,Bu=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,Hu=new WeakMap,Yu=new WeakMap,qu=new WeakMap,Xu=new WeakMap,$u=new WeakMap,Ju=new WeakMap,Ku=new WeakMap,Qu.instance=new Qu,Qu.version="3.7.0-beta.6",Qu.host="https://comms.sdk.dolby.io",Qu.wsHost="wss://comms.sdk.dolby.io",Qu.fileHost="https://comms.sdk.dolby.io",Qu.telemetryHost="https://comms.sdk.dolby.io",Qu.enableTelemetry=!0,Qu.flavor="production",bi.setLevel("error")}(),n.default}()}));