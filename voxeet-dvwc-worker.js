!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VoxeetSDK=t():e.VoxeetSDK=t()}(this,(function(){return function(){var e={5130:function(e,t,n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(7123)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7123:function(e,t,n){e.exports=function(e){function t(e){let n,o,i,a=null;function s(...e){if(!s.enabled)return;const r=s,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];n=i.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},1378:function(e){var t=1e3,n=60*t,r=60*n,o=24*r;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,a){a=a||{};var s,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&isFinite(e))return a.long?(s=e,(u=Math.abs(s))>=o?i(s,u,o,"day"):u>=r?i(s,u,r,"hour"):u>=n?i(s,u,n,"minute"):u>=t?i(s,u,t,"second"):s+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";var e,t=(e=self.location.href,function(t){var n,r,o=void 0!==(t=t||{})?t:{};o.ready=new Promise((function(e,t){n=e,r=t}));var i,a,s,u=Object.assign({},o),c=[],l="./this.program",_=(e,t)=>{throw t},p="object"==typeof window,f="function"==typeof importScripts,d=("object"==typeof process&&"object"==typeof process.versions&&process.versions.node,"");(p||f)&&(f?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var m=o.print||console.log.bind(console),h=o.printErr||console.warn.bind(console);Object.assign(o,u),u=null,o.arguments&&(c=o.arguments),o.thisProgram&&(l=o.thisProgram),o.quit&&(_=o.quit);var v,g=o.dynamicLibraries||[];o.wasmBinary&&(v=o.wasmBinary);var y,w=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&re("no native wasm support detected");var E,b=!1;function S(e,t){e||re(t)}var C,A,T,N,P,k,O,I,D,F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&F)return F.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function M(e,t){return e?R(T,e,t):""}function L(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function x(e,t,n){return L(e,T,t,n)}function j(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function U(e){C=e,o.HEAP8=A=new Int8Array(e),o.HEAP16=N=new Int16Array(e),o.HEAP32=k=new Int32Array(e),o.HEAPU8=T=new Uint8Array(e),o.HEAPU16=P=new Uint16Array(e),o.HEAPU32=O=new Uint32Array(e),o.HEAPF32=I=new Float32Array(e),o.HEAPF64=D=new Float64Array(e)}var B=o.INITIAL_MEMORY||16777216;(y=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:B/65536,maximum:32768}))&&(C=y.buffer),B=C.byteLength,U(C);var $,Z,z,W,G=new WebAssembly.Table({initial:2481,element:"anyfunc"}),V=[],q=[],H=[],K=[],Y=[],X=!1,J=0,Q=null,ee=null;function te(e){J++,o.monitorRunDependencies&&o.monitorRunDependencies(J)}function ne(e){if(J--,o.monitorRunDependencies&&o.monitorRunDependencies(J),0==J&&(null!==Q&&(clearInterval(Q),Q=null),ee)){var t=ee;ee=null,t()}}function re(e){o.onAbort&&o.onAbort(e),h(e="Aborted("+e+")"),b=!0,E=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function oe(e){return e.startsWith("data:application/octet-stream;base64,")}function ie(e){try{if(e==$&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){re(e)}}function ae(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o.locateFile?oe($="dvwc_impl.wasm")||(Z=$,$=o.locateFile?o.locateFile(Z,d):d+Z):$=new URL("dvwc_impl.wasm",self.location.href).toString();var se={},ue=new Set([]),ce={get:function(e,t){var n=se[t];return n||(n=se[t]=new WebAssembly.Global({value:"i32",mutable:!0})),ue.has(t)||(n.required=!0),n}};function le(e){for(;e.length>0;)e.shift()(o)}function _e(e){var t=0,n=0;function r(){for(var n=0,r=1;;){var o=e[t++];if(n+=(127&o)*r,r*=128,!(128&o))break}return n}function o(){var n=r();return R(e,(t+=n)-n,n)}function i(e,t){if(e)throw new Error(t)}var a="dylink.0";if(e instanceof WebAssembly.Module){var s=WebAssembly.Module.customSections(e,a);0===s.length&&(a="dylink",s=WebAssembly.Module.customSections(e,a)),i(0===s.length,"need dylink section"),n=(e=new Uint8Array(s[0])).length}else{i(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),i(0!==e[8],"need the dylink section to be first"),t=9;var u=r();n=t+u,a=o()}var c={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==a){c.memorySize=r(),c.memoryAlign=r(),c.tableSize=r(),c.tableAlign=r();for(var l=r(),_=0;_<l;++_){var p=o();c.neededDynlibs.push(p)}}else for(i("dylink.0"!==a);t<n;){var f=e[t++],d=r();if(1===f)c.memorySize=r(),c.memoryAlign=r(),c.tableSize=r(),c.tableAlign=r();else if(2===f)for(l=r(),_=0;_<l;++_)p=o(),c.neededDynlibs.push(p);else if(3===f)for(var m=r();m--;){var h=o();256&r()&&c.tlsExports.add(h)}else if(4===f)for(m=r();m--;)o(),h=o(),1==(3&r())&&c.weakImports.add(h);else t+=d}return c}function pe(e){if(e instanceof ae||"unwind"==e)return E;_(1,e)}function fe(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}function de(e,t){for(var n in e)if(e.hasOwnProperty(n)){Wr.hasOwnProperty(n)||(Wr[n]=e[n]);var r=fe(n);o.hasOwnProperty(r)||(o[r]=e[n]),"__main_argc_argv"==n&&(o._main=e[n])}}var me={loadedLibsByName:{},loadedLibsByHandle:{}},he=[];function ve(e){var t=he[e];return t||(e>=he.length&&(he.length=e+1),he[e]=t=G.get(e)),t}function ge(e,t,n){return e.includes("j")?function(e,t,n){var r=o["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}(e,t,n):ve(t).apply(null,n)}var ye=6308992;function we(e,t){return T.fill(0,e,e+t),e}function Ee(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors"].includes(e)}function be(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}function Se(e,t){if(Ce)for(var n=e;n<e+t;n++){var r=ve(n);r&&Ce.set(r,n)}}var Ce=void 0,Ae=[];function Te(e,t){G.set(e,t),he[e]=G.get(e)}function Ne(e,t){if(Ce||(Ce=new WeakMap,Se(0,G.length)),Ce.has(e))return Ce.get(e);var n=function(){if(Ae.length)return Ae.pop();try{G.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return G.length-1}();try{Te(n,e)}catch(o){if(!(o instanceof TypeError))throw o;var r=function(e,t){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var t={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},r=1;r<e.length;++r)n.parameters.push(t[e[r]]);return n}(t),e);var n=[1,96],r=t.slice(0,1),o=t.slice(1),i={i:127,p:127,j:126,f:125,d:124};be(o.length,n);for(var a=0;a<o.length;++a)n.push(i[o[a]]);"v"==r?n.push(0):n.push(1,i[r]);var s=[0,97,115,109,1,0,0,0,1];be(n.length,s),s.push.apply(s,n),s.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(s));return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}(e,t);Te(n,r)}return Ce.set(e,n),n}function Pe(e,t,n){var r={};for(var o in e){var i=e[o];"object"==typeof i&&(i=i.value),"number"==typeof i&&(i+=t),r[o]=i}return function(e,t){for(var n in e)if(!Ee(n)){var r=e[n];n.startsWith("orig$")&&(n=n.split("$")[1],t=!0),se[n]||(se[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||0==se[n].value)&&("function"==typeof r?se[n].value=Ne(r):"number"==typeof r?se[n].value=r:"bigint"==typeof r?se[n].value=Number(r):h("unhandled export type for `"+n+"`: "+typeof r))}}(r,n),r}function ke(e,t){var n,r;return t&&(n=Wr["orig$"+e]),n||(n=Wr[e])&&n.stub&&(n=void 0),n||(n=o[fe(e)]),!n&&e.startsWith("invoke_")&&(r=e.split("_")[1],n=function(){var e=Qr();try{return ge(r,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(eo(e),t!==t+0)throw t;Xr(1,0)}}),!n&&e.startsWith("__cxa_find_matching_catch")&&(n=o.___cxa_find_matching_catch),n}function Oe(e,t){return Math.ceil(e/t)*t}function Ie(e,t,n){var r=_e(e);function o(){if(n&&A[n+24>>0])i=O[n+28>>2],a=O[n+36>>2];else{var o=Math.pow(2,r.memoryAlign);o=Math.max(o,16);var i=r.memorySize?Oe(function(e){if(X)return we(Gr(e),e);var t=ye,n=t+e+15&-16;return ye=n,se.__heap_base.value=n,t}(r.memorySize+o),o):0,a=r.tableSize?G.length:0;n&&(A[n+24>>0]=1,O[n+28>>2]=i,k[n+32>>2]=r.memorySize,O[n+36>>2]=a,k[n+40>>2]=r.tableSize)}var s,u=a+r.tableSize-G.length;function c(e){var t=ke(e,!1);return t||(t=s[e]),t}u>0&&G.grow(u);var l={get:function(e,t){switch(t){case"__memory_base":return i;case"__table_base":return a}return t in Wr?Wr[t]:(t in e||(e[t]=function(){return n||(n=c(t)),n.apply(null,arguments)}),e[t]);var n}},_=new Proxy({},l),p={"GOT.mem":new Proxy({},ce),"GOT.func":new Proxy({},ce),env:_,wasi_snapshot_preview1:_};function f(e){Se(a,r.tableSize),s=Pe(e.exports,i),t.allowUndefined||Fe();var n=s.__wasm_apply_data_relocs;n&&(X?n():Y.push(n));var o=s.__wasm_call_ctors;return o&&(X?o():q.push(o)),s}if(t.loadAsync){if(e instanceof WebAssembly.Module){var d=new WebAssembly.Instance(e,p);return Promise.resolve(f(d))}return WebAssembly.instantiate(e,p).then((function(e){return f(e.instance)}))}var m=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return f(d=new WebAssembly.Instance(m,p))}return ue=r.weakImports,t.loadAsync?r.neededDynlibs.reduce((function(e,n){return e.then((function(){return De(n,t)}))}),Promise.resolve()).then((function(){return o()})):(r.neededDynlibs.forEach((function(e){De(e,t)})),o())}function De(e,t,n){t=t||{global:!0,nodelete:!0};var r=me.loadedLibsByName[e];if(r)return t.global&&!r.global&&(r.global=!0,"loading"!==r.module&&de(r.module)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,n&&(me.loadedLibsByHandle[n]=r),!t.loadAsync||Promise.resolve(!0);function o(e){if(t.fs&&t.fs.findObject(e)){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}if(t.loadAsync)return new Promise((function(t,n){a(e,(e=>t(new Uint8Array(e))),n)}));if(!s)throw new Error(e+": file not found, and synchronous loading of external files is not available");return s(e)}function i(){if(void 0!==$r&&$r[e]){var r=$r[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?o(e).then((function(e){return Ie(e,t,n)})):Ie(o(e),t,n)}function u(e){r.global&&de(e),r.module=e}return r={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},me.loadedLibsByName[e]=r,n&&(me.loadedLibsByHandle[n]=r),t.loadAsync?i().then((function(e){return u(e),!0})):(u(i()),!0)}function Fe(){for(var e in se)if(0==se[e].value){var t=ke(e,!0);if(!t&&!se[e].required)continue;if("function"==typeof t)se[e].value=Ne(t,t.sig);else{if("number"!=typeof t)throw new Error("bad export type for `"+e+"`: "+typeof t);se[e].value=t}}}function Re(e,t){A.set(e,t)}function Me(e){return Gr(e+24)+24}o.___cxa_allocate_exception=Me,Me.sig="pp";var Le=[],xe=0;function je(e){var t=new Be(e);return t.get_caught()||(t.set_caught(!0),xe--),t.set_rethrown(!1),Le.push(t),function(e){e.add_ref()}(t),t.get_exception_ptr()}je.sig="pp";var Ue=0;function Be(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){O[this.ptr+4>>2]=e},this.get_type=function(){return O[this.ptr+4>>2]},this.set_destructor=function(e){O[this.ptr+8>>2]=e},this.get_destructor=function(){return O[this.ptr+8>>2]},this.set_refcount=function(e){k[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,A[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=A[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,A[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=A[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=k[this.ptr>>2];k[this.ptr>>2]=e+1},this.release_ref=function(){var e=k[this.ptr>>2];return k[this.ptr>>2]=e-1,1===e},this.set_adjusted_ptr=function(e){O[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return O[this.ptr+16>>2]},this.get_exception_ptr=function(){if(o.___cxa_is_pointer_type(this.get_type()))return O[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function $e(e){return Vr(new Be(e).ptr)}function Ze(){Xr(0),function(e){if(e.release_ref()&&!e.get_rethrown()){var t=e.get_destructor();t&&ve(t)(e.excPtr),$e(e.excPtr)}}(Le.pop()),Ue=0}function ze(e){throw Ue||(Ue=e),e}function We(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function Ge(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function Ve(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function qe(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function He(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function Ke(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function Ye(){var e=Ue;if(!e)return Jr(0),0;var t=new Be(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return Jr(0),e;for(var r=0;r<arguments.length;r++){var i=arguments[r];if(0===i||i===n)break;var a=t.ptr+16;if(o.___cxa_can_catch(i,n,a))return Jr(i),e}return Jr(n),e}function Xe(){var e=Le.pop();e||re("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Le.push(e),e.set_rethrown(!0),e.set_caught(!1),xe++),Ue=t,t}function Je(e,t,n){throw new Be(e).init(t,n),Ue=e,xe++,e}$e.sig="vp",Ze.sig="v",ze.sig="vp",We.sig="ppp",Ge.sig="pppp",Ve.sig="ppppp",qe.sig="pppppp",He.sig="ppppppp",Ke.sig="pppppppp",Ye.sig="ppppppppp",Xe.sig="v",o.___cxa_throw=Je,Je.sig="vppp";var Qe=new WebAssembly.Global({value:"i32",mutable:!1},1024);o.___memory_base=Qe;var et=new WebAssembly.Global({value:"i32",mutable:!0},6308992);o.___stack_pointer=et;var tt={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:e=>{var t=tt.isAbs(e),n="/"===e.substr(-1);return(e=tt.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=tt.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:e=>{if("/"===e)return"/";var t=(e=(e=tt.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return tt.normalize(e.join("/"))},join2:(e,t)=>tt.normalize(e+"/"+t)};function nt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}return()=>re("randomDevice")}var rt={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:ut.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=tt.isAbs(r)}return(t?"/":"")+(e=tt.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,t)=>{function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=rt.resolve(e).substr(1),t=rt.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),i=Math.min(r.length,o.length),a=i,s=0;s<i;s++)if(r[s]!==o[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}};function ot(e,t,n){var r=n>0?n:j(e)+1,o=new Array(r),i=L(e,o,0,o.length);return t&&(o.length=i),o}var it={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){it.ttys[e]={input:[],output:[],ops:t},ut.registerDevice(e,it.stream_ops)},stream_ops:{open:function(e){var t=it.ttys[e.node.rdev];if(!t)throw new ut.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.get_char)throw new ut.ErrnoError(60);for(var i=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new ut.ErrnoError(29)}if(void 0===s&&0===i)throw new ut.ErrnoError(6);if(null==s)break;i++,t[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.put_char)throw new ut.ErrnoError(60);try{for(var i=0;i<r;i++)e.tty.ops.put_char(e.tty,t[n+i])}catch(e){throw new ut.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=ot(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(m(R(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(m(R(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(h(R(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(h(R(e.output,0)),e.output=[])}}};function at(e){e=Oe(e,65536);var t=Yr(65536,e);return t?we(t,e):0}var st={ops_table:null,mount:function(e){return st.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(ut.isBlkdev(n)||ut.isFIFO(n))throw new ut.ErrnoError(63);st.ops_table||(st.ops_table={dir:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr,lookup:st.node_ops.lookup,mknod:st.node_ops.mknod,rename:st.node_ops.rename,unlink:st.node_ops.unlink,rmdir:st.node_ops.rmdir,readdir:st.node_ops.readdir,symlink:st.node_ops.symlink},stream:{llseek:st.stream_ops.llseek}},file:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr},stream:{llseek:st.stream_ops.llseek,read:st.stream_ops.read,write:st.stream_ops.write,allocate:st.stream_ops.allocate,mmap:st.stream_ops.mmap,msync:st.stream_ops.msync}},link:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr,readlink:st.node_ops.readlink},stream:{}},chrdev:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr},stream:ut.chrdev_stream_ops}});var o=ut.createNode(e,t,n,r);return ut.isDir(o.mode)?(o.node_ops=st.ops_table.dir.node,o.stream_ops=st.ops_table.dir.stream,o.contents={}):ut.isFile(o.mode)?(o.node_ops=st.ops_table.file.node,o.stream_ops=st.ops_table.file.stream,o.usedBytes=0,o.contents=null):ut.isLink(o.mode)?(o.node_ops=st.ops_table.link.node,o.stream_ops=st.ops_table.link.stream):ut.isChrdev(o.mode)&&(o.node_ops=st.ops_table.chrdev.node,o.stream_ops=st.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ut.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ut.isDir(e.mode)?t.size=4096:ut.isFile(e.mode)?t.size=e.usedBytes:ut.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&st.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ut.genericErrors[44]},mknod:function(e,t,n,r){return st.createNode(e,t,n,r)},rename:function(e,t,n){if(ut.isDir(e.mode)){var r;try{r=ut.lookupNode(t,n)}catch(e){}if(r)for(var o in r.contents)throw new ut.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=ut.lookupNode(e,t);for(var r in n.contents)throw new ut.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=st.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!ut.isLink(e.mode))throw new ut.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,r);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)t[n+s]=i[o+s];return a},write:function(e,t,n,r,o,i){if(t.buffer===A.buffer&&(i=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===o)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(o+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),o),r}if(st.expandFileStorage(a,o+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),o);else for(var s=0;s<r;s++)a.contents[o+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,o+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&ut.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new ut.ErrnoError(28);return r},allocate:function(e,t,n){st.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,o){if(!ut.isFile(e.node.mode))throw new ut.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==C){if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),a=!0,!(i=at(t)))throw new ut.ErrnoError(48);A.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,t,n,r,o){if(!ut.isFile(e.node.mode))throw new ut.ErrnoError(43);return 2&o||st.stream_ops.write(e,t,0,r,n,!1),0}}},ut={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,t={})=>{if(!(e=rt.resolve(ut.cwd(),e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new ut.ErrnoError(32);for(var n=tt.normalizeArray(e.split("/").filter((e=>!!e)),!1),r=ut.root,o="/",i=0;i<n.length;i++){var a=i===n.length-1;if(a&&t.parent)break;if(r=ut.lookupNode(r,n[i]),o=tt.join2(o,n[i]),ut.isMountpoint(r)&&(!a||a&&t.follow_mount)&&(r=r.mounted.root),!a||t.follow)for(var s=0;ut.isLink(r.mode);){var u=ut.readlink(o);if(o=rt.resolve(tt.dirname(o),u),r=ut.lookupPath(o,{recurse_count:t.recurse_count+1}).node,s++>40)throw new ut.ErrnoError(32)}}return{path:o,node:r}},getPath:e=>{for(var t;;){if(ut.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:(e,t)=>{for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%ut.nameTable.length},hashAddNode:e=>{var t=ut.hashName(e.parent.id,e.name);e.name_next=ut.nameTable[t],ut.nameTable[t]=e},hashRemoveNode:e=>{var t=ut.hashName(e.parent.id,e.name);if(ut.nameTable[t]===e)ut.nameTable[t]=e.name_next;else for(var n=ut.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:(e,t)=>{var n=ut.mayLookup(e);if(n)throw new ut.ErrnoError(n,e);for(var r=ut.hashName(e.id,t),o=ut.nameTable[r];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return ut.lookup(e,t)},createNode:(e,t,n,r)=>{var o=new ut.FSNode(e,t,n,r);return ut.hashAddNode(o),o},destroyNode:e=>{ut.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>49152==(49152&e),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var t=ut.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:e=>{var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>ut.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2,mayLookup:e=>ut.nodePermissions(e,"x")||(e.node_ops.lookup?0:2),mayCreate:(e,t)=>{try{return ut.lookupNode(e,t),20}catch(e){}return ut.nodePermissions(e,"wx")},mayDelete:(e,t,n)=>{var r;try{r=ut.lookupNode(e,t)}catch(e){return e.errno}var o=ut.nodePermissions(e,"wx");if(o)return o;if(n){if(!ut.isDir(r.mode))return 54;if(ut.isRoot(r)||ut.getPath(r)===ut.cwd())return 10}else if(ut.isDir(r.mode))return 31;return 0},mayOpen:(e,t)=>e?ut.isLink(e.mode)?32:ut.isDir(e.mode)&&("r"!==ut.flagsToPermissionString(t)||512&t)?31:ut.nodePermissions(e,ut.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,t=ut.MAX_OPEN_FDS)=>{for(var n=e;n<=t;n++)if(!ut.streams[n])return n;throw new ut.ErrnoError(33)},getStream:e=>ut.streams[e],createStream:(e,t,n)=>{ut.FSStream||(ut.FSStream=function(){this.shared={}},ut.FSStream.prototype={},Object.defineProperties(ut.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new ut.FSStream,e);var r=ut.nextfd(t,n);return e.fd=r,ut.streams[r]=e,e},closeStream:e=>{ut.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=ut.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new ut.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{ut.devices[e]={stream_ops:t}},getDevice:e=>ut.devices[e],getMounts:e=>{for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:(e,t)=>{"function"==typeof e&&(t=e,e=!1),ut.syncFSRequests++,ut.syncFSRequests>1&&h("warning: "+ut.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=ut.getMounts(ut.root.mount),r=0;function o(e){return ut.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++r>=n.length&&o(null)}n.forEach((t=>{if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount:(e,t,n)=>{var r,o="/"===n,i=!n;if(o&&ut.root)throw new ut.ErrnoError(10);if(!o&&!i){var a=ut.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,ut.isMountpoint(r))throw new ut.ErrnoError(10);if(!ut.isDir(r.mode))throw new ut.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?ut.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:e=>{var t=ut.lookupPath(e,{follow_mount:!1});if(!ut.isMountpoint(t.node))throw new ut.ErrnoError(28);var n=t.node,r=n.mounted,o=ut.getMounts(r);Object.keys(ut.nameTable).forEach((e=>{for(var t=ut.nameTable[e];t;){var n=t.name_next;o.includes(t.mount)&&ut.destroyNode(t),t=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(r);n.mount.mounts.splice(i,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,n)=>{var r=ut.lookupPath(e,{parent:!0}).node,o=tt.basename(e);if(!o||"."===o||".."===o)throw new ut.ErrnoError(28);var i=ut.mayCreate(r,o);if(i)throw new ut.ErrnoError(i);if(!r.node_ops.mknod)throw new ut.ErrnoError(63);return r.node_ops.mknod(r,o,t,n)},create:(e,t)=>(t=void 0!==t?t:438,t&=4095,t|=32768,ut.mknod(e,t,0)),mkdir:(e,t)=>(t=void 0!==t?t:511,t&=1023,t|=16384,ut.mknod(e,t,0)),mkdirTree:(e,t)=>{for(var n=e.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{ut.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,n)=>(void 0===n&&(n=t,t=438),t|=8192,ut.mknod(e,t,n)),symlink:(e,t)=>{if(!rt.resolve(e))throw new ut.ErrnoError(44);var n=ut.lookupPath(t,{parent:!0}).node;if(!n)throw new ut.ErrnoError(44);var r=tt.basename(t),o=ut.mayCreate(n,r);if(o)throw new ut.ErrnoError(o);if(!n.node_ops.symlink)throw new ut.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:(e,t)=>{var n,r,o=tt.dirname(e),i=tt.dirname(t),a=tt.basename(e),s=tt.basename(t);if(n=ut.lookupPath(e,{parent:!0}).node,r=ut.lookupPath(t,{parent:!0}).node,!n||!r)throw new ut.ErrnoError(44);if(n.mount!==r.mount)throw new ut.ErrnoError(75);var u,c=ut.lookupNode(n,a),l=rt.relative(e,i);if("."!==l.charAt(0))throw new ut.ErrnoError(28);if("."!==(l=rt.relative(t,o)).charAt(0))throw new ut.ErrnoError(55);try{u=ut.lookupNode(r,s)}catch(e){}if(c!==u){var _=ut.isDir(c.mode),p=ut.mayDelete(n,a,_);if(p)throw new ut.ErrnoError(p);if(p=u?ut.mayDelete(r,s,_):ut.mayCreate(r,s))throw new ut.ErrnoError(p);if(!n.node_ops.rename)throw new ut.ErrnoError(63);if(ut.isMountpoint(c)||u&&ut.isMountpoint(u))throw new ut.ErrnoError(10);if(r!==n&&(p=ut.nodePermissions(n,"w")))throw new ut.ErrnoError(p);ut.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(e){throw e}finally{ut.hashAddNode(c)}}},rmdir:e=>{var t=ut.lookupPath(e,{parent:!0}).node,n=tt.basename(e),r=ut.lookupNode(t,n),o=ut.mayDelete(t,n,!0);if(o)throw new ut.ErrnoError(o);if(!t.node_ops.rmdir)throw new ut.ErrnoError(63);if(ut.isMountpoint(r))throw new ut.ErrnoError(10);t.node_ops.rmdir(t,n),ut.destroyNode(r)},readdir:e=>{var t=ut.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new ut.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var t=ut.lookupPath(e,{parent:!0}).node;if(!t)throw new ut.ErrnoError(44);var n=tt.basename(e),r=ut.lookupNode(t,n),o=ut.mayDelete(t,n,!1);if(o)throw new ut.ErrnoError(o);if(!t.node_ops.unlink)throw new ut.ErrnoError(63);if(ut.isMountpoint(r))throw new ut.ErrnoError(10);t.node_ops.unlink(t,n),ut.destroyNode(r)},readlink:e=>{var t=ut.lookupPath(e).node;if(!t)throw new ut.ErrnoError(44);if(!t.node_ops.readlink)throw new ut.ErrnoError(28);return rt.resolve(ut.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,t)=>{var n=ut.lookupPath(e,{follow:!t}).node;if(!n)throw new ut.ErrnoError(44);if(!n.node_ops.getattr)throw new ut.ErrnoError(63);return n.node_ops.getattr(n)},lstat:e=>ut.stat(e,!0),chmod:(e,t,n)=>{var r;if(!(r="string"==typeof e?ut.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new ut.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:(e,t)=>{ut.chmod(e,t,!0)},fchmod:(e,t)=>{var n=ut.getStream(e);if(!n)throw new ut.ErrnoError(8);ut.chmod(n.node,t)},chown:(e,t,n,r)=>{var o;if(!(o="string"==typeof e?ut.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new ut.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(e,t,n)=>{ut.chown(e,t,n,!0)},fchown:(e,t,n)=>{var r=ut.getStream(e);if(!r)throw new ut.ErrnoError(8);ut.chown(r.node,t,n)},truncate:(e,t)=>{if(t<0)throw new ut.ErrnoError(28);var n;if(!(n="string"==typeof e?ut.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new ut.ErrnoError(63);if(ut.isDir(n.mode))throw new ut.ErrnoError(31);if(!ut.isFile(n.mode))throw new ut.ErrnoError(28);var r=ut.nodePermissions(n,"w");if(r)throw new ut.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var n=ut.getStream(e);if(!n)throw new ut.ErrnoError(8);if(0==(2097155&n.flags))throw new ut.ErrnoError(28);ut.truncate(n.node,t)},utime:(e,t,n)=>{var r=ut.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:(e,t,n)=>{if(""===e)throw new ut.ErrnoError(44);var r;if(n=void 0===n?438:n,n=64&(t="string"==typeof t?ut.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)r=e;else{e=tt.normalize(e);try{r=ut.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var i=!1;if(64&t)if(r){if(128&t)throw new ut.ErrnoError(20)}else r=ut.mknod(e,n,0),i=!0;if(!r)throw new ut.ErrnoError(44);if(ut.isChrdev(r.mode)&&(t&=-513),65536&t&&!ut.isDir(r.mode))throw new ut.ErrnoError(54);if(!i){var a=ut.mayOpen(r,t);if(a)throw new ut.ErrnoError(a)}512&t&&!i&&ut.truncate(r,0),t&=-131713;var s=ut.createStream({node:r,path:ut.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!o.logReadFiles||1&t||(ut.readFiles||(ut.readFiles={}),e in ut.readFiles||(ut.readFiles[e]=1)),s},close:e=>{if(ut.isClosed(e))throw new ut.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{ut.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,t,n)=>{if(ut.isClosed(e))throw new ut.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ut.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new ut.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:(e,t,n,r,o)=>{if(r<0||o<0)throw new ut.ErrnoError(28);if(ut.isClosed(e))throw new ut.ErrnoError(8);if(1==(2097155&e.flags))throw new ut.ErrnoError(8);if(ut.isDir(e.node.mode))throw new ut.ErrnoError(31);if(!e.stream_ops.read)throw new ut.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new ut.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,n,r,o);return i||(e.position+=a),a},write:(e,t,n,r,o,i)=>{if(r<0||o<0)throw new ut.ErrnoError(28);if(ut.isClosed(e))throw new ut.ErrnoError(8);if(0==(2097155&e.flags))throw new ut.ErrnoError(8);if(ut.isDir(e.node.mode))throw new ut.ErrnoError(31);if(!e.stream_ops.write)throw new ut.ErrnoError(28);e.seekable&&1024&e.flags&&ut.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new ut.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,n,r,o,i);return a||(e.position+=s),s},allocate:(e,t,n)=>{if(ut.isClosed(e))throw new ut.ErrnoError(8);if(t<0||n<=0)throw new ut.ErrnoError(28);if(0==(2097155&e.flags))throw new ut.ErrnoError(8);if(!ut.isFile(e.node.mode)&&!ut.isDir(e.node.mode))throw new ut.ErrnoError(43);if(!e.stream_ops.allocate)throw new ut.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:(e,t,n,r,o)=>{if(0!=(2&r)&&0==(2&o)&&2!=(2097155&e.flags))throw new ut.ErrnoError(2);if(1==(2097155&e.flags))throw new ut.ErrnoError(2);if(!e.stream_ops.mmap)throw new ut.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,o)},msync:(e,t,n,r,o)=>e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,o):0,munmap:e=>0,ioctl:(e,t,n)=>{if(!e.stream_ops.ioctl)throw new ut.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:(e,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=ut.open(e,t.flags),o=ut.stat(e).size,i=new Uint8Array(o);return ut.read(r,i,0,o,0),"utf8"===t.encoding?n=R(i,0):"binary"===t.encoding&&(n=i),ut.close(r),n},writeFile:(e,t,n={})=>{n.flags=n.flags||577;var r=ut.open(e,n.flags,n.mode);if("string"==typeof t){var o=new Uint8Array(j(t)+1),i=L(t,o,0,o.length);ut.write(r,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ut.write(r,t,0,t.byteLength,void 0,n.canOwn)}ut.close(r)},cwd:()=>ut.currentPath,chdir:e=>{var t=ut.lookupPath(e,{follow:!0});if(null===t.node)throw new ut.ErrnoError(44);if(!ut.isDir(t.node.mode))throw new ut.ErrnoError(54);var n=ut.nodePermissions(t.node,"x");if(n)throw new ut.ErrnoError(n);ut.currentPath=t.path},createDefaultDirectories:()=>{ut.mkdir("/tmp"),ut.mkdir("/home"),ut.mkdir("/home/web_user")},createDefaultDevices:()=>{ut.mkdir("/dev"),ut.registerDevice(ut.makedev(1,3),{read:()=>0,write:(e,t,n,r,o)=>r}),ut.mkdev("/dev/null",ut.makedev(1,3)),it.register(ut.makedev(5,0),it.default_tty_ops),it.register(ut.makedev(6,0),it.default_tty1_ops),ut.mkdev("/dev/tty",ut.makedev(5,0)),ut.mkdev("/dev/tty1",ut.makedev(6,0));var e=nt();ut.createDevice("/dev","random",e),ut.createDevice("/dev","urandom",e),ut.mkdir("/dev/shm"),ut.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{ut.mkdir("/proc");var e=ut.mkdir("/proc/self");ut.mkdir("/proc/self/fd"),ut.mount({mount:()=>{var t=ut.createNode(e,"fd",16895,73);return t.node_ops={lookup:(e,t)=>{var n=+t,r=ut.getStream(n);if(!r)throw new ut.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>r.path}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?ut.createDevice("/dev","stdin",o.stdin):ut.symlink("/dev/tty","/dev/stdin"),o.stdout?ut.createDevice("/dev","stdout",null,o.stdout):ut.symlink("/dev/tty","/dev/stdout"),o.stderr?ut.createDevice("/dev","stderr",null,o.stderr):ut.symlink("/dev/tty1","/dev/stderr"),ut.open("/dev/stdin",0),ut.open("/dev/stdout",1),ut.open("/dev/stderr",1)},ensureErrnoError:()=>{ut.ErrnoError||(ut.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ut.ErrnoError.prototype=new Error,ut.ErrnoError.prototype.constructor=ut.ErrnoError,[44].forEach((e=>{ut.genericErrors[e]=new ut.ErrnoError(e),ut.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{ut.ensureErrnoError(),ut.nameTable=new Array(4096),ut.mount(st,{},"/"),ut.createDefaultDirectories(),ut.createDefaultDevices(),ut.createSpecialDirectories(),ut.filesystems={MEMFS:st}},init:(e,t,n)=>{ut.init.initialized=!0,ut.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=n||o.stderr,ut.createStandardStreams()},quit:()=>{ut.init.initialized=!1;for(var e=0;e<ut.streams.length;e++){var t=ut.streams[e];t&&ut.close(t)}},getMode:(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:(e,t)=>{var n=ut.analyzePath(e,t);return n.exists?n.object:null},analyzePath:(e,t)=>{try{e=(r=ut.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=ut.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=tt.basename(e),r=ut.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createPath:(e,t,n,r)=>{e="string"==typeof e?e:ut.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=tt.join2(e,i);try{ut.mkdir(a)}catch(e){}e=a}}return a},createFile:(e,t,n,r,o)=>{var i=tt.join2("string"==typeof e?e:ut.getPath(e),t),a=ut.getMode(r,o);return ut.create(i,a)},createDataFile:(e,t,n,r,o,i)=>{var a=t;e&&(e="string"==typeof e?e:ut.getPath(e),a=t?tt.join2(e,t):e);var s=ut.getMode(r,o),u=ut.create(a,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),l=0,_=n.length;l<_;++l)c[l]=n.charCodeAt(l);n=c}ut.chmod(u,146|s);var p=ut.open(u,577);ut.write(p,n,0,n.length,0,i),ut.close(p),ut.chmod(u,s)}return u},createDevice:(e,t,n,r)=>{var o=tt.join2("string"==typeof e?e:ut.getPath(e),t),i=ut.getMode(!!n,!!r);ut.createDevice.major||(ut.createDevice.major=64);var a=ut.makedev(ut.createDevice.major++,0);return ut.registerDevice(a,{open:e=>{e.seekable=!1},close:e=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(e,t,r,o,i)=>{for(var a=0,s=0;s<o;s++){var u;try{u=n()}catch(e){throw new ut.ErrnoError(29)}if(void 0===u&&0===a)throw new ut.ErrnoError(6);if(null==u)break;a++,t[r+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:(e,t,n,o,i)=>{for(var a=0;a<o;a++)try{r(t[n+a])}catch(e){throw new ut.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),ut.mkdev(o,i,a)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ot(i(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new ut.ErrnoError(29)}},createLazyFile:(e,t,n,r,o)=>{function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=r);var s=this;s.setDataGetter((e=>{var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,r-1),void 0===s.chunks[e]&&(s.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):ot(o.responseText||"",!0)})(t,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&r||(a=r=1,r=this.getter(0).length,a=r,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var u=ut.createFile(e,t,s,r,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};function l(e,t,n,r,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,r);if(i.slice)for(var s=0;s<a;s++)t[n+s]=i[o+s];else for(s=0;s<a;s++)t[n+s]=i.get(o+s);return a}return Object.keys(u.stream_ops).forEach((e=>{var t=u.stream_ops[e];c[e]=function(){return ut.forceLoadFile(u),t.apply(null,arguments)}})),c.read=(e,t,n,r,o)=>(ut.forceLoadFile(u),l(e,t,n,r,o)),c.mmap=(e,t,n,r,o)=>{ut.forceLoadFile(u);var i=at(t);if(!i)throw new ut.ErrnoError(48);return l(e,A,i,t,n),{ptr:i,allocated:!0}},u.stream_ops=c,u},createPreloadedFile:(e,t,n,r,o,i,s,u,c,l)=>{var _=t?rt.resolve(tt.join2(e,t)):e;function p(n){function a(n){l&&l(),u||ut.createDataFile(e,t,n,r,o,c),i&&i(),ne()}gr.handledByPreloadPlugin(n,_,a,(()=>{s&&s(),ne()}))||a(n)}te(),"string"==typeof n?function(e,t,n,r){var o="al "+e;a(e,(t=>{S(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),p(new Uint8Array(t)),o&&ne()}),(t=>{if(!n)throw'Loading data file "'+e+'" failed.';n()})),o&&te()}(n,0,s):p(n)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,t,n)=>{t=t||(()=>{}),n=n||(()=>{});var r=ut.indexedDB();try{var o=r.open(ut.DB_NAME(),ut.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=()=>{m("creating db"),o.result.createObjectStore(ut.DB_STORE_NAME)},o.onsuccess=()=>{var r=o.result.transaction([ut.DB_STORE_NAME],"readwrite"),i=r.objectStore(ut.DB_STORE_NAME),a=0,s=0,u=e.length;function c(){0==s?t():n()}e.forEach((e=>{var t=i.put(ut.analyzePath(e).object.contents,e);t.onsuccess=()=>{++a+s==u&&c()},t.onerror=()=>{s++,a+s==u&&c()}})),r.onerror=n},o.onerror=n},loadFilesFromDB:(e,t,n)=>{t=t||(()=>{}),n=n||(()=>{});var r=ut.indexedDB();try{var o=r.open(ut.DB_NAME(),ut.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=n,o.onsuccess=()=>{var r=o.result;try{var i=r.transaction([ut.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=i.objectStore(ut.DB_STORE_NAME),s=0,u=0,c=e.length;function l(){0==u?t():n()}e.forEach((e=>{var t=a.get(e);t.onsuccess=()=>{ut.analyzePath(e).exists&&ut.unlink(e),ut.createDataFile(tt.dirname(e),tt.basename(e),t.result,!0,!0,!0),++s+u==c&&l()},t.onerror=()=>{u++,s+u==c&&l()}})),i.onerror=n},o.onerror=n}},ct={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(tt.isAbs(t))return t;var r;if(r=-100===e?ut.cwd():ct.getStreamFromFD(e).path,0==t.length){if(!n)throw new ut.ErrnoError(44);return r}return tt.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&tt.normalize(t)!==tt.normalize(ut.getPath(e.node)))return-54;throw e}return k[n>>2]=r.dev,k[n+8>>2]=r.ino,k[n+12>>2]=r.mode,O[n+16>>2]=r.nlink,k[n+20>>2]=r.uid,k[n+24>>2]=r.gid,k[n+28>>2]=r.rdev,W=[r.size>>>0,(z=r.size,+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[n+40>>2]=W[0],k[n+44>>2]=W[1],k[n+48>>2]=4096,k[n+52>>2]=r.blocks,W=[Math.floor(r.atime.getTime()/1e3)>>>0,(z=Math.floor(r.atime.getTime()/1e3),+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[n+56>>2]=W[0],k[n+60>>2]=W[1],O[n+64>>2]=0,W=[Math.floor(r.mtime.getTime()/1e3)>>>0,(z=Math.floor(r.mtime.getTime()/1e3),+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[n+72>>2]=W[0],k[n+76>>2]=W[1],O[n+80>>2]=0,W=[Math.floor(r.ctime.getTime()/1e3)>>>0,(z=Math.floor(r.ctime.getTime()/1e3),+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[n+88>>2]=W[0],k[n+92>>2]=W[1],O[n+96>>2]=0,W=[r.ino>>>0,(z=r.ino,+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[n+104>>2]=W[0],k[n+108>>2]=W[1],0},doMsync:function(e,t,n,r,o){var i=T.slice(e,e+n);ut.msync(t,i,o,n,r)},varargs:void 0,get:function(){return ct.varargs+=4,k[ct.varargs-4>>2]},getStr:function(e){return M(e)},getStreamFromFD:function(e){var t=ut.getStream(e);if(!t)throw new ut.ErrnoError(8);return t}};function lt(e,t,n){ct.varargs=n;try{var r=ct.getStreamFromFD(e);switch(t){case 0:return(o=ct.get())<0?-28:ut.createStream(r,o).fd;case 1:case 2:case 6:case 7:return 0;case 3:return r.flags;case 4:var o=ct.get();return r.flags|=o,0;case 5:return o=ct.get(),N[o+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return 28,k[Hr()>>2]=28,-1}}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function _t(e,t){try{var n=ct.getStreamFromFD(e);return ct.doStat(ut.stat,n.path,t)}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function pt(e,t,n){ct.varargs=n;try{var r=ct.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var o=ct.get();return k[o>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:return o=ct.get(),ut.ioctl(r,t,o);default:return-28}}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function ft(e,t){try{return e=ct.getStr(e),ct.doStat(ut.lstat,e,t)}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function dt(e,t,n){try{return t=ct.getStr(t),t=ct.calculateAt(e,t),"/"===(t=tt.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),ut.mkdir(t,n,0),0}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function mt(e,t,n,r){try{t=ct.getStr(t);var o=256&r,i=4096&r;return r&=-4353,t=ct.calculateAt(e,t,i),ct.doStat(o?ut.lstat:ut.stat,t,n)}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function ht(e,t,n,r){ct.varargs=r;try{t=ct.getStr(t),t=ct.calculateAt(e,t);var o=r?ct.get():0;return ut.open(t,n,o).fd}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function vt(e,t){try{return e=ct.getStr(e),ct.doStat(ut.stat,e,t)}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function gt(e,t,n){try{return t=ct.getStr(t),t=ct.calculateAt(e,t),0===n?ut.unlink(t):512===n?ut.rmdir(t):re("Invalid flags passed to unlinkat"),0}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}lt.sig="iiip",_t.sig="iip",pt.sig="iiip",ft.sig="ipp",dt.sig="iipi",mt.sig="iippi",ht.sig="iipip",vt.sig="ipp",gt.sig="iipi";var yt=new WebAssembly.Global({value:"i32",mutable:!1},1);o.___table_base=yt;var wt={};function Et(e){var t=j(e)+1,n=to(t);return L(e,A,n,t),n}function bt(e){var t,n;t=function(){var t=Et(e);Kr(t)},n=Qr(),t(),eo(n)}function St(e,t){var n=M(e+44),r=k[e+20>>2],o=[],i=e=>{var t=ut.findObject(e);return t&&!t.isFolder&&!t.isDevice};if(!i(n=tt.normalize(n)))for(var a in wt.LD_LIBRARY_PATH&&(o=wt.LD_LIBRARY_PATH.split(":")),o){var s=tt.join2(o[a],n);if(i(s)){n=s;break}}var u={global:Boolean(256&r),nodelete:Boolean(4096&r),loadAsync:t.loadAsync,fs:t.fs};if(t.loadAsync)return De(n,u,e);try{return De(n,u,e)}catch(e){return bt("Could not load dynamic lib: "+n+"\n"+e),0}}function Ct(e){return St(e,{loadAsync:!1,fs:ut})}function At(e,t){var n;if(t=M(t),0==e){if(!(n=ke(t,!0)))return bt('Tried to lookup unknown symbol "'+t+'" in dynamic lib: RTLD_DEFAULT'),0}else{var r=me.loadedLibsByHandle[e];if(!r.module.hasOwnProperty(t))return bt('Tried to lookup unknown symbol "'+t+'" in dynamic lib: '+r.name),0;(n=r.module["orig$"+t])||(n=r.module[t])}return"function"==typeof n&&(n=Ne(n,n.sig)),n}Ct.sig="iiii",At.sig="iii";var Tt={};function Nt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Pt(e){return this.fromWireType(k[e>>2])}var kt={},Ot={},It={};function Dt(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function Ft(e,t){return e=Dt(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Rt(e,t){var n=Ft(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Mt=void 0;function Lt(e){throw new Mt(e)}function xt(e,t,n){function r(t){var r=n(t);r.length!==e.length&&Lt("Mismatched type converter count");for(var o=0;o<e.length;++o)Wt(e[o],r[o])}e.forEach((function(e){It[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach(((e,t)=>{Ot.hasOwnProperty(e)?o[t]=Ot[e]:(i.push(e),kt.hasOwnProperty(e)||(kt[e]=[]),kt[e].push((()=>{o[t]=Ot[e],++a===i.length&&r(o)})))})),0===i.length&&r(o)}function jt(e){var t=Tt[e];delete Tt[e];var n=t.rawConstructor,r=t.rawDestructor,o=t.fields;xt([e],o.map((e=>e.getterReturnType)).concat(o.map((e=>e.setterArgumentType))),(e=>{var i={};return o.forEach(((t,n)=>{var r=t.fieldName,a=e[n],s=t.getter,u=t.getterContext,c=e[n+o.length],l=t.setter,_=t.setterContext;i[r]={read:e=>a.fromWireType(s(u,e)),write:(e,t)=>{var n=[];l(_,e,c.toWireType(n,t)),Nt(n)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var n in i)t[n]=i[n].read(e);return r(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError('Missing field:  "'+o+'"');var a=n();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(r,a),a},argPackAdvance:8,readValueFromPointer:Pt,destructorFunction:r}]}))}function Ut(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}jt.sig="ii";var Bt=void 0;function $t(e){for(var t="",n=e;T[n];)t+=Bt[T[n++]];return t}var Zt=void 0;function zt(e){throw new Zt(e)}function Wt(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||zt('type "'+r+'" must have a positive integer typeid pointer'),Ot.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;zt("Cannot register type '"+r+"' twice")}if(Ot[e]=t,delete It[e],kt.hasOwnProperty(e)){var o=kt[e];delete kt[e],o.forEach((e=>e()))}}function Gt(e,t,n,r,o){var i=Ut(n);Wt(e,{name:t=$t(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:o},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=A;else if(2===n)r=N;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=k}return this.fromWireType(r[e>>i])},destructorFunction:null})}function Vt(e){zt(e.$$.ptrType.registeredClass.name+" instance already deleted")}Gt.sig="vpppii";var qt=!1;function Ht(e){}function Kt(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function Yt(e,t,n){if(t===n)return e;if(void 0===n.baseClass)return null;var r=Yt(e,t,n.baseClass);return null===r?null:n.downcast(r)}var Xt={};var Jt=[];function Qt(){for(;Jt.length;){var e=Jt.pop();e.$$.deleteScheduled=!1,e.delete()}}var en=void 0;var tn={};function nn(e,t){return t.ptrType&&t.ptr||Lt("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Lt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},rn(Object.create(e,{$$:{value:t}}))}function rn(e){return"undefined"==typeof FinalizationRegistry?(rn=e=>e,e):(qt=new FinalizationRegistry((e=>{Kt(e.$$)})),rn=e=>{var t=e.$$;if(t.smartPtr){var n={$$:t};qt.register(e,n,e)}return e},Ht=e=>qt.unregister(e),rn(e))}function on(){}function an(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||zt("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function sn(e,t,n){o.hasOwnProperty(e)?((void 0===n||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[n])&&zt("Cannot register public name '"+e+"' twice"),an(o,e,e),o.hasOwnProperty(n)&&zt("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),o[e].overloadTable[n]=t):(o[e]=t,void 0!==n&&(o[e].numArguments=n))}function un(e,t,n,r,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function cn(e,t,n){for(;t!==n;)t.upcast||zt("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function ln(e,t){if(null===t)return this.isReference&&zt("null is not a valid "+this.name),0;t.$$||zt('Cannot pass "'+Mn(t)+'" as a '+this.name),t.$$.ptr||zt("Cannot pass deleted object as a pointer of type "+this.name);var n=t.$$.ptrType.registeredClass;return cn(t.$$.ptr,n,this.registeredClass)}function _n(e,t){var n;if(null===t)return this.isReference&&zt("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,n),n):0;t.$$||zt('Cannot pass "'+Mn(t)+'" as a '+this.name),t.$$.ptr||zt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&zt("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;if(n=cn(t.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&zt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:zt("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var o=t.clone();n=this.rawShare(n,kn.toHandle((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,n)}break;default:zt("Unsupporting sharing policy")}return n}function pn(e,t){if(null===t)return this.isReference&&zt("null is not a valid "+this.name),0;t.$$||zt('Cannot pass "'+Mn(t)+'" as a '+this.name),t.$$.ptr||zt("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&zt("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;return cn(t.$$.ptr,n,this.registeredClass)}function fn(e,t,n,r,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=r,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=_n:r?(this.toWireType=ln,this.destructorFunction=null):(this.toWireType=pn,this.destructorFunction=null)}function dn(e,t,n){o.hasOwnProperty(e)||Lt("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==n?o[e].overloadTable[n]=t:(o[e]=t,o[e].argCount=n)}function mn(e,t){var n,r,o,i=(e=$t(e)).includes("j")?(n=e,r=t,o=[],function(){return o.length=0,Object.assign(o,arguments),ge(n,r,o)}):ve(t);return"function"!=typeof i&&zt("unknown function pointer with signature "+e+": "+t),i}var hn=void 0;function vn(e){var t=qr(e),n=$t(t);return Vr(t),n}function gn(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Ot[t]||(It[t]?It[t].forEach(e):(n.push(t),r[t]=!0))})),new hn(e+": "+n.map(vn).join([", "]))}function yn(e,t,n,r,o,i,a,s,u,c,l,_,p){l=$t(l),i=mn(o,i),s&&(s=mn(a,s)),c&&(c=mn(u,c)),p=mn(_,p);var f=Dt(l);sn(f,(function(){gn("Cannot construct "+l+" due to unbound types",[r])})),xt([e,t,n],r?[r]:[],(function(t){var n,o;t=t[0],o=r?(n=t.registeredClass).instancePrototype:on.prototype;var a=Ft(f,(function(){if(Object.getPrototypeOf(this)!==u)throw new Zt("Use 'new' to construct "+l);if(void 0===_.constructor_body)throw new Zt(l+" has no accessible constructor");var e=_.constructor_body[arguments.length];if(void 0===e)throw new Zt("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(_.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var _=new un(l,a,u,p,n,i,s,c),d=new fn(l,_,!0,!1,!1),m=new fn(l+"*",_,!1,!1,!1),h=new fn(l+" const*",_,!1,!0,!1);return Xt[e]={pointerType:m,constPointerType:h},dn(f,a),[d,m,h]}))}function wn(e,t){for(var n=[],r=0;r<e;r++)n.push(O[t+4*r>>2]);return n}function En(e,t,n,r,o){var i=t.length;i<2&&zt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",_="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,_+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+Dt(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var f=s?"destructors":"null",d=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[zt,r,o,Nt,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+f+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+f+", arg"+u+"); // "+t[u+2].name+"\n",d.push("argType"+u),m.push(t[u+2]);if(a&&(_="thisWired"+(_.length>0?", ":"")+_),p+=(c?"var rv = ":"")+"invoker(fn"+(_.length>0?", ":"")+_+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var h=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=h+"_dtor("+h+"); // "+t[u].name+"\n",d.push(h+"_dtor"),m.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",d.push(p),function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=Ft(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return o instanceof Object?o:r}(Function,d).apply(null,m)}function bn(e,t,n,r,o,i){S(t>0);var a=wn(t,n);o=mn(r,o),xt([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Zt("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=()=>{gn("Cannot construct "+e.name+" due to unbound types",a)},xt([],a,(function(r){return r.splice(1,0,null),e.registeredClass.constructor_body[t-1]=En(n,r,null,o,i),[]})),[]}))}function Sn(e,t,n,r,o,i,a,s){var u=wn(n,r);t=$t(t),i=mn(o,i),xt([],[e],(function(e){var r=(e=e[0]).name+"."+t;function o(){gn("Cannot call "+r+" due to unbound types",u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===n-2?(o.argCount=n-2,o.className=e.name,c[t]=o):(an(c,t,r),c[t].overloadTable[n-2]=o),xt([],u,(function(o){var s=En(r,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=n-2,c[t]=s):c[t].overloadTable[n-2]=s,[]})),[]}))}function Cn(e,t,n){return e instanceof Object||zt(n+' with invalid "this": '+e),e instanceof t.registeredClass.constructor||zt(n+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||zt("cannot call emscripten binding method "+n+" on deleted object"),cn(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)}function An(e,t,n,r,o,i,a,s,u,c){t=$t(t),o=mn(r,o),xt([],[e],(function(e){var r=(e=e[0]).name+"."+t,l={get:function(){gn("Cannot access "+r+" due to unbound types",[n,a])},enumerable:!0,configurable:!0};return l.set=u?()=>{gn("Cannot access "+r+" due to unbound types",[n,a])}:e=>{zt(r+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,t,l),xt([],u?[n,a]:[n],(function(n){var a=n[0],l={get:function(){var t=Cn(this,e,r+" getter");return a.fromWireType(o(i,t))},enumerable:!0};if(u){u=mn(s,u);var _=n[1];l.set=function(t){var n=Cn(this,e,r+" setter"),o=[];u(c,n,_.toWireType(o,t)),Nt(o)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,l),[]})),[]}))}yn.sig="vppppppppppppp",bn.sig="vpipppp",Sn.sig="vppippppi",An.sig="vpppppppppp";var Tn=[],Nn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Pn(e){e>4&&0==--Nn[e].refcount&&(Nn[e]=void 0,Tn.push(e))}Pn.sig="vp";var kn={toValue:e=>(e||zt("Cannot use deleted val. handle = "+e),Nn[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Tn.length?Tn.pop():Nn.length;return Nn[t]={refcount:1,value:e},t}}};function On(e,t){Wt(e,{name:t=$t(t),fromWireType:function(e){var t=kn.toValue(e);return Pn(e),t},toWireType:function(e,t){return kn.toHandle(t)},argPackAdvance:8,readValueFromPointer:Pt,destructorFunction:null})}function In(e,t,n){switch(t){case 0:return function(e){var t=n?A:T;return this.fromWireType(t[e])};case 1:return function(e){var t=n?N:P;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=n?k:O;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Dn(e,t,n,r){var o=Ut(n);function i(){}t=$t(t),i.values={},Wt(e,{name:t,constructor:i,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:In(t,o,r),destructorFunction:null}),sn(t,i)}function Fn(e,t){var n=Ot[e];return void 0===n&&zt(t+" has unknown type "+vn(e)),n}function Rn(e,t,n){var r=Fn(e,"enum");t=$t(t);var o=r.constructor,i=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Ft(r.name+"_"+t,(function(){}))}});o.values[n]=i,o[t]=i}function Mn(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Ln(e,t){switch(t){case 2:return function(e){return this.fromWireType(I[e>>2])};case 3:return function(e){return this.fromWireType(D[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function xn(e,t,n){var r=Ut(n);Wt(e,{name:t=$t(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Ln(t,r),destructorFunction:null})}function jn(e,t,n,r,o,i){var a=wn(t,n);e=$t(e),o=mn(r,o),sn(e,(function(){gn("Cannot call "+e+" due to unbound types",a)}),t-1),xt([],a,(function(n){var r=[n[0],null].concat(n.slice(1));return dn(e,En(e,r,null,o,i),t-1),[]}))}function Un(e,t,n){switch(t){case 0:return n?function(e){return A[e]}:function(e){return T[e]};case 1:return n?function(e){return N[e>>1]}:function(e){return P[e>>1]};case 2:return n?function(e){return k[e>>2]}:function(e){return O[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Bn(e,t,n,r,o){t=$t(t),-1===o&&(o=4294967295);var i=Ut(n),a=e=>e;if(0===r){var s=32-8*n;a=e=>e<<s>>>s}var u=t.includes("unsigned");Wt(e,{name:t,fromWireType:a,toWireType:u?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Un(t,i,0!==r),destructorFunction:null})}function $n(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=O,n=t[e>>=2],o=t[e+1];return new r(C,o,n)}Wt(e,{name:n=$t(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function Zn(e,t){var n="std::string"===(t=$t(t));Wt(e,{name:t,fromWireType:function(e){var t,r=O[e>>2],o=e+4;if(n)for(var i=o,a=0;a<=r;++a){var s=o+a;if(a==r||0==T[s]){var u=M(i,s-i);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),i=s+1}}else{var c=new Array(r);for(a=0;a<r;++a)c[a]=String.fromCharCode(T[o+a]);t=c.join("")}return Vr(e),t},toWireType:function(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||zt("Cannot pass non-string to std::string"),r=n&&o?j(t):t.length;var i=Gr(4+r+1),a=i+4;if(O[i>>2]=r,n&&o)x(t,a,r+1);else if(o)for(var s=0;s<r;++s){var u=t.charCodeAt(s);u>255&&(Vr(a),zt("String has UTF-16 code units that do not fit in 8 bits")),T[a+s]=u}else for(s=0;s<r;++s)T[a+s]=t[s];return null!==e&&e.push(Vr,i),i},argPackAdvance:8,readValueFromPointer:Pt,destructorFunction:function(e){Vr(e)}})}On.sig="vpp",Dn.sig="vpppi",Rn.sig="vppi",xn.sig="vppp",jn.sig="vpipppp",Bn.sig="vpppii",$n.sig="vpip",Zn.sig="vpp";var zn,Wn="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Gn(e,t){for(var n=e,r=n>>1,o=r+t/2;!(r>=o)&&P[r];)++r;if((n=r<<1)-e>32&&Wn)return Wn.decode(T.subarray(e,n));for(var i="",a=0;!(a>=t/2);++a){var s=N[e+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i}function Vn(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,o=(n-=2)<2*e.length?n/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);N[t>>1]=a,t+=2}return N[t>>1]=0,t-r}function qn(e){return 2*e.length}function Hn(e,t){for(var n=0,r="";!(n>=t/4);){var o=k[e+4*n>>2];if(0==o)break;if(++n,o>=65536){var i=o-65536;r+=String.fromCharCode(55296|i>>10,56320|1023&i)}else r+=String.fromCharCode(o)}return r}function Kn(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,o=r+n-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),k[t>>2]=a,(t+=4)+4>o)break}return k[t>>2]=0,t-r}function Yn(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function Xn(e,t,n){var r,o,i,a,s;n=$t(n),2===t?(r=Gn,o=Vn,a=qn,i=()=>P,s=1):4===t&&(r=Hn,o=Kn,a=Yn,i=()=>O,s=2),Wt(e,{name:n,fromWireType:function(e){for(var n,o=O[e>>2],a=i(),u=e+4,c=0;c<=o;++c){var l=e+4+c*t;if(c==o||0==a[l>>s]){var _=r(u,l-u);void 0===n?n=_:(n+=String.fromCharCode(0),n+=_),u=l+t}}return Vr(e),n},toWireType:function(e,r){"string"!=typeof r&&zt("Cannot pass non-string to C++ string type "+n);var i=a(r),u=Gr(4+i+t);return O[u>>2]=i>>s,o(r,u+4,i+t),null!==e&&e.push(Vr,u),u},argPackAdvance:8,readValueFromPointer:Pt,destructorFunction:function(e){Vr(e)}})}function Jn(e,t,n,r,o,i){Tt[e]={name:$t(t),rawConstructor:mn(n,r),rawDestructor:mn(o,i),fields:[]}}function Qn(e,t,n,r,o,i,a,s,u,c){Tt[e].fields.push({fieldName:$t(t),getterReturnType:n,getter:mn(r,o),getterContext:i,setterArgumentType:a,setter:mn(s,u),setterContext:c})}function er(e,t){Wt(e,{isVoid:!0,name:t=$t(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function tr(){return Date.now()}function nr(e){if(!b)try{e()}catch(e){pe(e)}}function rr(e,t,n){function r(t){bt("Could not load dynamic lib: "+M(O[e+44>>2])+"\n"+t),nr((function(){ve(n)(e)}))}var o=St(e,{loadAsync:!0});o?o.then((function(){nr((function(){ve(t)(e)}))}),r):r()}function or(e){e>4&&(Nn[e].refcount+=1)}function ir(e,t){var n=(e=Fn(e,"_emval_take_value")).readValueFromPointer(t);return kn.toHandle(n)}function ar(e,t){var n,r=new Date(1e3*(O[(n=e)>>2]+4294967296*k[n+4>>2]));k[t>>2]=r.getUTCSeconds(),k[t+4>>2]=r.getUTCMinutes(),k[t+8>>2]=r.getUTCHours(),k[t+12>>2]=r.getUTCDate(),k[t+16>>2]=r.getUTCMonth(),k[t+20>>2]=r.getUTCFullYear()-1900,k[t+24>>2]=r.getUTCDay();var o=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),i=(r.getTime()-o)/864e5|0;k[t+28>>2]=i}function sr(e,t,n,r,o,i){try{var a=ct.getStreamFromFD(r),s=ut.mmap(a,e,o,t,n),u=s.ptr;return k[i>>2]=s.allocated,u}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function ur(e,t,n,r,o,i){try{var a=ct.getStreamFromFD(o);2&n&&ct.doMsync(e,a,t,r,i),ut.munmap(a)}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return-e.errno}}function cr(e){var t=j(e)+1,n=Gr(t);return n&&L(e,A,n,t),n}function lr(e,t,n){var r=(new Date).getFullYear(),o=new Date(r,0,1),i=new Date(r,6,1),a=o.getTimezoneOffset(),s=i.getTimezoneOffset(),u=Math.max(a,s);function c(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}k[e>>2]=60*u,k[t>>2]=Number(a!=s);var l=c(o),_=c(i),p=cr(l),f=cr(_);s<a?(O[n>>2]=p,O[n+4>>2]=f):(O[n>>2]=f,O[n+4>>2]=p)}function _r(e,t,n){_r.called||(_r.called=!0,lr(e,t,n))}function pr(){re("")}function fr(e,t){return setTimeout((function(){nr(e)}),t)}function dr(e,t){if(gr.mainLoop.timingMode=e,gr.mainLoop.timingValue=t,!gr.mainLoop.func)return 1;if(gr.mainLoop.running||(gr.mainLoop.running=!0),0==e)gr.mainLoop.scheduler=function(){var e=0|Math.max(0,gr.mainLoop.tickStartTime+t-zn());setTimeout(gr.mainLoop.runner,e)},gr.mainLoop.method="timeout";else if(1==e)gr.mainLoop.scheduler=function(){gr.requestAnimationFrame(gr.mainLoop.runner)},gr.mainLoop.method="rAF";else if(2==e){if("undefined"==typeof setImmediate){var n=[],r="setimmediate";addEventListener("message",(e=>{e.data!==r&&e.data.target!==r||(e.stopPropagation(),n.shift()())}),!0),setImmediate=function(e){n.push(e),f?(void 0===o.setImmediates&&(o.setImmediates=[]),o.setImmediates.push(e),postMessage({target:r})):postMessage(r,"*")}}gr.mainLoop.scheduler=function(){setImmediate(gr.mainLoop.runner)},gr.mainLoop.method="immediate"}return 0}function mr(e){E=e,w||(o.onExit&&o.onExit(e),b=!0),_(e,new ae(e))}function hr(e,t){E=e,mr(e)}function vr(e){vr.shown||(vr.shown={}),vr.shown[e]||(vr.shown[e]=1,h(e))}Xn.sig="vppp",Jn.sig="viiiiii",Qn.sig="viiiiiiiiii",er.sig="vpp",tr.sig="j",rr.sig="viiiii",or.sig="vp",ir.sig="ppp",ar.sig="ipp",sr.sig="ppiiipp",ur.sig="vppiiip",lr.sig="viii",_r.sig="vppp",o._abort=pr,pr.sig="v",dr.sig="iii",(zn=()=>performance.now()).sig="d",mr.sig="vi",hr.sig="vi";var gr={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){gr.mainLoop.scheduler=null,gr.mainLoop.currentlyRunningMainloop++},resume:function(){gr.mainLoop.currentlyRunningMainloop++;var e=gr.mainLoop.timingMode,t=gr.mainLoop.timingValue,n=gr.mainLoop.func;gr.mainLoop.func=null,function(e,t,n,r,o){S(!gr.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),gr.mainLoop.func=e,gr.mainLoop.arg=r;var i=gr.mainLoop.currentlyRunningMainloop;function a(){return!(i<gr.mainLoop.currentlyRunningMainloop)}gr.mainLoop.running=!1,gr.mainLoop.runner=function(){if(!b)if(gr.mainLoop.queue.length>0){var t=Date.now(),n=gr.mainLoop.queue.shift();if(n.func(n.arg),gr.mainLoop.remainingBlockers){var r=gr.mainLoop.remainingBlockers,o=r%1==0?r-1:Math.floor(r);n.counted?gr.mainLoop.remainingBlockers=o:(o+=.5,gr.mainLoop.remainingBlockers=(8*r+o)/9)}if(m('main loop blocker "'+n.name+'" took '+(Date.now()-t)+" ms"),gr.mainLoop.updateStatus(),!a())return;setTimeout(gr.mainLoop.runner,0)}else a()&&(gr.mainLoop.currentFrameNumber=gr.mainLoop.currentFrameNumber+1|0,1==gr.mainLoop.timingMode&&gr.mainLoop.timingValue>1&&gr.mainLoop.currentFrameNumber%gr.mainLoop.timingValue!=0?gr.mainLoop.scheduler():(0==gr.mainLoop.timingMode&&(gr.mainLoop.tickStartTime=zn()),gr.mainLoop.runIter(e),a()&&("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),gr.mainLoop.scheduler())))}}(n,0,0,gr.mainLoop.arg),dr(e,t),gr.mainLoop.scheduler()},updateStatus:function(){if(o.setStatus){var e=o.statusMessage||"Please wait...",t=gr.mainLoop.remainingBlockers,n=gr.mainLoop.expectedBlockers;t?t<n?o.setStatus(e+" ("+(n-t)+"/"+n+")"):o.setStatus(e):o.setStatus("")}},runIter:function(e){if(!b){if(o.preMainLoop&&!1===o.preMainLoop())return;nr(e),o.postMainLoop&&o.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(o.preloadPlugins||(o.preloadPlugins=[]),!gr.initted){gr.initted=!0;try{new Blob,gr.hasBlobConstructor=!0}catch(e){gr.hasBlobConstructor=!1,h("warning: no blob constructor, cannot create blobs with mimetypes")}gr.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:gr.hasBlobConstructor?null:h("warning: no BlobBuilder"),gr.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,o.noImageDecoding||void 0!==gr.URLObject||(h("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),o.noImageDecoding=!0);var e={canHandle:function(e){return!o.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,n,r){var o=null;if(gr.hasBlobConstructor)try{(o=new Blob([e],{type:gr.getMimetype(t)})).size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:gr.getMimetype(t)}))}catch(e){vr("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!o){var i=new gr.BlobBuilder;i.append(new Uint8Array(e).buffer),o=i.getBlob()}var a=gr.URLObject.createObjectURL(o),s=new Image;s.onload=()=>{S(s.complete,"Image "+t+" could not be decoded");var r=document.createElement("canvas");r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),Zr[t]=r,gr.URLObject.revokeObjectURL(a),n&&n(e)},s.onerror=e=>{m("Image "+a+" could not be decoded"),r&&r()},s.src=a}};o.preloadPlugins.push(e);var t={canHandle:function(e){return!o.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,n,r){var o=!1;function i(r){o||(o=!0,zr[t]=r,n&&n(e))}function a(){o||(o=!0,zr[t]=new Audio,r&&r())}if(!gr.hasBlobConstructor)return a();try{var s=new Blob([e],{type:gr.getMimetype(t)})}catch(e){return a()}var u=gr.URLObject.createObjectURL(s),c=new Audio;c.addEventListener("canplaythrough",(()=>i(c)),!1),c.onerror=function(n){o||(h("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),c.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,o=0,i=0;i<e.length;i++)for(r=r<<8|e[i],o+=8;o>=6;){var a=r>>o-6&63;o-=6,n+=t[a]}return 2==o?(n+=t[(3&r)<<4],n+="=="):4==o&&(n+=t[(15&r)<<2],n+="="),n}(e),i(c))},c.src=u,fr((function(){i(c)}),1e4)}};o.preloadPlugins.push(t);var n={asyncWasmLoadPromise:new Promise((function(e,t){return e()})),canHandle:function(e){return!o.noWasmDecoding&&e.endsWith(".so")},handle:function(e,t,r,o){n.asyncWasmLoadPromise=n.asyncWasmLoadPromise.then((()=>Ie(e,{loadAsync:!0,nodelete:!0}))).then((e=>{$r[t]=e,r()}),(e=>{console.warn("Couldn't instantiate wasm: "+t+" '"+e+"'"),o()}))}};o.preloadPlugins.push(n);var r=o.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||(()=>{}),r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),o.elementPointerLock&&r.addEventListener("click",(e=>{!gr.pointerLock&&o.canvas.requestPointerLock&&(o.canvas.requestPointerLock(),e.preventDefault())}),!1))}function i(){gr.pointerLock=document.pointerLockElement===o.canvas||document.mozPointerLockElement===o.canvas||document.webkitPointerLockElement===o.canvas||document.msPointerLockElement===o.canvas}},handledByPreloadPlugin:function(e,t,n,r){gr.init();var i=!1;return o.preloadPlugins.forEach((function(o){i||o.canHandle(t)&&(o.handle(e,t,n,r),i=!0)})),i},createContext:function(e,t,n,r){if(t&&o.ctx&&e==o.canvas)return o.ctx;var i,a;if(t){var s={antialias:!1,alpha:!1,majorVersion:1};if(r)for(var u in r)s[u]=r[u];"undefined"!=typeof GL&&(a=GL.createContext(e,s))&&(i=GL.getContext(a).GLctx)}else i=e.getContext("2d");return i?(n&&(t||S("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),o.ctx=i,t&&GL.makeContextCurrent(a),o.useWebGL=t,gr.moduleContextCreatedCallbacks.forEach((function(e){e()})),gr.init()),i):null},destroyContext:function(e,t,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t){gr.lockPointer=e,gr.resizeCanvas=t,void 0===gr.lockPointer&&(gr.lockPointer=!0),void 0===gr.resizeCanvas&&(gr.resizeCanvas=!1);var n=o.canvas;function r(){gr.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=gr.exitFullscreen,gr.lockPointer&&n.requestPointerLock(),gr.isFullscreen=!0,gr.resizeCanvas?gr.setFullscreenCanvasSize():gr.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),gr.resizeCanvas?gr.setWindowedCanvasSize():gr.updateCanvasDimensions(n)),o.onFullScreen&&o.onFullScreen(gr.isFullscreen),o.onFullscreen&&o.onFullscreen(gr.isFullscreen)}gr.fullscreenHandlersInstalled||(gr.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",r,!1),document.addEventListener("mozfullscreenchange",r,!1),document.addEventListener("webkitfullscreenchange",r,!1),document.addEventListener("MSFullscreenChange",r,!1));var i=document.createElement("div");n.parentNode.insertBefore(i,n),i.appendChild(n),i.requestFullscreen=i.requestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen||(i.webkitRequestFullscreen?()=>i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(i.webkitRequestFullScreen?()=>i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),i.requestFullscreen()},exitFullscreen:function(){return!!gr.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===gr.nextRAF)gr.nextRAF=t+1e3/60;else for(;t+2>=gr.nextRAF;)gr.nextRAF+=1e3/60;var n=Math.max(gr.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame:function(e){"function"!=typeof requestAnimationFrame?(0,gr.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)},safeSetTimeout:function(e){return fr(e)},safeRequestAnimationFrame:function(e){return gr.requestAnimationFrame((function(){nr(e)}))},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(gr.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?gr.mouseMovementX=gr.mouseMovementY=0:(gr.mouseMovementX=gr.getMovementX(e),gr.mouseMovementY=gr.getMovementY(e)),"undefined"!=typeof SDL?(gr.mouseX=SDL.mouseX+gr.mouseMovementX,gr.mouseY=SDL.mouseY+gr.mouseMovementY):(gr.mouseX+=gr.mouseMovementX,gr.mouseY+=gr.mouseMovementY);else{var t=o.canvas.getBoundingClientRect(),n=o.canvas.width,r=o.canvas.height,i=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var s=e.touch;if(void 0===s)return;var u=s.pageX-(i+t.left),c=s.pageY-(a+t.top),l={x:u*=n/t.width,y:c*=r/t.height};if("touchstart"===e.type)gr.lastTouches[s.identifier]=l,gr.touches[s.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var _=gr.touches[s.identifier];_||(_=l),gr.lastTouches[s.identifier]=_,gr.touches[s.identifier]=l}return}var p=e.pageX-(i+t.left),f=e.pageY-(a+t.top);p*=n/t.width,f*=r/t.height,gr.mouseMovementX=p-gr.mouseX,gr.mouseMovementY=f-gr.mouseY,gr.mouseX=p,gr.mouseY=f}},resizeListeners:[],updateResizeListeners:function(){var e=o.canvas;gr.resizeListeners.forEach((function(t){t(e.width,e.height)}))},setCanvasSize:function(e,t,n){var r=o.canvas;gr.updateCanvasDimensions(r,e,t),n||gr.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=O[SDL.screen>>2];e|=8388608,k[SDL.screen>>2]=e}gr.updateCanvasDimensions(o.canvas),gr.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=O[SDL.screen>>2];e&=-8388609,k[SDL.screen>>2]=e}gr.updateCanvasDimensions(o.canvas),gr.updateResizeListeners()},updateCanvasDimensions:function(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var r=t,i=n;if(o.forcedAspectRatio&&o.forcedAspectRatio>0&&(r/i<o.forcedAspectRatio?r=Math.round(i*o.forcedAspectRatio):i=Math.round(r/o.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/r,screen.height/i);r=Math.round(r*a),i=Math.round(i*a)}gr.resizeCanvas?(e.width!=r&&(e.width=r),e.height!=i&&(e.height=i),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),void 0!==e.style&&(r!=t||i!=n?(e.style.setProperty("width",r+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}};function yr(e,t,n){function r(){ve(e)(t)}n>=0?fr(r,n):gr.safeRequestAnimationFrame(r)}function wr(){return 2147483648}function Er(e,t,n){T.copyWithin(e,t,t+n)}function br(e){try{return y.grow(e-C.byteLength+65535>>>16),U(y.buffer),1}catch(e){}}function Sr(e){var t,n=T.length,r=2147483648;if((e>>>=0)>r)return!1;for(var o=1;o<=4;o*=2){var i=n*(1+.2/o);if(i=Math.min(i,e+100663296),br(Math.min(r,(t=Math.max(e,i))+(65536-t%65536)%65536)))return!0}return!1}function Cr(){if(!Cr.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in wt)void 0===wt[t]?delete e[t]:e[t]=wt[t];var n=[];for(var t in e)n.push(t+"="+e[t]);Cr.strings=n}return Cr.strings}function Ar(e,t){var n=0;return Cr().forEach((function(r,o){var i=t+n;O[e+4*o>>2]=i,function(e,t,n){for(var r=0;r<e.length;++r)A[t++>>0]=e.charCodeAt(r);A[t>>0]=0}(r,i),n+=r.length+1})),0}function Tr(e,t){var n=Cr();O[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),O[t>>2]=r,0}function Nr(e){try{var t=ct.getStreamFromFD(e);return ut.close(t),0}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return e.errno}}function Pr(e,t,n,r){try{var o=function(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=O[t>>2],s=O[t+4>>2];t+=8;var u=ut.read(e,A,a,s,undefined);if(u<0)return-1;if(o+=u,u<s)break}return o}(ct.getStreamFromFD(e),t,n);return O[r>>2]=o,0}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return e.errno}}function kr(e,t,n,r,o){try{var i=(u=n)+2097152>>>0<4194305-!!(s=t)?(s>>>0)+4294967296*u:NaN;if(isNaN(i))return 61;var a=ct.getStreamFromFD(e);return ut.llseek(a,i,r),W=[a.position>>>0,(z=a.position,+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[o>>2]=W[0],k[o+4>>2]=W[1],a.getdents&&0===i&&0===r&&(a.getdents=null),0}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return e.errno}var s,u}function Or(e,t,n,r){try{var o=function(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=O[t>>2],s=O[t+4>>2];t+=8;var u=ut.write(e,A,a,s,undefined);if(u<0)return-1;o+=u}return o}(ct.getStreamFromFD(e),t,n);return O[r>>2]=o,0}catch(e){if(void 0===ut||!(e instanceof ut.ErrnoError))throw e;return e.errno}}function Ir(e,t){Ir.randomDevice||(Ir.randomDevice=nt());for(var n=0;n<t;n++)A[e+n>>0]=Ir.randomDevice();return 0}function Dr(e){return e}function Fr(e){return e%4==0&&(e%100!=0||e%400==0)}yr.sig="vppi",wr.sig="p",Er.sig="vppp",Sr.sig="ip",Ar.sig="ipp",Tr.sig="ipp",Nr.sig="ii",Pr.sig="iippp",kr.sig="iijip",Or.sig="iippp",Ir.sig="ipp",Dr.sig="ip";var Rr=[31,29,31,30,31,30,31,31,30,31,30,31],Mr=[31,28,31,30,31,30,31,31,30,31,30,31];function Lr(e,t,n,r){var o=k[r+40>>2],i={tm_sec:k[r>>2],tm_min:k[r+4>>2],tm_hour:k[r+8>>2],tm_mday:k[r+12>>2],tm_mon:k[r+16>>2],tm_year:k[r+20>>2],tm_wday:k[r+24>>2],tm_yday:k[r+28>>2],tm_isdst:k[r+32>>2],tm_gmtoff:k[r+36>>2],tm_zone:o?M(o):""},a=M(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)a=a.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function _(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function p(e,t){return _(e,t,"0")}function f(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function d(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Fr(n.getFullYear()),o=n.getMonth(),i=(r?Rr:Mr)[o];if(!(t>i-n.getDate()))return n.setDate(n.getDate()+t),n;t-=i-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),o=d(n),i=d(r);return f(o,t)<=0?f(i,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var h={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return p((e.tm_year+1900)/100|0,2)},"%d":function(e){return p(e.tm_mday,2)},"%e":function(e){return _(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return p(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),p(t,2)},"%j":function(e){return p(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Fr(e.tm_year+1900)?Rr:Mr,e.tm_mon-1),3)},"%m":function(e){return p(e.tm_mon+1,2)},"%M":function(e){return p(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return p(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return p(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Fr(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Fr(e.tm_year%400-1))&&t++}return p(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return p(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in a=a.replace(/%%/g,"\0\0"),h)a.includes(u)&&(a=a.replace(new RegExp(u,"g"),h[u](i)));var v=ot(a=a.replace(/\0\0/g,"%"),!1);return v.length>t?0:(Re(v,e),v.length-1)}function xr(e){return o["_"+e]}function jr(e,t,n,r,o){var i={string:e=>{var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);x(e,t=to(n),n)}return t},array:e=>{var t=to(e.length);return Re(e,t),t}},a=xr(e),s=[],u=0;if(r)for(var c=0;c<r.length;c++){var l=i[n[c]];l?(0===u&&(u=Qr()),s[c]=l(r[c])):s[c]=r[c]}var _=a.apply(null,s);return function(e){return 0!==u&&eo(u),function(e){return"string"===t?M(e):"boolean"===t?Boolean(e):e}(e)}(_)}Lr.sig="ppppp";var Ur=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ut.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r};Object.defineProperties(Ur.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return ut.isDir(this.mode)}},isDevice:{get:function(){return ut.isChrdev(this.mode)}}}),ut.FSNode=Ur,ut.staticInit(),Mt=o.InternalError=Rt(Error,"InternalError"),function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Bt=e}(),Zt=o.BindingError=Rt(Error,"BindingError"),on.prototype.isAliasOf=function(e){if(!(this instanceof on))return!1;if(!(e instanceof on))return!1;for(var t=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;r.baseClass;)o=r.upcast(o),r=r.baseClass;return t===r&&n===o},on.prototype.clone=function(){if(this.$$.ptr||Vt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=rn(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},on.prototype.delete=function(){this.$$.ptr||Vt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&zt("Object already scheduled for deletion"),Ht(this),Kt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},on.prototype.isDeleted=function(){return!this.$$.ptr},on.prototype.deleteLater=function(){return this.$$.ptr||Vt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&zt("Object already scheduled for deletion"),Jt.push(this),1===Jt.length&&en&&en(Qt),this.$$.deleteScheduled=!0,this},o.getInheritedInstanceCount=function(){return Object.keys(tn).length},o.getLiveInheritedInstances=function(){var e=[];for(var t in tn)tn.hasOwnProperty(t)&&e.push(tn[t]);return e},o.flushPendingDeletes=Qt,o.setDelayFunction=function(e){en=e,Jt.length&&en&&en(Qt)},fn.prototype.getPointee=function(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},fn.prototype.destructor=function(e){this.rawDestructor&&this.rawDestructor(e)},fn.prototype.argPackAdvance=8,fn.prototype.readValueFromPointer=Pt,fn.prototype.deleteObject=function(e){null!==e&&e.delete()},fn.prototype.fromWireType=function(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=function(e,t){return t=function(e,t){for(void 0===t&&zt("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),tn[t]}(this.registeredClass,t);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var r=n.clone();return this.destructor(e),r}function o(){return this.isSmartPointer?nn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):nn(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=Xt[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=Yt(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?nn(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):nn(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})},hn=o.UnboundTypeError=Rt(Error,"UnboundTypeError"),o.count_emval_handles=function(){for(var e=0,t=5;t<Nn.length;++t)void 0!==Nn[t]&&++e;return e},o.get_first_emval=function(){for(var e=5;e<Nn.length;++e)if(void 0!==Nn[e])return Nn[e];return null},o.requestFullscreen=function(e,t){gr.requestFullscreen(e,t)},o.requestAnimationFrame=function(e){gr.requestAnimationFrame(e)},o.setCanvasSize=function(e,t,n){gr.setCanvasSize(e,t,n)},o.pauseMainLoop=function(){gr.mainLoop.pause()},o.resumeMainLoop=function(){gr.mainLoop.resume()},o.getUserMedia=function(){gr.getUserMedia()},o.createContext=function(e,t,n,r){return gr.createContext(e,t,n,r)};var Br,$r={},Zr={},zr={},Wr={__cxa_allocate_exception:Me,__cxa_begin_catch:je,__cxa_end_catch:Ze,__cxa_find_matching_catch_2:We,__cxa_find_matching_catch_3:Ge,__cxa_find_matching_catch_4:Ve,__cxa_find_matching_catch_5:qe,__cxa_find_matching_catch_6:He,__cxa_find_matching_catch_7:Ke,__cxa_find_matching_catch_8:Ye,__cxa_free_exception:$e,__cxa_rethrow:Xe,__cxa_throw:Je,__cxa_uncaught_exceptions:function(){return xe},__heap_base:ye,__indirect_function_table:G,__memory_base:Qe,__resumeException:ze,__stack_pointer:et,__syscall_fcntl64:lt,__syscall_fstat64:_t,__syscall_ioctl:pt,__syscall_lstat64:ft,__syscall_mkdirat:dt,__syscall_newfstatat:mt,__syscall_openat:ht,__syscall_stat64:vt,__syscall_unlinkat:gt,__table_base:yt,_dlinit:function(e){var t={refcount:1/0,name:"__main__",module:o.asm,global:!0};me.loadedLibsByName[t.name]=t,me.loadedLibsByHandle[e]=t},_dlopen_js:Ct,_dlsym_js:At,_embind_finalize_value_object:jt,_embind_register_bigint:function(e,t,n,r,o){},_embind_register_bool:Gt,_embind_register_class:yn,_embind_register_class_constructor:bn,_embind_register_class_function:Sn,_embind_register_class_property:An,_embind_register_emval:On,_embind_register_enum:Dn,_embind_register_enum_value:Rn,_embind_register_float:xn,_embind_register_function:jn,_embind_register_integer:Bn,_embind_register_memory_view:$n,_embind_register_std_string:Zn,_embind_register_std_wstring:Xn,_embind_register_value_object:Jn,_embind_register_value_object_field:Qn,_embind_register_void:er,_emscripten_date_now:tr,_emscripten_dlopen_js:rr,_emscripten_get_now_is_monotonic:function(){return!0},_emval_decref:Pn,_emval_incref:or,_emval_take_value:ir,_gmtime_js:ar,_mmap_js:sr,_munmap_js:ur,_tzset_js:_r,abort:pr,emscripten_async_call:yr,emscripten_get_heap_max:wr,emscripten_get_now:zn,emscripten_memcpy_big:Er,emscripten_resize_heap:Sr,environ_get:Ar,environ_sizes_get:Tr,fd_close:Nr,fd_read:Pr,fd_seek:kr,fd_write:Or,getentropy:Ir,invoke_diii:function(e,t,n,r){var o=Qr();try{return ve(e)(t,n,r)}catch(e){if(eo(o),e!==e+0)throw e;Xr(1,0)}},invoke_fi:function(e,t){var n=Qr();try{return ve(e)(t)}catch(e){if(eo(n),e!==e+0)throw e;Xr(1,0)}},invoke_fiii:function(e,t,n,r){var o=Qr();try{return ve(e)(t,n,r)}catch(e){if(eo(o),e!==e+0)throw e;Xr(1,0)}},invoke_i:function(e){var t=Qr();try{return ve(e)()}catch(e){if(eo(t),e!==e+0)throw e;Xr(1,0)}},invoke_ii:function(e,t){var n=Qr();try{return ve(e)(t)}catch(e){if(eo(n),e!==e+0)throw e;Xr(1,0)}},invoke_iif:function(e,t,n){var r=Qr();try{return ve(e)(t,n)}catch(e){if(eo(r),e!==e+0)throw e;Xr(1,0)}},invoke_iifff:function(e,t,n,r,o){var i=Qr();try{return ve(e)(t,n,r,o)}catch(e){if(eo(i),e!==e+0)throw e;Xr(1,0)}},invoke_iii:function(e,t,n){var r=Qr();try{return ve(e)(t,n)}catch(e){if(eo(r),e!==e+0)throw e;Xr(1,0)}},invoke_iiii:function(e,t,n,r){var o=Qr();try{return ve(e)(t,n,r)}catch(e){if(eo(o),e!==e+0)throw e;Xr(1,0)}},invoke_iiiii:function(e,t,n,r,o){var i=Qr();try{return ve(e)(t,n,r,o)}catch(e){if(eo(i),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiid:function(e,t,n,r,o,i){var a=Qr();try{return ve(e)(t,n,r,o,i)}catch(e){if(eo(a),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiii:function(e,t,n,r,o,i){var a=Qr();try{return ve(e)(t,n,r,o,i)}catch(e){if(eo(a),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiii:function(e,t,n,r,o,i,a){var s=Qr();try{return ve(e)(t,n,r,o,i,a)}catch(e){if(eo(s),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiifi:function(e,t,n,r,o,i,a,s,u){var c=Qr();try{return ve(e)(t,n,r,o,i,a,s,u)}catch(e){if(eo(c),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiii:function(e,t,n,r,o,i,a,s){var u=Qr();try{return ve(e)(t,n,r,o,i,a,s)}catch(e){if(eo(u),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiiii:function(e,t,n,r,o,i,a,s,u){var c=Qr();try{return ve(e)(t,n,r,o,i,a,s,u)}catch(e){if(eo(c),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c){var l=Qr();try{return ve(e)(t,n,r,o,i,a,s,u,c)}catch(e){if(eo(l),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l){var _=Qr();try{return ve(e)(t,n,r,o,i,a,s,u,c,l)}catch(e){if(eo(_),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l,_){var p=Qr();try{return ve(e)(t,n,r,o,i,a,s,u,c,l,_)}catch(e){if(eo(p),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l,_,p){var f=Qr();try{return ve(e)(t,n,r,o,i,a,s,u,c,l,_,p)}catch(e){if(eo(f),e!==e+0)throw e;Xr(1,0)}},invoke_iiiiij:function(e,t,n,r,i,a,s){var u=Qr();try{return o.dynCall_iiiiij(e,t,n,r,i,a,s)}catch(e){if(eo(u),e!==e+0)throw e;Xr(1,0)}},invoke_iiiji:function(e,t,n,r,i,a){var s=Qr();try{return o.dynCall_iiiji(e,t,n,r,i,a)}catch(e){if(eo(s),e!==e+0)throw e;Xr(1,0)}},invoke_iij:function(e,t,n,r){var i=Qr();try{return o.dynCall_iij(e,t,n,r)}catch(e){if(eo(i),e!==e+0)throw e;Xr(1,0)}},invoke_j:function(e){var t=Qr();try{return o.dynCall_j(e)}catch(e){if(eo(t),e!==e+0)throw e;Xr(1,0)}},invoke_ji:function(e,t){var n=Qr();try{return o.dynCall_ji(e,t)}catch(e){if(eo(n),e!==e+0)throw e;Xr(1,0)}},invoke_jiiii:function(e,t,n,r,i){var a=Qr();try{return o.dynCall_jiiii(e,t,n,r,i)}catch(e){if(eo(a),e!==e+0)throw e;Xr(1,0)}},invoke_v:function(e){var t=Qr();try{ve(e)()}catch(e){if(eo(t),e!==e+0)throw e;Xr(1,0)}},invoke_vi:function(e,t){var n=Qr();try{ve(e)(t)}catch(e){if(eo(n),e!==e+0)throw e;Xr(1,0)}},invoke_vii:function(e,t,n){var r=Qr();try{ve(e)(t,n)}catch(e){if(eo(r),e!==e+0)throw e;Xr(1,0)}},invoke_viii:function(e,t,n,r){var o=Qr();try{ve(e)(t,n,r)}catch(e){if(eo(o),e!==e+0)throw e;Xr(1,0)}},invoke_viiii:function(e,t,n,r,o){var i=Qr();try{ve(e)(t,n,r,o)}catch(e){if(eo(i),e!==e+0)throw e;Xr(1,0)}},invoke_viiiii:function(e,t,n,r,o,i){var a=Qr();try{ve(e)(t,n,r,o,i)}catch(e){if(eo(a),e!==e+0)throw e;Xr(1,0)}},invoke_viiiiii:function(e,t,n,r,o,i,a){var s=Qr();try{ve(e)(t,n,r,o,i,a)}catch(e){if(eo(s),e!==e+0)throw e;Xr(1,0)}},invoke_viiiiiii:function(e,t,n,r,o,i,a,s){var u=Qr();try{ve(e)(t,n,r,o,i,a,s)}catch(e){if(eo(u),e!==e+0)throw e;Xr(1,0)}},invoke_viiiiiiii:function(e,t,n,r,o,i,a,s,u){var c=Qr();try{ve(e)(t,n,r,o,i,a,s,u)}catch(e){if(eo(c),e!==e+0)throw e;Xr(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l){var _=Qr();try{ve(e)(t,n,r,o,i,a,s,u,c,l)}catch(e){if(eo(_),e!==e+0)throw e;Xr(1,0)}},invoke_viiiiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l,_,p,f){var d=Qr();try{ve(e)(t,n,r,o,i,a,s,u,c,l,_,p,f)}catch(e){if(eo(d),e!==e+0)throw e;Xr(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l,_,p,f,d,m){var h=Qr();try{ve(e)(t,n,r,o,i,a,s,u,c,l,_,p,f,d,m)}catch(e){if(eo(h),e!==e+0)throw e;Xr(1,0)}},invoke_viijii:function(e,t,n,r,i,a,s){var u=Qr();try{o.dynCall_viijii(e,t,n,r,i,a,s)}catch(e){if(eo(u),e!==e+0)throw e;Xr(1,0)}},invoke_vij:function(e,t,n,r){var i=Qr();try{o.dynCall_vij(e,t,n,r)}catch(e){if(eo(i),e!==e+0)throw e;Xr(1,0)}},invoke_vijiiii:function(e,t,n,r,i,a,s,u){var c=Qr();try{o.dynCall_vijiiii(e,t,n,r,i,a,s,u)}catch(e){if(eo(c),e!==e+0)throw e;Xr(1,0)}},invoke_vijiiiii:function(e,t,n,r,i,a,s,u,c){var l=Qr();try{o.dynCall_vijiiiii(e,t,n,r,i,a,s,u,c)}catch(e){if(eo(l),e!==e+0)throw e;Xr(1,0)}},llvm_eh_typeid_for:Dr,memory:y,proc_exit:mr,strftime_l:function(e,t,n,r){return Lr(e,t,n,r)}},Gr=(function(){var e={env:Wr,wasi_snapshot_preview1:Wr,"GOT.mem":new Proxy(Wr,ce),"GOT.func":new Proxy(Wr,ce)};function t(e,t){var n=e.exports;n=Pe(n,1024),o.asm=n;var r,i=_e(t);i.neededDynlibs&&(g=i.neededDynlibs.concat(g)),de(n),r=o.asm.__wasm_call_ctors,q.unshift(r),Y.push(o.asm.__wasm_apply_data_relocs),ne()}function n(e){t(e.instance,e.module)}function i(t){return(v||!p&&!f||"function"!=typeof fetch?Promise.resolve().then((function(){return ie($)})):fetch($,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+$+"'";return e.arrayBuffer()})).catch((function(){return ie($)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){h("failed to asynchronously prepare wasm: "+e),re(e)}))}if(te(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||oe($)||"function"!=typeof fetch?i(n):fetch($,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(r)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o.___wasm_apply_data_relocs=function(){return(o.___wasm_apply_data_relocs=o.asm.__wasm_apply_data_relocs).apply(null,arguments)},o._GetVersion=function(){return(o._GetVersion=o.asm.GetVersion).apply(null,arguments)},o._GetRevision=function(){return(o._GetRevision=o.asm.GetRevision).apply(null,arguments)},o.__ZdaPv=function(){return(o.__ZdaPv=o.asm._ZdaPv).apply(null,arguments)},o._GetLastError=function(){return(o._GetLastError=o.asm.GetLastError).apply(null,arguments)},o._FreeErrorString=function(){return(o._FreeErrorString=o.asm.FreeErrorString).apply(null,arguments)},o.__ZdlPv=function(){return(o.__ZdlPv=o.asm._ZdlPv).apply(null,arguments)},o._InitializeLog=function(){return(o._InitializeLog=o.asm.InitializeLog).apply(null,arguments)},o.getTempRet0=function(){return(o.getTempRet0=o.asm.getTempRet0).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE25__init_copy_ctor_externalEPKcm).apply(null,arguments)},o.__Znam=function(){return(o.__Znam=o.asm._Znam).apply(null,arguments)},o._memset=function(){return(o._memset=o.asm.memset).apply(null,arguments)},o._memcpy=function(){return(o._memcpy=o.asm.memcpy).apply(null,arguments)},o._strlen=function(){return(o._strlen=o.asm.strlen).apply(null,arguments)},o._Log=function(){return(o._Log=o.asm.Log).apply(null,arguments)},o._LoadTfliteAsynchronously=function(){return(o._LoadTfliteAsynchronously=o.asm.LoadTfliteAsynchronously).apply(null,arguments)},o._Initialize=function(){return(o._Initialize=o.asm.Initialize).apply(null,arguments)},o.__Znwm=function(){return(o.__Znwm=o.asm._Znwm).apply(null,arguments)},o._RegisterCallbacks=function(){return(o._RegisterCallbacks=o.asm.RegisterCallbacks).apply(null,arguments)},o._HandleRtpPacket=function(){return(o._HandleRtpPacket=o.asm.HandleRtpPacket).apply(null,arguments)},o._StopSession=function(){return(o._StopSession=o.asm.StopSession).apply(null,arguments)},o._DestroyInputAudio=function(){return(o._DestroyInputAudio=o.asm.DestroyInputAudio).apply(null,arguments)},o._DestroyOutputAudio=function(){return(o._DestroyOutputAudio=o.asm.DestroyOutputAudio).apply(null,arguments)},o._ProcessInputAudio=function(){return(o._ProcessInputAudio=o.asm.ProcessInputAudio).apply(null,arguments)},o._PullOutputAudio=function(){return(o._PullOutputAudio=o.asm.PullOutputAudio).apply(null,arguments)},o.__ZNSt20bad_array_new_lengthD1Ev=function(){return(o.__ZNSt20bad_array_new_lengthD1Ev=o.asm._ZNSt20bad_array_new_lengthD1Ev).apply(null,arguments)},o.__ZNSt20bad_array_new_lengthC1Ev=function(){return(o.__ZNSt20bad_array_new_lengthC1Ev=o.asm._ZNSt20bad_array_new_lengthC1Ev).apply(null,arguments)},o.__ZNSt12length_errorD1Ev=function(){return(o.__ZNSt12length_errorD1Ev=o.asm._ZNSt12length_errorD1Ev).apply(null,arguments)},o.__ZNSt11logic_errorC2EPKc=function(){return(o.__ZNSt11logic_errorC2EPKc=o.asm._ZNSt11logic_errorC2EPKc).apply(null,arguments)},o._memmove=function(){return(o._memmove=o.asm.memmove).apply(null,arguments)},o._malloc=function(){return(Gr=o._malloc=o.asm.malloc).apply(null,arguments)}),Vr=(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb1EEERS5_PKcm).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_no_aliasILb0EEERS5_PKcm).apply(null,arguments)},o.__ZNSt3__217bad_function_callD1Ev=function(){return(o.__ZNSt3__217bad_function_callD1Ev=o.asm._ZNSt3__217bad_function_callD1Ev).apply(null,arguments)},o.__ZNSt3__29to_stringEm=function(){return(o.__ZNSt3__29to_stringEm=o.asm._ZNSt3__29to_stringEm).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6insertEmPKc).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKc).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6appendEPKcm).apply(null,arguments)},o.__ZNSt3__29to_stringEi=function(){return(o.__ZNSt3__29to_stringEi=o.asm._ZNSt3__29to_stringEi).apply(null,arguments)},o.___cxa_atexit=function(){return(o.___cxa_atexit=o.asm.__cxa_atexit).apply(null,arguments)},o.__ZNSt3__26chrono12steady_clock3nowEv=function(){return(o.__ZNSt3__26chrono12steady_clock3nowEv=o.asm._ZNSt3__26chrono12steady_clock3nowEv).apply(null,arguments)},o._memchr=function(){return(o._memchr=o.asm.memchr).apply(null,arguments)},o._memcmp=function(){return(o._memcmp=o.asm.memcmp).apply(null,arguments)},o._dlsym=function(){return(o._dlsym=o.asm.dlsym).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE26__erase_external_with_moveEmm).apply(null,arguments)},o.__ZNSt3__212__next_primeEm=function(){return(o.__ZNSt3__212__next_primeEm=o.asm._ZNSt3__212__next_primeEm).apply(null,arguments)},o.__ZNSt3__213random_deviceC2ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=function(){return(o.__ZNSt3__213random_deviceC2ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=o.asm._ZNSt3__213random_deviceC2ERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE).apply(null,arguments)},o.__ZNSt3__213random_deviceclEv=function(){return(o.__ZNSt3__213random_deviceclEv=o.asm._ZNSt3__213random_deviceclEv).apply(null,arguments)},o.__ZNSt3__213random_deviceD1Ev=function(){return(o.__ZNSt3__213random_deviceD1Ev=o.asm._ZNSt3__213random_deviceD1Ev).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKc).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6resizeEmc).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE17__assign_externalEPKcm).apply(null,arguments)},o._free=function(){return(Vr=o._free=o.asm.free).apply(null,arguments)}),qr=(o._calloc=function(){return(o._calloc=o.asm.calloc).apply(null,arguments)},o._lrintf=function(){return(o._lrintf=o.asm.lrintf).apply(null,arguments)},o._powf=function(){return(o._powf=o.asm.powf).apply(null,arguments)},o._fmodf=function(){return(o._fmodf=o.asm.fmodf).apply(null,arguments)},o._log=function(){return(o._log=o.asm.log).apply(null,arguments)},o._qsort=function(){return(o._qsort=o.asm.qsort).apply(null,arguments)},o._logf=function(){return(o._logf=o.asm.logf).apply(null,arguments)},o._fmaxf=function(){return(o._fmaxf=o.asm.fmaxf).apply(null,arguments)},o._expf=function(){return(o._expf=o.asm.expf).apply(null,arguments)},o._strcmp=function(){return(o._strcmp=o.asm.strcmp).apply(null,arguments)},o._cos=function(){return(o._cos=o.asm.cos).apply(null,arguments)},o._sin=function(){return(o._sin=o.asm.sin).apply(null,arguments)},o._sinf=function(){return(o._sinf=o.asm.sinf).apply(null,arguments)},o._cosf=function(){return(o._cosf=o.asm.cosf).apply(null,arguments)},o._exp=function(){return(o._exp=o.asm.exp).apply(null,arguments)},o._roundf=function(){return(o._roundf=o.asm.roundf).apply(null,arguments)},o._round=function(){return(o._round=o.asm.round).apply(null,arguments)},o._pow=function(){return(o._pow=o.asm.pow).apply(null,arguments)},o._fminf=function(){return(o._fminf=o.asm.fminf).apply(null,arguments)},o._strncmp=function(){return(o._strncmp=o.asm.strncmp).apply(null,arguments)},o._fwrite=function(){return(o._fwrite=o.asm.fwrite).apply(null,arguments)},o._realloc=function(){return(o._realloc=o.asm.realloc).apply(null,arguments)},o._fputc=function(){return(o._fputc=o.asm.fputc).apply(null,arguments)},o._fiprintf=function(){return(o._fiprintf=o.asm.fiprintf).apply(null,arguments)},o._close=function(){return(o._close=o.asm.close).apply(null,arguments)},o.__ZNSt12out_of_rangeD1Ev=function(){return(o.__ZNSt12out_of_rangeD1Ev=o.asm._ZNSt12out_of_rangeD1Ev).apply(null,arguments)},o.___getTypeName=function(){return(qr=o.___getTypeName=o.asm.__getTypeName).apply(null,arguments)}),Hr=(o.__embind_initialize_bindings=function(){return(o.__embind_initialize_bindings=o.asm._embind_initialize_bindings).apply(null,arguments)},o.___errno_location=function(){return(Hr=o.___errno_location=o.asm.__errno_location).apply(null,arguments)}),Kr=(o.__exit=function(){return(o.__exit=o.asm._exit).apply(null,arguments)},o._isspace=function(){return(o._isspace=o.asm.isspace).apply(null,arguments)},o._bsearch=function(){return(o._bsearch=o.asm.bsearch).apply(null,arguments)},o.___dl_seterr=function(){return(Kr=o.___dl_seterr=o.asm.__dl_seterr).apply(null,arguments)}),Yr=(o._dlopen=function(){return(o._dlopen=o.asm.dlopen).apply(null,arguments)},o._expm1f=function(){return(o._expm1f=o.asm.expm1f).apply(null,arguments)},o._vfprintf=function(){return(o._vfprintf=o.asm.vfprintf).apply(null,arguments)},o._frexp=function(){return(o._frexp=o.asm.frexp).apply(null,arguments)},o._fstat=function(){return(o._fstat=o.asm.fstat).apply(null,arguments)},o._getenv=function(){return(o._getenv=o.asm.getenv).apply(null,arguments)},o._hypot=function(){return(o._hypot=o.asm.hypot).apply(null,arguments)},o._hypotf=function(){return(o._hypotf=o.asm.hypotf).apply(null,arguments)},o._ldexp=function(){return(o._ldexp=o.asm.ldexp).apply(null,arguments)},o._pthread_mutex_init=function(){return(o._pthread_mutex_init=o.asm.pthread_mutex_init).apply(null,arguments)},o._pthread_mutex_destroy=function(){return(o._pthread_mutex_destroy=o.asm.pthread_mutex_destroy).apply(null,arguments)},o._pthread_setspecific=function(){return(o._pthread_setspecific=o.asm.pthread_setspecific).apply(null,arguments)},o._pthread_cond_wait=function(){return(o._pthread_cond_wait=o.asm.pthread_cond_wait).apply(null,arguments)},o._pthread_cond_broadcast=function(){return(o._pthread_cond_broadcast=o.asm.pthread_cond_broadcast).apply(null,arguments)},o._pthread_cond_init=function(){return(o._pthread_cond_init=o.asm.pthread_cond_init).apply(null,arguments)},o._pthread_cond_destroy=function(){return(o._pthread_cond_destroy=o.asm.pthread_cond_destroy).apply(null,arguments)},o._pthread_mutex_lock=function(){return(o._pthread_mutex_lock=o.asm.pthread_mutex_lock).apply(null,arguments)},o._pthread_mutex_unlock=function(){return(o._pthread_mutex_unlock=o.asm.pthread_mutex_unlock).apply(null,arguments)},o._pthread_create=function(){return(o._pthread_create=o.asm.pthread_create).apply(null,arguments)},o._pthread_join=function(){return(o._pthread_join=o.asm.pthread_join).apply(null,arguments)},o._pthread_once=function(){return(o._pthread_once=o.asm.pthread_once).apply(null,arguments)},o._log1p=function(){return(o._log1p=o.asm.log1p).apply(null,arguments)},o._open=function(){return(o._open=o.asm.open).apply(null,arguments)},o._mmap=function(){return(o._mmap=o.asm.mmap).apply(null,arguments)},o._munmap=function(){return(o._munmap=o.asm.munmap).apply(null,arguments)},o._nanf=function(){return(o._nanf=o.asm.nanf).apply(null,arguments)},o._iprintf=function(){return(o._iprintf=o.asm.iprintf).apply(null,arguments)},o.___small_printf=function(){return(o.___small_printf=o.asm.__small_printf).apply(null,arguments)},o._pthread_self=function(){return(o._pthread_self=o.asm.pthread_self).apply(null,arguments)},o._putchar=function(){return(o._putchar=o.asm.putchar).apply(null,arguments)},o._puts=function(){return(o._puts=o.asm.puts).apply(null,arguments)},o._snprintf=function(){return(o._snprintf=o.asm.snprintf).apply(null,arguments)},o._strtod=function(){return(o._strtod=o.asm.strtod).apply(null,arguments)},o._strtoull=function(){return(o._strtoull=o.asm.strtoull).apply(null,arguments)},o._strtoll=function(){return(o._strtoll=o.asm.strtoll).apply(null,arguments)},o._sysconf=function(){return(o._sysconf=o.asm.sysconf).apply(null,arguments)},o._tanhf=function(){return(o._tanhf=o.asm.tanhf).apply(null,arguments)},o._posix_memalign=function(){return(o._posix_memalign=o.asm.posix_memalign).apply(null,arguments)},o._emscripten_builtin_memalign=function(){return(Yr=o._emscripten_builtin_memalign=o.asm.emscripten_builtin_memalign).apply(null,arguments)}),Xr=o._setThrew=function(){return(Xr=o._setThrew=o.asm.setThrew).apply(null,arguments)},Jr=o.setTempRet0=function(){return(Jr=o.setTempRet0=o.asm.setTempRet0).apply(null,arguments)},Qr=o.stackSave=function(){return(Qr=o.stackSave=o.asm.stackSave).apply(null,arguments)},eo=o.stackRestore=function(){return(eo=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},to=o.stackAlloc=function(){return(to=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};o.__ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_=function(){return(o.__ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_=o.asm._ZNSt3__26__sortIRNS_6__lessIiiEEPiEEvT0_S5_T_).apply(null,arguments)},o.__ZNSt3__220__throw_system_errorEiPKc=function(){return(o.__ZNSt3__220__throw_system_errorEiPKc=o.asm._ZNSt3__220__throw_system_errorEiPKc).apply(null,arguments)},o.__ZNSt3__218condition_variable10notify_oneEv=function(){return(o.__ZNSt3__218condition_variable10notify_oneEv=o.asm._ZNSt3__218condition_variable10notify_oneEv).apply(null,arguments)},o.__ZNSt3__218condition_variable10notify_allEv=function(){return(o.__ZNSt3__218condition_variable10notify_allEv=o.asm._ZNSt3__218condition_variable10notify_allEv).apply(null,arguments)},o.__ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE=function(){return(o.__ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE=o.asm._ZNSt3__218condition_variable4waitERNS_11unique_lockINS_5mutexEEE).apply(null,arguments)},o.__ZNSt3__218condition_variableD1Ev=function(){return(o.__ZNSt3__218condition_variableD1Ev=o.asm._ZNSt3__218condition_variableD1Ev).apply(null,arguments)},o.__ZNSt3__219__shared_weak_count14__release_weakEv=function(){return(o.__ZNSt3__219__shared_weak_count14__release_weakEv=o.asm._ZNSt3__219__shared_weak_count14__release_weakEv).apply(null,arguments)},o.__ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info=function(){return(o.__ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info=o.asm._ZNKSt3__219__shared_weak_count13__get_deleterERKSt9type_info).apply(null,arguments)},o.__ZNSt3__219__shared_weak_countD2Ev=function(){return(o.__ZNSt3__219__shared_weak_countD2Ev=o.asm._ZNSt3__219__shared_weak_countD2Ev).apply(null,arguments)},o.__ZNSt3__25mutex4lockEv=function(){return(o.__ZNSt3__25mutex4lockEv=o.asm._ZNSt3__25mutex4lockEv).apply(null,arguments)},o.__ZNSt3__25mutex6unlockEv=function(){return(o.__ZNSt3__25mutex6unlockEv=o.asm._ZNSt3__25mutex6unlockEv).apply(null,arguments)},o.__ZNSt3__25mutexD1Ev=function(){return(o.__ZNSt3__25mutexD1Ev=o.asm._ZNSt3__25mutexD1Ev).apply(null,arguments)},o.__ZNSt3__219__thread_local_dataEv=function(){return(o.__ZNSt3__219__thread_local_dataEv=o.asm._ZNSt3__219__thread_local_dataEv).apply(null,arguments)},o.__ZNSt3__215__thread_structC1Ev=function(){return(o.__ZNSt3__215__thread_structC1Ev=o.asm._ZNSt3__215__thread_structC1Ev).apply(null,arguments)},o.__ZNSt9bad_allocD1Ev=function(){return(o.__ZNSt9bad_allocD1Ev=o.asm._ZNSt9bad_allocD1Ev).apply(null,arguments)},o.__ZNSt9bad_allocC1Ev=function(){return(o.__ZNSt9bad_allocC1Ev=o.asm._ZNSt9bad_allocC1Ev).apply(null,arguments)},o.__ZnwmRKSt9nothrow_t=function(){return(o.__ZnwmRKSt9nothrow_t=o.asm._ZnwmRKSt9nothrow_t).apply(null,arguments)},o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc=function(){return(o.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc=o.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7replaceEmmPKc).apply(null,arguments)},o.__ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi=function(){return(o.__ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi=o.asm._ZNSt3__24stoiERKNS_12basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPmi).apply(null,arguments)},o.__ZNSt3__26thread4joinEv=function(){return(o.__ZNSt3__26thread4joinEv=o.asm._ZNSt3__26thread4joinEv).apply(null,arguments)},o.__ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE=function(){return(o.__ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE=o.asm._ZNSt3__211this_thread9sleep_forERKNS_6chrono8durationIxNS_5ratioILx1ELx1000000000EEEEE).apply(null,arguments)},o.__ZNSt3__215__thread_structD1Ev=function(){return(o.__ZNSt3__215__thread_structD1Ev=o.asm._ZNSt3__215__thread_structD1Ev).apply(null,arguments)},o.__ZNSt3__26threadD1Ev=function(){return(o.__ZNSt3__26threadD1Ev=o.asm._ZNSt3__26threadD1Ev).apply(null,arguments)},o.___cxa_can_catch=function(){return(o.___cxa_can_catch=o.asm.__cxa_can_catch).apply(null,arguments)},o.___cxa_is_pointer_type=function(){return(o.___cxa_is_pointer_type=o.asm.__cxa_is_pointer_type).apply(null,arguments)},o.dynCall_iij=function(){return(o.dynCall_iij=o.asm.dynCall_iij).apply(null,arguments)},o.dynCall_iiiji=function(){return(o.dynCall_iiiji=o.asm.dynCall_iiiji).apply(null,arguments)},o.dynCall_vijiiiii=function(){return(o.dynCall_vijiiiii=o.asm.dynCall_vijiiiii).apply(null,arguments)},o.dynCall_vijiiii=function(){return(o.dynCall_vijiiii=o.asm.dynCall_vijiiii).apply(null,arguments)},o.dynCall_j=function(){return(o.dynCall_j=o.asm.dynCall_j).apply(null,arguments)},o.dynCall_ji=function(){return(o.dynCall_ji=o.asm.dynCall_ji).apply(null,arguments)},o.dynCall_vij=function(){return(o.dynCall_vij=o.asm.dynCall_vij).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)},o.dynCall_iiiiij=function(){return(o.dynCall_iiiiij=o.asm.dynCall_iiiiij).apply(null,arguments)},o.dynCall_viijii=function(){return(o.dynCall_viijii=o.asm.dynCall_viijii).apply(null,arguments)},o.dynCall_jiiii=function(){return(o.dynCall_jiiii=o.asm.dynCall_jiiii).apply(null,arguments)},o.dynCall_iiiiijj=function(){return(o.dynCall_iiiiijj=o.asm.dynCall_iiiiijj).apply(null,arguments)},o.dynCall_iiiiiijj=function(){return(o.dynCall_iiiiiijj=o.asm.dynCall_iiiiiijj).apply(null,arguments)},o._orig$Log=function(){return(o._orig$Log=o.asm.orig$Log).apply(null,arguments)},o._orig$_ZNSt3__26chrono12steady_clock3nowEv=function(){return(o._orig$_ZNSt3__26chrono12steady_clock3nowEv=o.asm.orig$_ZNSt3__26chrono12steady_clock3nowEv).apply(null,arguments)},o._orig$mmap=function(){return(o._orig$mmap=o.asm.orig$mmap).apply(null,arguments)},o._orig$strtoull=function(){return(o._orig$strtoull=o.asm.orig$strtoull).apply(null,arguments)},o._orig$strtoll=function(){return(o._orig$strtoll=o.asm.orig$strtoll).apply(null,arguments)},o.__ZTISt9exception=1053924,o.__ZTISt20bad_array_new_length=1053944,o.__ZTISt12length_error=1054060,o.__ZTVSt12length_error=1054040,o.__ZTVNSt3__217bad_function_callE=1049036,o.__ZTINSt3__217bad_function_callE=1049056,o.__ZTISt12out_of_range=1054092,o.__ZTVN10__cxxabiv120__si_class_type_infoE=1053732,o.__ZTVN10__cxxabiv117__class_type_infoE=1053692,o._stderr=1049024,o.__ZTVSt12out_of_range=1054072,o.__ZTSNSt3__217bad_function_callE=593196,o.__ZTISt9bad_alloc=1053932,o.__ZSt7nothrow=601715,o.__ZTISt11logic_error=1053996,o.__ZTSSt9exception=605491,o.__ZTSSt20bad_array_new_length=605504,o.__ZTSSt9bad_alloc=605529,o.__ZTSSt11logic_error=605542,o.__ZTSSt12length_error=605579,o.__ZTSSt12out_of_range=605596,o.UTF8ToString=M,o.stackAlloc=to,o.cwrap=function(e,t,n,r){var o=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&o&&!r?xr(e):function(){return jr(e,t,n,arguments)}},o.addFunction=Ne,o.setValue=function(e,t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":A[e>>0]=t;break;case"i16":N[e>>1]=t;break;case"i32":k[e>>2]=t;break;case"i64":W=[t>>>0,(z=t,+Math.abs(z)>=1?z>0?(0|Math.min(+Math.floor(z/4294967296),4294967295))>>>0:~~+Math.ceil((z-+(~~z>>>0))/4294967296)>>>0:0)],k[e>>2]=W[0],k[e+4>>2]=W[1];break;case"float":I[e>>2]=t;break;case"double":D[e>>3]=t;break;case"*":O[e>>2]=t;break;default:re("invalid type for setValue: "+n)}},o.getValue=function(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return A[e>>0];case"i16":return N[e>>1];case"i32":case"i64":return k[e>>2];case"float":return I[e>>2];case"double":return D[e>>3];case"*":return O[e>>2];default:re("invalid type for getValue: "+t)}return null},o.FS=ut,ee=function e(){Br||ro(),Br||(ee=e)};var no=!1;function ro(e){function t(){Br||(Br=!0,o.calledRun=!0,b||(X=!0,le(Y),o.noFSInit||ut.init.initialized||ut.init(),ut.ignorePermissions=!1,it.init(),le(q),le(H),n(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),oo&&function(e){var t=o._main;if(t){(e=e||[]).unshift(l);var n=e.length,r=to(4*(n+1)),i=r>>2;e.forEach((e=>{k[i++]=Et(e)})),k[i]=0;try{hr(t(n,r))}catch(e){return pe(e)}}}(e),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),K.unshift(e);var e;le(K)}()))}e=e||c,J>0||!no&&(g.length?(te(),g.reduce((function(e,t){return e.then((function(){return De(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){Fe(),ne()}))):Fe(),no=!0,J>0)||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),V.unshift(e);var e;le(V)}(),J>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var oo=!0;return o.noInitialRun&&(oo=!1),ro(),t.ready}),r=t;const o=Object.freeze([1,4,4]),i=Object.freeze({FEC_BITRATE_6P4:"FEC_BITRATE_6P4",FEC_BITRATE_8P0:"FEC_BITRATE_8P0",FEC_BITRATE_9P6:"FEC_BITRATE_9P6",FEC_BITRATE_11P2:"FEC_BITRATE_11P2",FEC_BITRATE_12P8:"FEC_BITRATE_12P8",FEC_BITRATE_14P4:"FEC_BITRATE_14P4",FEC_BITRATE_16P0:"FEC_BITRATE_16P0",FEC_BITRATE_17P6:"FEC_BITRATE_17P6",FEC_BITRATE_19P2:"FEC_BITRATE_19P2",FEC_BITRATE_20P8:"FEC_BITRATE_20P8",FEC_BITRATE_22P4:"FEC_BITRATE_22P4",FEC_BITRATE_24P0:"FEC_BITRATE_24P0"}),a=Object.freeze({COMFORT_NOISE_DEFAULT:"COMFORT_NOISE_DEFAULT",COMFORT_NOISE_MEDIUM:"COMFORT_NOISE_MEDIUM",COMFORT_NOISE_LOW:"COMFORT_NOISE_LOW",COMFORT_NOISE_OFF:"COMFORT_NOISE_OFF"}),s=Object.freeze({ALARM_SEVERITY_GREEN:"green",ALARM_SEVERITY_AMBER:"amber",ALARM_SEVERITY_RED:"red"}),u=Object.freeze({LOG_NONE:"NONE",LOG_CRITICAL:"CRITICAL",LOG_ERROR:"ERROR",LOG_WARNING:"WARNING",LOG_INFO:"INFO",LOG_DEBUG:"DEBUG"}),c=Object.freeze({[u.LOG_NONE]:1,[u.LOG_CRITICAL]:8,[u.LOG_ERROR]:16,[u.LOG_WARNING]:32,[u.LOG_INFO]:128,[u.LOG_DEBUG]:512}),l=Object.freeze({CONNECTION_STATUS_PENDING:"CONNECTION_STATUS_PENDING",CONNECTION_STATUS_CONNECTING:"CONNECTION_STATUS_CONNECTING",CONNECTION_STATUS_CONNECTED:"CONNECTION_STATUS_CONNECTED",CONNECTION_STATUS_FAILED:"CONNECTION_STATUS_FAILED",CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK:"CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK",CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK:"CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK",CONNECTION_STATUS_CONNECTED_DEGRADED:"CONNECTION_STATUS_CONNECTED_DEGRADED"}),_=Object.freeze({OUTPUT_DEVICE_TYPE_SPEAKERS:"OUTPUT_DEVICE_TYPE_SPEAKERS",OUTPUT_DEVICE_TYPE_HEADPHONES:"OUTPUT_DEVICE_TYPE_HEADPHONES"}),p=Object.freeze({CAPTURE_MODE_PERSONAL:"CAPTURE_MODE_PERSONAL",CAPTURE_MODE_GROUP:"CAPTURE_MODE_GROUP",CAPTURE_MODE_TRANSPARENT:"CAPTURE_MODE_TRANSPARENT",CAPTURE_MODE_UNIVERSAL:"CAPTURE_MODE_UNIVERSAL",CAPTURE_MODE_MUSIC:"CAPTURE_MODE_MUSIC"}),f=Object.freeze({DEFAULT:"Default",ON:"On",OFF:"Off"}),d=Object.freeze({STATE_DUMP_MODE_NORMAL:"STATE_DUMP_MODE_NORMAL",STATE_DUMP_MODE_LITE:"STATE_DUMP_MODE_LITE"});function m(e){return`${e.timestamp.toISOString()} ${e.level.padStart(15," ")} ${e.component} ${e.msgId} ${e.message}\n`}class h extends Error{constructor(e,t){super(e),this.name="DolbyVoiceCreateError",this._createStateDumpImpl=t}createStateDump(){return this._createStateDumpImpl()}}class v extends Error{constructor(e){super("Parameter "+e+" has invalid value"),this.name="InvalidParamError"}}class g extends Error{constructor(e){super("Attempted to perform an action on an invalidated object. "+e),this.name="ObjectInvalidatedError"}}class y extends Error{constructor(e){super("Dolby Voice is not in the required state for the specified action to happen. "+e),this.name="AlreadyCreatedError"}}class w extends Error{constructor(e){super(e),this.name="InternalError"}}function E(){return o.join(".")}const b=Object.freeze({API:"API",JS:"JS"}),S=Object.freeze({VERSION_INFO:"JS001",WASM_LOAD_ERROR:"JS002",WASM_LOG_INIT_ERROR:"JS003",WASM_LOG_ERROR:"JS004",WASM_ASYNC_ERROR:"JS005",WASM_DNR_LOAD_ERROR:"JS006",API_ENTRY:"API01",API_EXIT:"API02",API_THROW:"API03"});var C,A,T,N,P,k=n(5130),O=n.n(k);!function(e){e.Default="default",e.Medium="medium",e.Low="low",e.Off="off"}(C||(C={})),function(e){e.Unprocessed="unprocessed",e.Standard="standard",e.Music="music"}(A||(A={})),function(e){e.High="high",e.Low="low"}(T||(T={})),function(e){e.Default="default",e.On="on",e.Off="off"}(N||(N={})),function(e){e.Bitrate18k="18Kbps",e.Bitrate32k="32Kbps",e.Bitrate64k="64Kbps",e.Bitrate80k="80Kbps",e.Bitrate96k="96Kbps",e.Bitrate128k="128Kbps"}(P||(P={}));var I=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};let D=null;class F{constructor(){this.micClipping=F.Severity.unknown,this.networkDownlink=F.Severity.unknown,this.networkUplink=F.Severity.unknown,this.noiseLevel=F.Severity.unknown}update(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=F.Severity[e[t]],console.log(this[t]))}}F.Severity=Object.freeze({green:0,amber:1,red:2,unknown:3});class R{constructor(){this.status=R.Status.stopped,this.dvwcAudio=null}start(e){e&&(this.audioSettings=e),this.status==R.Status.stopped?this._startAudio():this.status==R.Status.stopping&&(this.status=R.Status.restarting)}stop(){if(this.status==R.Status.started)return this.status=R.Status.stopping,this.dvwcAudio.destroy().then((()=>this._onDestroyed()));this.status==R.Status.restarting&&(this.status=R.Status.stopping)}restart(){this.status==R.Status.started?(this.status=R.Status.restarting,this.dvwcAudio.destroy().then((()=>this._onDestroyed()))):this.status==R.Status.stopping&&(this.status=R.Status.restarting)}_startAudio(){this.dvwcAudio=this._createDvwcAudio(this.audioSettings),this.status=R.Status.started}_onDestroyed(){this.status==R.Status.restarting?this._startAudio():(this.status=R.Status.stopped,this.dvwcAudio=null)}}R.Status=Object.freeze({stopped:0,started:1,stopping:2,restarting:3});let M=null,L=null,x=new class extends R{constructor(){super(...arguments),this.cachedCaptureMode=null,this.lastCallbackTimestamp=null,this.maxCallbackGap=null,this.dectectedGap=null,this.audioSettings={}}start(e){this.maxCallbackGap=Math.floor(100/(D/128)*1e3),this.dectectedGap=!1,super.start(e)}stop(){return this.lastCallbackTimestamp=null,this.dectectedGap=null,super.stop()}_createDvwcAudio(e){return M.createInputAudio(D,e)}process(e){return I(this,void 0,void 0,(function*(){if(this.dvwcAudio){const t=(new Date).getTime(),n=t-this.lastCallbackTimestamp;if(x&&this.status===R.Status.started&&this.lastCallbackTimestamp&&n>this.maxCallbackGap&&!this.dectectedGap)return this.dectectedGap=!0,console.warn(`Audio callback gap of ${n}ms detected`),void postMessage({type:"callback-gap-detected"});this.lastCallbackTimestamp=t,this.dvwcAudio.processInputAudio(e)}}))}_setCaptureMode(e){let t=this.dvwcAudio.getCaptureMode();if(e===p.CAPTURE_MODE_TRANSPARENT){if(t===p.CAPTURE_MODE_TRANSPARENT)return;this.cachedCaptureMode=t,this.dvwcAudio.setCaptureMode(p.CAPTURE_MODE_TRANSPARENT),this.audioSettings.captureMode=p.CAPTURE_MODE_TRANSPARENT}else this.dvwcAudio.setCaptureMode(e),this.audioSettings.captureMode=e}setTransparentMode(e){e?this._setCaptureMode(p.CAPTURE_MODE_TRANSPARENT):this._setCaptureMode(this.cachedCaptureMode)}getCaptureMode(){if(this.dvwcAudio)return this.dvwcAudio.getCaptureMode()}setCaptureMode(e){this.dvwcAudio&&this._setCaptureMode(e)}getEchoCancellation(){if(this.dvwcAudio)return this.dvwcAudio.getEchoCancellation()}setEchoCancellation(e){this.dvwcAudio&&this.dvwcAudio.setEchoCancellation(e)}},j=new class extends R{_createDvwcAudio(e){let t=e||{};return M.createOutputAudio(D,t)}pull(e){this.dvwcAudio?this.dvwcAudio.pullOutputAudio(e):e.forEach((e=>e.fill(0)))}setComfortNoise(e){this.audioSettings.comfortNoiseLevel=e,this.dvwcAudio.setComfortNoiseLevel(e)}getComfortNoise(){return this.dvwcAudio.getComfortNoiseLevel()}},U=null,B=new F,$=new class{constructor(){this.audioStats={timestamp:void 0,totalSamplesDuration:0,totalAudioEnergy:0}}calc(e,t){this.audioStats=this.calculateAudioStats(e,this.audioStats,t)}calculateAudioStats(e,t,n){if(!t.timestamp)return{timestamp:n,totalSamplesDuration:0,totalAudioEnergy:0};let r=0;e.forEach((e=>{r+=e*e}));const o=Math.sqrt(r/e.length),i=(n-t.timestamp)/1e3;return{timestamp:n,totalSamplesDuration:t.totalSamplesDuration+i,totalAudioEnergy:t.totalAudioEnergy+o*o*i}}};function Z(e){postMessage({type:"alarms",alarms:e})}function z(e){e.sampleRate&&(D=e.sampleRate),j.start(e.outputAudioConfig),U=e.audioPort,U.onmessage=e=>I(this,void 0,void 0,(function*(){let t={},n=[];if(e.data.input0){const r=(new Date).getTime();x.process(e.data.input0),$.calc(e.data.input0,r),t.input0=e.data.input0,n.push(e.data.input0.buffer)}((e,t,n)=>{const r=e.output0,o=e.output1;r&&o&&(j.pull([r,o]),t.output0=r,t.output1=o,n.push(r.buffer,o.buffer))})(e.data,t,n),U.postMessage(t,n)}))}function W(e){postMessage({type:"packet",packet:e},[e.buffer])}function G(e){let t=e.connectionStatus;const n="CONNECTION_STATUS_";t.startsWith(n)&&(t=t.substr(n.length)),"errorMessage"in e&&(t+=` (${e.errorMessage})`),postMessage({type:"status",status:t})}function V(e,t){return I(this,void 0,void 0,(function*(){const n={type:e+"-response"};try{n.result=yield t()}catch(e){n.error=e.message}postMessage(n)}))}E(),self.onmessage=function(e){switch(e.data.type){case"init-request":!function(e){V("init",(()=>I(this,void 0,void 0,(function*(){const t=e.debug?{level:u.LOG_DEBUG,logEntryReady:e=>postMessage({type:"log",entry:e})}:null;e.namespaces&&O().enable(e.namespaces),M=yield async function(e,t,n,o=1e4,C=!1){const A=[];let T=!1;const N=e&&e.hasOwnProperty("level")?c[e.level]:c[u.LOG_INFO],P=e&&e.hasOwnProperty("logEntryReady")?e.logEntryReady:null;function k(e,t,n,r){const o=c[e];if(o>N)return;const i=new Date;P&&P({timestamp:i,level:e,component:t,msgId:n,message:r}),T?Q(i,o,t,n,r):function(e,t,n,r,o){A.push({timestamp:e,level:t,component:n,msgId:r,message:o})}(i,e,t,n,r)}function O(){return{type:"txt",content:new Blob(A.map(m),{type:"text/plain; charset=utf-8"})}}function I(e){k(u.LOG_CRITICAL,b.JS,S.WASM_LOAD_ERROR,e)}k(u.LOG_INFO,b.JS,S.VERSION_INFO,`Running DVWC version ${E()}`);const D=e&&e.hasOwnProperty("wasmFake");let F={onAbort:function(e){k(u.LOG_ERROR,b.JS,S.WASM_ASYNC_ERROR,e)}};n&&(F.locateFile=function(e,t){return`${n}${e}?5294af27ae6def5144f6fa774a39a03f`});let R=0,M={activeSession:null,wasmSessionPtr:null,packetBufferPtr:0,packetBufferLen:0};function L(){let e=M.activeSession;M.activeSession=null,M.wasmSessionPtr=null,Number.isInteger(M.packetBufferPtr)&&0!=M.packetBufferPtr&&(z._free(M.packetBufferPtr),M.packetBufferPtr=0,M.packetBufferLen=0),"function"==typeof e.onStopped&&e.onStopped()}let x=null,j=null,U=null,B=null,$=null,Z=null;const z=await Promise.race([new Promise(((e,t)=>{Z=setTimeout((()=>{const e="Timed out waiting for DVWC to load";I(e),t(new h(e,O))}),o)})),(()=>{try{return D?e.wasmFake():r(F)}catch(e){throw I(e.message),new h(e.message,O)}})().catch((e=>{const t=e.message;throw I(t),new h(t,O)})).finally((()=>{null!==Z&&clearTimeout(Z)}))]),W=z.addFunction(((e,t)=>{if("function"==typeof x){const n=z.HEAPU8.subarray(e,e+t);let r=new Uint8Array(n);x(r)}}),"vii"),G=z.addFunction(((e,t)=>{if("function"==typeof j){const n=z.HEAPU8.subarray(e,e+t);let r=new Uint8Array(n);j(r)}}),"vii"),V=z.addFunction(((e,t)=>{let n=function(e){switch(e){case 0:return l.CONNECTION_STATUS_PENDING;case 1:return l.CONNECTION_STATUS_CONNECTING;case 2:return l.CONNECTION_STATUS_CONNECTED;case 3:return l.CONNECTION_STATUS_FAILED;case 4:return l.CONNECTION_STATUS_CONNECTED_DEGRADED_DOWNLINK;case 5:return l.CONNECTION_STATUS_CONNECTED_DEGRADED_UPLINK;case 6:return l.CONNECTION_STATUS_CONNECTED_DEGRADED}}(e);if("function"==typeof U){let e=0==t?null:z.UTF8ToString(t),r={connectionStatus:n};e&&(r.errorMessage=e),U(r)}n==l.CONNECTION_STATUS_FAILED&&L()}),"vii"),q=z.addFunction((e=>{if("function"==typeof B){let t=z.UTF8ToString(e);B(t)}}),"vi"),H=z.addFunction(((e,t,n,r)=>{if(null!=$){let o={};function i(e,t){const n=function(e){switch(e){case z.AlarmSeverity.green.value:return s.ALARM_SEVERITY_GREEN;case z.AlarmSeverity.amber.value:return s.ALARM_SEVERITY_AMBER;case z.AlarmSeverity.red.value:return s.ALARM_SEVERITY_RED;case z.AlarmSeverity.undefined.value:return}}(t);void 0!==n&&(o[e]=n)}i("noiseLevel",e),i("micClipping",t),i("networkUplink",n),i("networkDownlink",r),$(o)}}),"viiii");if(P){const e=new Map;for(const t in c)e.set(c[t],t);R=z.addFunction(((t,n,r,o,i)=>{const a=new Date(t),s=e.get(n);P({timestamp:a,level:s,component:z.UTF8ToString(r),msgId:z.UTF8ToString(o),message:z.UTF8ToString(i)})}),"vdiiii")}class K{constructor(){this.nChannels=0,this.nSamples=0,this.sampleSize=4,this.ptrSize=4,this.data=null}alloc(e,t){this.nChannels=e,this.nSamples=t,this.data=z._malloc(e*this.ptrSize+t*this.sampleSize*e);let n=this.data+e*this.ptrSize,r=t*this.sampleSize;for(let t=0;t<e;t++){let e=n+t*r;z.setValue(this.data+t*this.ptrSize,e,"float*")}}free(){this.data&&(z._free(this.data),this.data=null)}getDataBuffer(e,t){return(this.nSamples<t||this.nChannels!=e||null===this.data)&&(this.free(),this.alloc(e,t)),this.data}getChannelDataView(e,t){if(e<this.nChannels&&this.data){let n=z.getValue(this.data+e*this.ptrSize,"float*");return z.HEAPF32.subarray(n>>2,(n>>2)+t)}return null}getChannelDataBuffer(e){return e<this.nChannels&&this.data?z.getValue(this.data+e*this.ptrSize,"float*"):null}}let Y={activeInputAudio:null,wasmInputAudioPtr:null,inputAudioBufferWasm:new K,processInputAudio:e=>function(e,t){if(!e.activeInputAudio)return;if(!(t instanceof Float32Array))throw new v("buffer");const n=t.length;n<1||(e.inputAudioBufferWasm.getDataBuffer(1,n),e.inputAudioBufferWasm.getChannelDataView(0,n).set(t),z._ProcessInputAudio(e.inputAudioBufferWasm.getChannelDataBuffer(0),n))}(Y,e)},X={activeOutputAudio:null,wasmOutputAudioPtr:null,outputAudioBufferWasm:new K,pullOutputAudio:e=>function(e,t){if(!e.activeOutputAudio)return;if(!(Array.isArray(t)&&2===t.length&&t[0]instanceof Float32Array&&t[1]instanceof Float32Array&&t[0].length===t[1].length))return;const n=t.length,r=t[0].length;if(r<1)return;let o=e.outputAudioBufferWasm.getDataBuffer(n,r);z._PullOutputAudio(o,r,n);for(let o=0;o<n;o++)t[o].set(e.outputAudioBufferWasm.getChannelDataView(o,r))}(X,e)},J={getLastErrorPtr:z.cwrap("GetLastError","number"),getLastError:()=>{const e=J.getLastErrorPtr(),t=z.UTF8ToString(e);return z._FreeErrorString(e),t},initialize:z.cwrap("Initialize","number",["string","number"]),loadTfliteAsync:t?z.cwrap("LoadTfliteAsynchronously",null,["string","number","number"]):null,log:z.cwrap("Log","number",["number","number","number","string","string","string"])};function Q(e,t,n,r,o){const i=4294967296,a=e.valueOf(),s=a%i,c=(a-s)/i,l=J.log(s,c,t,n,r,o);if(0!=l){const e=J.getLastError();throw T?new w(`Error attempting to log message: '${e}' (logging ${r} ${o})`):(k(u.LOG_CRITICAL,b.JS,S.WASM_LOG_ERROR,`Error logging to WASM (${l}): ${e}`),new h("Error initializing Dolby Voice Web Client",O))}}function ee(e){if(null==e)return z.CaptureMode.PERSONAL;switch(e){case p.CAPTURE_MODE_PERSONAL:return z.CaptureMode.PERSONAL;case p.CAPTURE_MODE_GROUP:return z.CaptureMode.GROUP;case p.CAPTURE_MODE_TRANSPARENT:return z.CaptureMode.TRANSPARENT;case p.CAPTURE_MODE_UNIVERSAL:return z.CaptureMode.UNIVERSAL;case p.CAPTURE_MODE_MUSIC:return z.CaptureMode.MUSIC}}function te(e){switch(e){case a.COMFORT_NOISE_DEFAULT:return z.ComfortNoiseLevel.DEFAULT;case a.COMFORT_NOISE_MEDIUM:return z.ComfortNoiseLevel.MEDIUM;case a.COMFORT_NOISE_LOW:return z.ComfortNoiseLevel.LOW;case a.COMFORT_NOISE_OFF:return z.ComfortNoiseLevel.OFF}}function ne(e,t,n){if(null!=e)if("boolean"==typeof e)e||(t.delay=0,t.bitrate=z.FecBitrate.DISABLED);else{if("object"!=typeof e)throw new v(n);{if(e.hasOwnProperty("delay")&&void 0!==e.delay){if(!Number.isInteger(e.delay)||e.delay<0||e.delay>7)throw new v(n+".delay");t.delay=e.delay}if(e.hasOwnProperty("bitrate")&&void 0!==e.bitrate){let r=function(e){switch(e){case i.FEC_BITRATE_6P4:return z.FecBitrate.BITRATE_6P4;case i.FEC_BITRATE_8P0:return z.FecBitrate.BITRATE_8P0;case i.FEC_BITRATE_9P6:return z.FecBitrate.BITRATE_9P6;case i.FEC_BITRATE_11P2:return z.FecBitrate.BITRATE_11P2;case i.FEC_BITRATE_12P8:return z.FecBitrate.BITRATE_12P8;case i.FEC_BITRATE_14P4:return z.FecBitrate.BITRATE_14P4;case i.FEC_BITRATE_16P0:return z.FecBitrate.BITRATE_16P0;case i.FEC_BITRATE_17P6:return z.FecBitrate.BITRATE_17P6;case i.FEC_BITRATE_19P2:return z.FecBitrate.BITRATE_19P2;case i.FEC_BITRATE_20P8:return z.FecBitrate.BITRATE_20P8;case i.FEC_BITRATE_22P4:return z.FecBitrate.BITRATE_22P4;case i.FEC_BITRATE_24P0:return z.FecBitrate.BITRATE_24P0}}(e.bitrate);if(void 0===r)throw new v(n+".bitrate");t.bitrate=r}let r=new z.VectorFloat;if(e.hasOwnProperty("dynamicThresholds")&&void 0!==e.dynamicThresholds){if(!Array.isArray(e.dynamicThresholds))throw new v(n+".dynamicThresholds");let o=0;for(const t of e.dynamicThresholds){if("number"!=typeof t||t>100||t<o||t<0)throw new v(n+".dynamicThresholds");o=t,r.push_back(t)}if(e.hasOwnProperty("dynamicDecay")&&void 0!==e.dynamicDecay){if(!Number.isInteger(e.dynamicDecay)||e.dynamicDecay<0)throw new v(n+".dynamicDecay");t.dynamicDecay=e.dynamicDecay}}else if(0===e.delay)throw new v(n+".delay");t.dynamicThresholds=r}}}function re(e,t){if(null!=e){if("object"!=typeof e)throw new v(t);if(!e.hasOwnProperty("burstLength"))throw new v(t+".burstLength");if(!e.hasOwnProperty("gapLength")){if(!e.hasOwnProperty("burstLength")||void 0===e.burstLength||!Number.isInteger(e.burstLength)||0!==e.burstLength)throw new v(t+".gapLength");return void(e.gapLength=0)}if(void 0===e.gapLength||!Number.isInteger(e.gapLength)||e.gapLength<0||e.gapLength>36e5)throw new v(t+".gapLength");if(void 0===e.burstLength||!Number.isInteger(e.burstLength)||e.burstLength<0||e.burstLength>6e4)throw new v(t+".burstLength")}}function oe(e){const t=void 0!==e.name?e.name+": ":"",n=void 0!==e.errno?` (errno: ${e.errno})`:"";return t+e.message+n}function ie(e){const t=function(e){if(void 0===e)return z.StateDumpMode.NORMAL;switch(e){case d.STATE_DUMP_MODE_NORMAL:return z.StateDumpMode.NORMAL;case d.STATE_DUMP_MODE_LITE:return z.StateDumpMode.LITE}}(e);if(void 0===t)throw new v("mode");let n=z.createStateDump(t);if(0!=n){const e=J.getLastError();throw new w(`Failed to create state dump (${n}): ${e}`)}const r="state_dump.zip";if(z.FS.analyzePath(r).exists){let e=null;try{e=z.FS.readFile(r)}catch(e){throw new w(oe(e))}var o;try{z.FS.unlink(r)}catch(e){o=oe(e)}let t={type:"zip",content:new Blob([e.buffer],{type:"application/zip"})};return o&&(t.internalDiagnostic=o),t}throw new w("Failed to create state dump. File 'state_dump.zip' does not exist.")}let ae=z._InitializeLog(N,R);if(0!=ae){const e=J.getLastError();throw k(u.LOG_CRITICAL,b.JS,S.WASM_LOG_INIT_ERROR,`Failed to initialize WASM logging (${ae}): ${e}`),new h("Error initializing Dolby Voice Web Client",O)}A.forEach((e=>{Q(e.timestamp,c[e.level],e.component,e.msgId,e.message)})),T=!0;let se="unknown";"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(se=navigator.userAgent);let ue=null;t&&(function(e,t){function n(e,t){if(!e.hasOwnProperty("name")||"string"!=typeof e.name)throw new v(t+".name");if(!e.hasOwnProperty("fileUrl")||"string"!=typeof e.fileUrl)throw new v(t+".fileUrl")}if(null!=e){if("object"!=typeof e)throw new v("dnrConfig");if(!e.hasOwnProperty("libraryUrl")||"string"!=typeof e.libraryUrl)throw new v("dnrConfig.libraryUrl");if(!e.hasOwnProperty("mainModel"))throw new v("dnrConfig.mainModel");if(n(e.mainModel,"dnrConfig.mainModel"),!e.hasOwnProperty("sideModels")||!Array.isArray(e.sideModels))throw new v("dnrConfig.sideModels");for(let t=0;t<e.sideModels.length;t++)n(e.sideModels[t],"dnrConfig.sideModels["+t+"]")}}(t),await async function(e){let t,n,r=new Promise(((e,r)=>{t=e,n=r})),o=z.addFunction((function(){t()}),"v"),i=z.addFunction((function(e){n(z.UTF8ToString(e))}),"vi");J.loadTfliteAsync(e,o,i);try{await r}catch(e){return k(u.LOG_ERROR,b.JS,S.WASM_DNR_LOAD_ERROR,e),!1}return!0}(t.libraryUrl)&&(ue=await async function(e){if(null==e)return new z.DnrModelsConfiguration;let t=[],n=new z.VectorDnrModelProperties;async function r(e){const r=await fetch(e.fileUrl),o=await r.arrayBuffer();n.push_back({modelName:e.name,modelLength:o.byteLength}),t.push(new Uint8Array(o))}await r(e.mainModel);for(const t of e.sideModels)await r(t);let o=new z.DnrModelsConfiguration(n);try{t.forEach(((e,t)=>{z.HEAPU8.set(e,o.getModelBufferAddress(t))}))}finally{n.delete()}return o}(t)));try{ae=J.initialize(se,ue?ue.getAddress():null)}finally{ue&&ue.delete()}if(0!=ae){const e=J.getLastError();throw new h("Error initializing Dolby Voice Web Client: "+e,ie)}z._RegisterCallbacks(W,G,q,H,V);class ce{constructor(e,t){ge(e),Y.wasmInputAudioPtr=null;let n=new z.InputAudioConfig;try{if(null!=t){if("object"!=typeof t)throw new v("config");if(t.hasOwnProperty("captureMode")){let e=ee(t.captureMode);if(void 0===e)throw new v("config.captureMode");n.captureMode=e}if(t.hasOwnProperty("typingNoiseSuppression")){if("boolean"!=typeof t.typingNoiseSuppression)throw new v("config.typingNoiseSuppression");n.typingNoiseSuppression=t.typingNoiseSuppression}if(t.hasOwnProperty("refBulkGainDb")){if("number"!=typeof t.refBulkGainDb)throw new v("config.refBulkGainDb");n.refBulkGainDb=t.refBulkGainDb}if(t.hasOwnProperty("aecOn")){if("boolean"!=typeof t.aecOn)throw new v("config.aecOn");n.aecOn=t.aecOn}}Y.wasmInputAudioPtr=z.createInputAudio(e,n)}finally{n.delete()}if(null==Y.wasmInputAudioPtr||0==Y.wasmInputAudioPtr){const e=J.getLastError();throw new w(`Failed to create input audio:  '${e}'`)}}async destroy(){return new Promise((function(e){z._DestroyInputAudio(),e(),Y.activeInputAudio=null,Y.inputAudioBufferWasm.free()}))}processInputAudio(e){Y.processInputAudio(e)}getAudioStats(){return Y.wasmInputAudioPtr.getStatistics()}setCaptureMode(e){let t=ee(e);if(void 0===t)throw new v("mode");Y.wasmInputAudioPtr.setCaptureMode(t)}getCaptureMode(){return function(e){switch(e){case z.CaptureMode.PERSONAL:return p.CAPTURE_MODE_PERSONAL;case z.CaptureMode.GROUP:return p.CAPTURE_MODE_GROUP;case z.CaptureMode.TRANSPARENT:return p.CAPTURE_MODE_TRANSPARENT;case z.CaptureMode.UNIVERSAL:return p.CAPTURE_MODE_UNIVERSAL;case z.CaptureMode.MUSIC:return p.CAPTURE_MODE_MUSIC}}(Y.wasmInputAudioPtr.getCaptureMode())}setEchoCancellation(e){switch(null==e&&Y.wasmInputAudioPtr.setEchoCancellation(!0),e){case f.DEFAULT:case f.ON:Y.wasmInputAudioPtr.setEchoCancellation(!0);break;case f.OFF:Y.wasmInputAudioPtr.setEchoCancellation(!1)}}getEchoCancellation(){return Y.wasmInputAudioPtr.getEchoCancellation()?f.ON:f.OFF}}class le{constructor(e,t){ge(e),X.wasmOutputAudioPtr=null;let n=new z.OutputAudioConfig;try{if(null!=t){if("object"!=typeof t)throw new v("config");if(t.hasOwnProperty("outputDeviceType")){let e=function(e){switch(e){case _.OUTPUT_DEVICE_TYPE_SPEAKERS:return z.OutputDeviceType.SPEAKERS;case _.OUTPUT_DEVICE_TYPE_HEADPHONES:return z.OutputDeviceType.HEADPHONES}}(t.outputDeviceType);if(void 0===e)throw new v("config.outputDeviceType");n.outputDeviceType=e}if(t.hasOwnProperty("comfortNoiseLevel")){let e=te(t.comfortNoiseLevel);if(void 0===e)throw new v("config.comfortNoiseLevel");n.comfortNoiseLevel=e}n.linearEchoDevice=C}X.wasmOutputAudioPtr=z.createOutputAudio(e,n)}finally{n.delete()}if(null==X.wasmOutputAudioPtr||0==X.wasmOutputAudioPtr){const e=J.getLastError();throw new w(`Failed to create output audio:  '${e}'`)}}async destroy(){return new Promise((function(e){z._DestroyOutputAudio(),e(),X.activeOutputAudio=null,X.outputAudioBufferWasm.free()}))}pullOutputAudio(e){X.pullOutputAudio(e)}getAudioStats(){return X.wasmOutputAudioPtr.getStatistics()}setComfortNoiseLevel(e){let t=te(e);if(void 0===t)throw new v("level");X.wasmOutputAudioPtr.setComfortNoiseLevel(t)}getComfortNoiseLevel(){return function(e){switch(e){case z.ComfortNoiseLevel.DEFAULT:return a.COMFORT_NOISE_DEFAULT;case z.ComfortNoiseLevel.MEDIUM:return a.COMFORT_NOISE_MEDIUM;case z.ComfortNoiseLevel.LOW:return a.COMFORT_NOISE_LOW;case z.ComfortNoiseLevel.OFF:return a.COMFORT_NOISE_OFF}}(X.wasmOutputAudioPtr.getComfortNoiseLevel())}}class _e{constructor(e,t){x=e,M.wasmSessionPtr=null;let n=new z.SessionConfig;try{if(null!=t){if("object"!=typeof t)throw new v("config");if(t.hasOwnProperty("callbacksConfig")){let e=t.callbacksConfig;if(e.hasOwnProperty("connectionStatusChanged")){if("function"!=typeof e.connectionStatusChanged)throw new v("config.callbacksConfig.connectionStatusChanged");U=e.connectionStatusChanged}if(e.hasOwnProperty("sessionIdChanged")){if("function"!=typeof e.sessionIdChanged)throw new v("config.callbacksConfig.sessionIdChanged");B=e.sessionIdChanged}if(e.hasOwnProperty("rtcpPacketCallback")){if("function"!=typeof e.rtcpPacketCallback)throw new v("config.callbacksConfig.rtcpPacketCallback");let o,i;if(j=e.rtcpPacketCallback,t.hasOwnProperty("rtcpConfig")&&null!=t.rtcpConfig){let e=t.rtcpConfig;if("object"!=typeof e)throw new v("config.rtcpConfig");if(!e.hasOwnProperty("initialDelay")||!Number.isInteger(e.initialDelay))throw new v("config.rtcpConfig.initialDelay");if(o=e.initialDelay,!e.hasOwnProperty("sendInterval")||!Number.isInteger(e.sendInterval))throw new v("config.rtcpConfig.sendInterval");i=e.sendInterval}else o=1e3,i=2e3;var r=new z.OptionalRtcpConfig(o,i);n.rtcpConfig=r}}if(t.hasOwnProperty("fec")){var o=new z.FecConfig;ne(t.fec,o,"config.fec"),n.fec=o}if(t.hasOwnProperty("downlinkMinimumLatency")){if(!Number.isInteger(t.downlinkMinimumLatency)||t.downlinkMinimumLatency>900||t.downlinkMinimumLatency<0)throw new v("config.downlinkMinimumLatency");n.downlinkMinimumLatency=t.downlinkMinimumLatency}if(t.hasOwnProperty("networkProbingConfig")){re(t.networkProbingConfig,"config.networkProbingConfig");var i=new z.OptionalNetworkProbingConfig(t.networkProbingConfig.gapLength,t.networkProbingConfig.burstLength);n.networkProbingConfig=i}if(t.hasOwnProperty("inputMute")){if("boolean"!=typeof t.inputMute)throw new v("config.inputMute");n.inputMute=t.inputMute}if(t.hasOwnProperty("outputMute")){if("boolean"!=typeof t.outputMute)throw new v("config.outputMute");n.outputMute=t.outputMute}if(t.hasOwnProperty("clevtEnabled")){if("boolean"!=typeof t.clevtEnabled)throw new v("config.clevtEnabled");n.clevtEnabled=t.clevtEnabled}if(t.hasOwnProperty("protocolConfig")){!function(e,t){if(null!=e){if("object"!=typeof e)throw new v(t);if(e.hasOwnProperty("connectionTimeout")&&(!Number.isInteger(e.connectionTimeout)||e.connectionTimeout<0||e.connectionTimeout>36e5))throw new v(t+".connectionTimeout");if(e.hasOwnProperty("heartbeatInterval")&&(!Number.isInteger(e.heartbeatInterval)||e.heartbeatInterval<200||e.heartbeatInterval>36e5))throw new v(t+".heartbeatInterval")}}(t.protocolConfig,"config.protocolConfig");var a=new z.OptionalProtocolConfig(t.protocolConfig.connectionTimeout||15,t.protocolConfig.heartbeatInterval||1e3);n.protocolConfig=a}}M.wasmSessionPtr=z.startSession(n)}finally{void 0!==o&&(o.dynamicThresholds.delete(),o.delete()),void 0!==i&&i.delete(),void 0!==a&&a.delete(),void 0!==r&&r.delete(),n.delete()}if(this.onStopped=null,null==M.wasmSessionPtr||0==M.wasmSessionPtr)throw new w("Failed to create session.")}stopSession(){z._StopSession(),L()}handlePacket(e){if(!(e instanceof ArrayBuffer))throw new v("packet");{let t=e.byteLength;t>M.packetBufferLen&&(z._free(M.packetBufferPtr),M.packetBufferPtr=z._malloc(t),M.packetBufferLen=t),z.HEAPU8.set(new Uint8Array(e),M.packetBufferPtr),z._HandleRtpPacket(M.packetBufferPtr,t)}}setFec(e){let t=new z.FecConfig;try{ne(e,t,"config"),M.wasmSessionPtr.setFec(t)}finally{t.dynamicThresholds.delete(),t.delete()}}setDownlinkMinimumLatency(e){if(!Number.isInteger(e)||e>900||e<0)throw new v("latency");M.wasmSessionPtr.setDownlinkMinimumLatency(e)}getDownlinkMinimumLatency(){return M.wasmSessionPtr.getDownlinkMinimumLatency()}setNetworkProbingParameters(e){if(null==e)throw new v("config");re(e,"config");let t=new z.NetworkProbingConfig(e.gapLength,e.burstLength);try{M.wasmSessionPtr.setNetworkProbingParameters(t)}finally{t.delete()}}setInputMute(e){if("boolean"!=typeof e)throw new v("mute");M.wasmSessionPtr.setInputMute(e)}setOutputMute(e){if("boolean"!=typeof e)throw new v("mute");M.wasmSessionPtr.setOutputMute(e)}getTalkingLevels(){let e=M.wasmSessionPtr.getTalkingLevels(),t=new Array;for(let n=0;n<e.size();n++)t.push(e.get(n));return t}setClientRotation(e,t,n){if("number"!=typeof e||e<0||e>360)throw new v("yaw");if("number"!=typeof t||t<0||t>360)throw new v("pitch");if("number"!=typeof n||n<0||n>360)throw new v("roll");M.wasmSessionPtr.setClientRotation(e,t,n)}getStats(){return M.wasmSessionPtr.getStatistics()}}class pe{constructor(){}startSession(e,t){if(null!=M.activeSession)throw new y("Session has already started.");if("function"!=typeof e)throw new v("packetCallback");return M.activeSession=new _e(e,t),M.activeSession}createInputAudio(e,t){if(null!=Y.activeInputAudio)throw new y("Input Audio is already created.");return Y.activeInputAudio=new ce(e,t),Y.activeInputAudio}createOutputAudio(e,t){if(null!=X.activeOutputAudio)throw new y("Output Audio is already created.");return X.activeOutputAudio=new le(e,t),X.activeOutputAudio}createStateDump(e){return ie(e)}getAudioLoggingLength(){return z.getAudioLoggingLength()}setAudioLoggingLength(e){if(!Number.isInteger(e)||e>200||e<0)throw new v("length");z.setAudioLoggingLength(e)}registerAlarmCallback(e){$=e}}function fe(e){switch(typeof e){case"undefined":return"<undefined>";case"function":return"<callback>";case"string":return`"${e}"`}return Array.isArray(e)?"["+e.map(fe).join(", ")+"]":null===e?"<null>":e.toString()}function de(e){return null==e||"object"!=typeof e?fe(e):"{"+Object.keys(e).map((t=>t+": "+fe(e[t]))).join(", ")+"}"}function me(e){if(e!==M.activeSession)throw new g("This Session object is no longer active.")}function he(e){if(e!==Y.activeInputAudio)throw new g("This InputAudio object is no longer active.")}function ve(e){if(e!==X.activeOutputAudio)throw new g("This OutputAudio object is no longer active.")}function ge(e){if(![8e3,16e3,22050,24e3,32e3,44100,48e3,88200,96e3,192e3].includes(e))throw new v("sampleRate")}function ye(e,t,n,r,o){return function(...i){!function(e,t,n,r=[]){let o=`Entered method ${e}#${t}(`+n.map(((e,t)=>(r[t]||fe)(e))).join(", ")+")";k(u.LOG_INFO,b.API,S.API_ENTRY,o)}(e,t,i,r);try{const r=n.apply(this,i);return function(e,t,n,r=fe){let o=`Exiting method ${e}#${t}`;void 0!==n&&(o+=" with return value ",o+=r(n)),k(u.LOG_INFO,b.API,S.API_EXIT,o)}(e,t,r,o),r}catch(n){throw k(u.LOG_ERROR,b.API,S.API_THROW,`Method ${e}#${t} throwing exception ${n.name}`),n}}}function we(e,t){return function(...n){return t(this),e.apply(this,n)}}var Ee={classes:[pe,_e,ce,le],[pe.name]:function(e){},[_e.name]:function(e){return me},[ce.name]:function(e){return he},[le.name]:function(e){return ve}};const be={};var Se={classes:[pe,_e,ce,le],[pe.name]:{startSession:{paramFormat:[void 0,function(e){if(null==e||"object"!=typeof e)return fe(e);const t={fec:de,downlinkMinimumLatency:fe,networkProbingConfig:de,callbacksConfig:de,inputMute:fe,outputMute:fe,clevtEnabled:fe,protocolConfig:de};let n=Object.keys(t).filter((t=>t in e)).map((n=>n+": "+t[n](e[n])));for(const r in e)r in t||n.push(`${r}: ${fe(e[r])}`);return"{"+n.join(", ")+"}"}],resultFormat:e=>e instanceof _e?"<session object>":fe(e)},createInputAudio:{paramFormat:[void 0,de],resultFormat:e=>e instanceof ce?"<input audio object>":fe(e)},createOutputAudio:{paramFormat:[void 0,de],resultFormat:e=>e instanceof le?"<output audio object>":fe(e)},createStateDump:{resultFormat:de}},[_e.name]:{handlePacket:be,getTalkingLevels:{resultFormat:function(e){return Array.isArray(e)?"["+e.map(de).join(", ")+"]":fe(e)}},getStats:{resultFormat:de},setFec:{paramFormat:[de]},setNetworkProbingParameters:{paramFormat:[de]}},[ce.name]:{processInputAudio:be,getAudioStats:{resultFormat:de}},[le.name]:{pullOutputAudio:be,getAudioStats:{resultFormat:de}}};for(const e of Se.classes){const t=e.name,n=Object.getOwnPropertyNames(e.prototype);for(const r of n){const n=void 0===Se[t]?void 0:Se[t][r],o=void 0===Ee[t]?void 0:Ee[t](r);"function"==typeof o&&"constructor"!=r&&(e.prototype[r]=we(e.prototype[r],o)),"constructor"!=r&&n!=be&&"function"==typeof e.prototype[r]&&(e.prototype[r]=ye(t,r,e.prototype[r],n&&n.paramFormat,n&&n.resultFormat))}}return new Promise((e=>e(new pe)))}(t,e.dnrConfig,e.urlPrefix,45e3,e.osIsWindows),M.registerAlarmCallback(Z),z(e)}))))}(e.data.data);break;case"join":!function(e){const t=e.sessionConfig||{};t.callbacksConfig={connectionStatusChanged:G,rtcpPacketCallback:W},t.hasOwnProperty("fec")||(t.fec={delay:1,bitrate:i.FEC_BITRATE_16P0}),L=M.startSession(W,t),postMessage({type:"session-created"}),L.onStopped=()=>{L=null,postMessage({type:"session-stopped"})}}(e.data);break;case"leave":!function(){try{L.stopSession()}catch(e){postMessage({type:"stop-session-rejected",reason:e.message})}}();break;case"start-input-audio":X=e.data.inputAudioConfig,x.start(X);break;case"start-output-audio":!function(e){j.start(e)}(e.data.outputAudioConfig);break;case"stop-input-audio":x.stop();break;case"release-request":!function(){V("release",(()=>I(this,void 0,void 0,(function*(){yield function(){return I(this,void 0,void 0,(function*(){yield x.stop(),yield j.stop(),U&&(U.close(),U=null)}))}()}))))}();break;case"packet":Y=e.data.packet,L&&L.handlePacket(Y),postMessage({type:"no-op",data:Y},[Y]);break;case"input-mute":K=e.data.mute,L&&L.setInputMute(K);break;case"set-output-mute":H=e.data.isMuted,L&&L.setOutputMute(H);break;case"set-client-rotation":F=e.data.yaw,R=e.data.pitch,q=e.data.roll,L&&L.setClientRotation(Number(F),Number(R),Number(q));break;case"audio-logging-length":D=e.data.length,M.setAudioLoggingLength(D);break;case"state-dump-request":!function(e){const t=e?d.STATE_DUMP_MODE_LITE:d.STATE_DUMP_MODE_NORMAL;V("state-dump",(()=>M.createStateDump(t)))}(e.data.data.liteMode);break;case"get-input-level":postMessage({type:"input-level",level:(null==x?void 0:x.dvwcAudio)?x.dvwcAudio.getAudioStats().procTransmitLevel:-1/0});break;case"get-talkers":!function(){const e=L?L.getTalkingLevels():[];postMessage({type:"talkers",levels:e})}();break;case"stats-request":V("stats",(()=>{var e,t;return Object.assign(Object.assign({},L?L.getStats():{}),{inputAudioStats:null===(e=null==x?void 0:x.dvwcAudio)||void 0===e?void 0:e.getAudioStats(),outputAudioStats:null===(t=null==j?void 0:j.dvwcAudio)||void 0===t?void 0:t.getAudioStats(),totalAudioEnergy:$.audioStats.totalAudioEnergy,totalSamplesDuration:$.audioStats.totalSamplesDuration})}));break;case"alarms-request":V("alarms",(()=>B));break;case"set-transparent-mode-request":k=e.data.data.transparent,V("set-transparent-mode",(()=>{x.setTransparentMode(k)}));break;case"get-capture-mode-request":V("get-capture-mode",(()=>function(e,t){let n;switch(e){case p.CAPTURE_MODE_TRANSPARENT:n={mode:A.Unprocessed};break;case p.CAPTURE_MODE_PERSONAL:n={mode:A.Standard,modeOptions:{noiseReductionLevel:T.High}};break;case p.CAPTURE_MODE_UNIVERSAL:n={mode:A.Standard,modeOptions:{noiseReductionLevel:T.Low}};break;case p.CAPTURE_MODE_MUSIC:const e=function(e){switch(e){case f.OFF:return N.Off;case f.ON:return N.On;default:case f.DEFAULT:return N.Default}}(t);n={mode:A.Music,modeOptions:{echoCancellation:e}}}return n}(x.getCaptureMode(),x.getEchoCancellation())));break;case"set-capture-mode-request":o=e.data.data,V("set-capture-mode",(()=>{x.setCaptureMode(function(e){var t;if(e&&e.mode)switch(e.mode){case A.Unprocessed:return p.CAPTURE_MODE_TRANSPARENT;case A.Music:return p.CAPTURE_MODE_MUSIC;case A.Standard:switch(void 0!==(null===(t=e.modeOptions)||void 0===t?void 0:t.noiseReductionLevel)?e.modeOptions.noiseReductionLevel:T.High){case T.High:return p.CAPTURE_MODE_PERSONAL;case T.Low:return p.CAPTURE_MODE_UNIVERSAL}}throw new Error("Failed to convert audio processing options to DVWC options")}(o))}));break;case"set-echo-cancellation-request":n=e.data.data,V("set-echo-cancellation",(()=>{x.setEchoCancellation(function(e){switch(e){case N.Off:return f.OFF;case N.On:return f.ON;case N.Default:default:return f.DEFAULT}}(n))}));break;case"set-comfort-noise-request":t=e.data.data.level,V("set-comfort-noise",(()=>{j.setComfortNoise(function(e){switch(e){case C.Off:return a.COMFORT_NOISE_OFF;case C.Low:return a.COMFORT_NOISE_LOW;case C.Medium:return a.COMFORT_NOISE_MEDIUM;case C.Default:return a.COMFORT_NOISE_DEFAULT}}(t))}));break;case"get-comfort-noise-request":V("get-comfort-noise",(()=>function(e){switch(e){case a.COMFORT_NOISE_OFF:return C.Off;case a.COMFORT_NOISE_LOW:return C.Low;case a.COMFORT_NOISE_MEDIUM:return C.Medium;case a.COMFORT_NOISE_DEFAULT:return C.Default}}(j.getComfortNoise())));break;case"reconnect-audio-request":P=e.data.data,V("reconnect-audio",(()=>z(P)))}var t,n,o,P,k,D,F,R,q,H,K,Y,X},postMessage({type:"worker-loaded"})}(),r.default}()}));